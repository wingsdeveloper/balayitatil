/*
 Copyright (C) Federico Zivolo 2017
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */
 (function (e, t) {
    'object' == typeof exports && 'undefined' != typeof module ? module.exports = t() : 'function' == typeof define && define.amd ? define(t) : e.Popper = t()
})(this, function () {
    'use strict';

    function e(e) {
        return e && '[object Function]' === {}.toString.call(e)
    }

    function t(e, t) {
        if (1 !== e.nodeType) return [];
        var o = window.getComputedStyle(e, null);
        return t ? o[t] : o
    }

    function o(e) {
        return 'HTML' === e.nodeName ? e : e.parentNode || e.host
    }

    function n(e) {
        if (!e || -1 !== ['HTML', 'BODY', '#document'].indexOf(e.nodeName)) return window.document.body;
        var i = t(e), r = i.overflow, p = i.overflowX, s = i.overflowY;
        return /(auto|scroll)/.test(r + s + p) ? e : n(o(e))
    }

    function r(e) {
        var o = e && e.offsetParent, i = o && o.nodeName;
        return i && 'BODY' !== i && 'HTML' !== i ? -1 !== ['TD', 'TABLE'].indexOf(o.nodeName) && 'static' === t(o, 'position') ? r(o) : o : window.document.documentElement
    }

    function p(e) {
        var t = e.nodeName;
        return 'BODY' !== t && ('HTML' === t || r(e.firstElementChild) === e)
    }

    function s(e) {
        return null === e.parentNode ? e : s(e.parentNode)
    }

    function d(e, t) {
        if (!e || !e.nodeType || !t || !t.nodeType) return window.document.documentElement;
        var o = e.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_FOLLOWING, i = o ? e : t, n = o ? t : e,
            a = document.createRange();
        a.setStart(i, 0), a.setEnd(n, 0);
        var l = a.commonAncestorContainer;
        if (e !== l && t !== l || i.contains(n)) return p(l) ? l : r(l);
        var f = s(e);
        return f.host ? d(f.host, t) : d(e, s(t).host)
    }

    function a(e) {
        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 'top',
            o = 'top' === t ? 'scrollTop' : 'scrollLeft', i = e.nodeName;
        if ('BODY' === i || 'HTML' === i) {
            var n = window.document.documentElement, r = window.document.scrollingElement || n;
            return r[o]
        }
        return e[o]
    }

    function l(e, t) {
        var o = 2 < arguments.length && void 0 !== arguments[2] && arguments[2], i = a(t, 'top'), n = a(t, 'left'),
            r = o ? -1 : 1;
        return e.top += i * r, e.bottom += i * r, e.left += n * r, e.right += n * r, e
    }

    function f(e, t) {
        var o = 'x' === t ? 'Left' : 'Top', i = 'Left' == o ? 'Right' : 'Bottom';
        return +e['border' + o + 'Width'].split('px')[0] + +e['border' + i + 'Width'].split('px')[0]
    }

    function m(e, t, o, i) {
        return X(t['offset' + e], t['scroll' + e], o['client' + e], o['offset' + e], o['scroll' + e], ne() ? o['offset' + e] + i['margin' + ('Height' === e ? 'Top' : 'Left')] + i['margin' + ('Height' === e ? 'Bottom' : 'Right')] : 0)
    }

    function c() {
        var e = window.document.body, t = window.document.documentElement, o = ne() && window.getComputedStyle(t);
        return {height: m('Height', e, t, o), width: m('Width', e, t, o)}
    }

    function h(e) {
        return de({}, e, {right: e.left + e.width, bottom: e.top + e.height})
    }

    function g(e) {
        var o = {};
        if (ne()) try {
            o = e.getBoundingClientRect();
            var i = a(e, 'top'), n = a(e, 'left');
            o.top += i, o.left += n, o.bottom += i, o.right += n
        } catch (e) {
        } else o = e.getBoundingClientRect();
        var r = {left: o.left, top: o.top, width: o.right - o.left, height: o.bottom - o.top},
            p = 'HTML' === e.nodeName ? c() : {}, s = p.width || e.clientWidth || r.right - r.left,
            d = p.height || e.clientHeight || r.bottom - r.top, l = e.offsetWidth - s, m = e.offsetHeight - d;
        if (l || m) {
            var g = t(e);
            l -= f(g, 'x'), m -= f(g, 'y'), r.width -= l, r.height -= m
        }
        return h(r)
    }

    function u(e, o) {
        var i = ne(), r = 'HTML' === o.nodeName, p = g(e), s = g(o), d = n(e), a = t(o),
            f = +a.borderTopWidth.split('px')[0], m = +a.borderLeftWidth.split('px')[0],
            c = h({top: p.top - s.top - f, left: p.left - s.left - m, width: p.width, height: p.height});
        if (c.marginTop = 0, c.marginLeft = 0, !i && r) {
            var u = +a.marginTop.split('px')[0], b = +a.marginLeft.split('px')[0];
            c.top -= f - u, c.bottom -= f - u, c.left -= m - b, c.right -= m - b, c.marginTop = u, c.marginLeft = b
        }
        return (i ? o.contains(d) : o === d && 'BODY' !== d.nodeName) && (c = l(c, o)), c
    }

    function b(e) {
        var t = window.document.documentElement, o = u(e, t), i = X(t.clientWidth, window.innerWidth || 0),
            n = X(t.clientHeight, window.innerHeight || 0), r = a(t), p = a(t, 'left'),
            s = {top: r - o.top + o.marginTop, left: p - o.left + o.marginLeft, width: i, height: n};
        return h(s)
    }

    function y(e) {
        var i = e.nodeName;
        return 'BODY' === i || 'HTML' === i ? !1 : 'fixed' === t(e, 'position') || y(o(e))
    }

    function w(e, t, i, r) {
        var p = {top: 0, left: 0}, s = d(e, t);
        if ('viewport' === r) p = b(s); else {
            var a;
            'scrollParent' === r ? (a = n(o(e)), 'BODY' === a.nodeName && (a = window.document.documentElement)) : 'window' === r ? a = window.document.documentElement : a = r;
            var l = u(a, s);
            if ('HTML' === a.nodeName && !y(s)) {
                var f = c(), m = f.height, h = f.width;
                p.top += l.top - l.marginTop, p.bottom = m + l.top, p.left += l.left - l.marginLeft, p.right = h + l.left
            } else p = l
        }
        return p.left += i, p.top += i, p.right -= i, p.bottom -= i, p
    }

    function E(e) {
        var t = e.width, o = e.height;
        return t * o
    }

    function v(e, t, o, i, n) {
        var r = 5 < arguments.length && void 0 !== arguments[5] ? arguments[5] : 0;
        if (-1 === e.indexOf('auto')) return e;
        var p = w(o, i, r, n), s = {
            top: {width: p.width, height: t.top - p.top},
            right: {width: p.right - t.right, height: p.height},
            bottom: {width: p.width, height: p.bottom - t.bottom},
            left: {width: t.left - p.left, height: p.height}
        }, d = Object.keys(s).map(function (e) {
            return de({key: e}, s[e], {area: E(s[e])})
        }).sort(function (e, t) {
            return t.area - e.area
        }), a = d.filter(function (e) {
            var t = e.width, i = e.height;
            return t >= o.clientWidth && i >= o.clientHeight
        }), l = 0 < a.length ? a[0].key : d[0].key, f = e.split('-')[1];
        return l + (f ? '-' + f : '')
    }

    function x(e, t, o) {
        var i = d(t, o);
        return u(o, i)
    }

    function O(e) {
        var t = window.getComputedStyle(e), o = parseFloat(t.marginTop) + parseFloat(t.marginBottom),
            i = parseFloat(t.marginLeft) + parseFloat(t.marginRight),
            n = {width: e.offsetWidth + i, height: e.offsetHeight + o};
        return n
    }

    function L(e) {
        var t = {left: 'right', right: 'left', bottom: 'top', top: 'bottom'};
        return e.replace(/left|right|bottom|top/g, function (e) {
            return t[e]
        })
    }

    function S(e, t, o) {
        o = o.split('-')[0];
        var i = O(e), n = {width: i.width, height: i.height}, r = -1 !== ['right', 'left'].indexOf(o),
            p = r ? 'top' : 'left', s = r ? 'left' : 'top', d = r ? 'height' : 'width', a = r ? 'width' : 'height';
        return n[p] = t[p] + t[d] / 2 - i[d] / 2, n[s] = o === s ? t[s] - i[a] : t[L(s)], n
    }

    function T(e, t) {
        return Array.prototype.find ? e.find(t) : e.filter(t)[0]
    }

    function C(e, t, o) {
        if (Array.prototype.findIndex) return e.findIndex(function (e) {
            return e[t] === o
        });
        var i = T(e, function (e) {
            return e[t] === o
        });
        return e.indexOf(i)
    }

    function N(t, o, i) {
        var n = void 0 === i ? t : t.slice(0, C(t, 'name', i));
        return n.forEach(function (t) {
            t.function && console.warn('`modifier.function` is deprecated, use `modifier.fn`!');
            var i = t.function || t.fn;
            t.enabled && e(i) && (o.offsets.popper = h(o.offsets.popper), o.offsets.reference = h(o.offsets.reference), o = i(o, t))
        }), o
    }

    function k() {
        if (!this.state.isDestroyed) {
            var e = {instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {}};
            e.offsets.reference = x(this.state, this.popper, this.reference), e.placement = v(this.options.placement, e.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), e.originalPlacement = e.placement, e.offsets.popper = S(this.popper, e.offsets.reference, e.placement), e.offsets.popper.position = 'absolute', e = N(this.modifiers, e), this.state.isCreated ? this.options.onUpdate(e) : (this.state.isCreated = !0, this.options.onCreate(e))
        }
    }

    function W(e, t) {
        return e.some(function (e) {
            var o = e.name, i = e.enabled;
            return i && o === t
        })
    }

    function B(e) {
        for (var t = [!1, 'ms', 'Webkit', 'Moz', 'O'], o = e.charAt(0).toUpperCase() + e.slice(1), n = 0; n < t.length - 1; n++) {
            var i = t[n], r = i ? '' + i + o : e;
            if ('undefined' != typeof window.document.body.style[r]) return r
        }
        return null
    }

    function P() {
        return this.state.isDestroyed = !0, W(this.modifiers, 'applyStyle') && (this.popper.removeAttribute('x-placement'), this.popper.style.left = '', this.popper.style.position = '', this.popper.style.top = '', this.popper.style[B('transform')] = ''), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this
    }

    function D(e, t, o, i) {
        var r = 'BODY' === e.nodeName, p = r ? window : e;
        p.addEventListener(t, o, {passive: !0}), r || D(n(p.parentNode), t, o, i), i.push(p)
    }

    function H(e, t, o, i) {
        o.updateBound = i, window.addEventListener('resize', o.updateBound, {passive: !0});
        var r = n(e);
        return D(r, 'scroll', o.updateBound, o.scrollParents), o.scrollElement = r, o.eventsEnabled = !0, o
    }

    function A() {
        this.state.eventsEnabled || (this.state = H(this.reference, this.options, this.state, this.scheduleUpdate))
    }

    function M(e, t) {
        return window.removeEventListener('resize', t.updateBound), t.scrollParents.forEach(function (e) {
            e.removeEventListener('scroll', t.updateBound)
        }), t.updateBound = null, t.scrollParents = [], t.scrollElement = null, t.eventsEnabled = !1, t
    }

    function I() {
        this.state.eventsEnabled && (window.cancelAnimationFrame(this.scheduleUpdate), this.state = M(this.reference, this.state))
    }

    function R(e) {
        return '' !== e && !isNaN(parseFloat(e)) && isFinite(e)
    }

    function U(e, t) {
        Object.keys(t).forEach(function (o) {
            var i = '';
            -1 !== ['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(o) && R(t[o]) && (i = 'px'), e.style[o] = t[o] + i
        })
    }

    function Y(e, t) {
        Object.keys(t).forEach(function (o) {
            var i = t[o];
            !1 === i ? e.removeAttribute(o) : e.setAttribute(o, t[o])
        })
    }

    function F(e, t, o) {
        var i = T(e, function (e) {
            var o = e.name;
            return o === t
        }), n = !!i && e.some(function (e) {
            return e.name === o && e.enabled && e.order < i.order
        });
        if (!n) {
            var r = '`' + t + '`';
            console.warn('`' + o + '`' + ' modifier is required by ' + r + ' modifier in order to work, be sure to include it before ' + r + '!')
        }
        return n
    }

    function j(e) {
        return 'end' === e ? 'start' : 'start' === e ? 'end' : e
    }

    function K(e) {
        var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], o = le.indexOf(e),
            i = le.slice(o + 1).concat(le.slice(0, o));
        return t ? i.reverse() : i
    }

    function q(e, t, o, i) {
        var n = e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/), r = +n[1], p = n[2];
        if (!r) return e;
        if (0 === p.indexOf('%')) {
            var s;
            switch (p) {
                case'%p':
                    s = o;
                    break;
                case'%':
                case'%r':
                default:
                    s = i;
            }
            var d = h(s);
            return d[t] / 100 * r
        }
        if ('vh' === p || 'vw' === p) {
            var a;
            return a = 'vh' === p ? X(document.documentElement.clientHeight, window.innerHeight || 0) : X(document.documentElement.clientWidth, window.innerWidth || 0), a / 100 * r
        }
        return r
    }

    function G(e, t, o, i) {
        var n = [0, 0], r = -1 !== ['right', 'left'].indexOf(i), p = e.split(/(\+|\-)/).map(function (e) {
            return e.trim()
        }), s = p.indexOf(T(p, function (e) {
            return -1 !== e.search(/,|\s/)
        }));
        p[s] && -1 === p[s].indexOf(',') && console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');
        var d = /\s*,\s*|\s+/,
            a = -1 === s ? [p] : [p.slice(0, s).concat([p[s].split(d)[0]]), [p[s].split(d)[1]].concat(p.slice(s + 1))];
        return a = a.map(function (e, i) {
            var n = (1 === i ? !r : r) ? 'height' : 'width', p = !1;
            return e.reduce(function (e, t) {
                return '' === e[e.length - 1] && -1 !== ['+', '-'].indexOf(t) ? (e[e.length - 1] = t, p = !0, e) : p ? (e[e.length - 1] += t, p = !1, e) : e.concat(t)
            }, []).map(function (e) {
                return q(e, n, t, o)
            })
        }), a.forEach(function (e, t) {
            e.forEach(function (o, i) {
                R(o) && (n[t] += o * ('-' === e[i - 1] ? -1 : 1))
            })
        }), n
    }

    function z(e, t) {
        var o, i = t.offset, n = e.placement, r = e.offsets, p = r.popper, s = r.reference, d = n.split('-')[0];
        return o = R(+i) ? [+i, 0] : G(i, p, s, d), 'left' === d ? (p.top += o[0], p.left -= o[1]) : 'right' === d ? (p.top += o[0], p.left += o[1]) : 'top' === d ? (p.left += o[0], p.top -= o[1]) : 'bottom' === d && (p.left += o[0], p.top += o[1]), e.popper = p, e
    }

    for (var V = Math.min, _ = Math.floor, X = Math.max, Q = ['native code', '[object MutationObserverConstructor]'], J = function (e) {
        return Q.some(function (t) {
            return -1 < (e || '').toString().indexOf(t)
        })
    }, Z = 'undefined' != typeof window, $ = ['Edge', 'Trident', 'Firefox'], ee = 0, te = 0; te < $.length; te += 1) if (Z && 0 <= navigator.userAgent.indexOf($[te])) {
        ee = 1;
        break
    }
    var i, oe = Z && J(window.MutationObserver), ie = oe ? function (e) {
            var t = !1, o = 0, i = document.createElement('span'), n = new MutationObserver(function () {
                e(), t = !1
            });
            return n.observe(i, {attributes: !0}), function () {
                t || (t = !0, i.setAttribute('x-index', o), ++o)
            }
        } : function (e) {
            var t = !1;
            return function () {
                t || (t = !0, setTimeout(function () {
                    t = !1, e()
                }, ee))
            }
        }, ne = function () {
            return void 0 == i && (i = -1 !== navigator.appVersion.indexOf('MSIE 10')), i
        }, re = function (e, t) {
            if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function')
        }, pe = function () {
            function e(e, t) {
                for (var o, n = 0; n < t.length; n++) o = t[n], o.enumerable = o.enumerable || !1, o.configurable = !0, 'value' in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
            }

            return function (t, o, i) {
                return o && e(t.prototype, o), i && e(t, i), t
            }
        }(), se = function (e, t, o) {
            return t in e ? Object.defineProperty(e, t, {
                value: o,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = o, e
        }, de = Object.assign || function (e) {
            for (var t, o = 1; o < arguments.length; o++) for (var i in t = arguments[o], t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e
        },
        ae = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'],
        le = ae.slice(3), fe = {FLIP: 'flip', CLOCKWISE: 'clockwise', COUNTERCLOCKWISE: 'counterclockwise'},
        me = function () {
            function t(o, i) {
                var n = this, r = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {};
                re(this, t), this.scheduleUpdate = function () {
                    return requestAnimationFrame(n.update)
                }, this.update = ie(this.update.bind(this)), this.options = de({}, t.Defaults, r), this.state = {
                    isDestroyed: !1,
                    isCreated: !1,
                    scrollParents: []
                }, this.reference = o.jquery ? o[0] : o, this.popper = i.jquery ? i[0] : i, this.options.modifiers = {}, Object.keys(de({}, t.Defaults.modifiers, r.modifiers)).forEach(function (e) {
                    n.options.modifiers[e] = de({}, t.Defaults.modifiers[e] || {}, r.modifiers ? r.modifiers[e] : {})
                }), this.modifiers = Object.keys(this.options.modifiers).map(function (e) {
                    return de({name: e}, n.options.modifiers[e])
                }).sort(function (e, t) {
                    return e.order - t.order
                }), this.modifiers.forEach(function (t) {
                    t.enabled && e(t.onLoad) && t.onLoad(n.reference, n.popper, n.options, t, n.state)
                }), this.update();
                var p = this.options.eventsEnabled;
                p && this.enableEventListeners(), this.state.eventsEnabled = p
            }

            return pe(t, [{
                key: 'update', value: function () {
                    return k.call(this)
                }
            }, {
                key: 'destroy', value: function () {
                    return P.call(this)
                }
            }, {
                key: 'enableEventListeners', value: function () {
                    return A.call(this)
                }
            }, {
                key: 'disableEventListeners', value: function () {
                    return I.call(this)
                }
            }]), t
        }();
    return me.Utils = ('undefined' == typeof window ? global : window).PopperUtils, me.placements = ae, me.Defaults = {
        placement: 'bottom', eventsEnabled: !0, removeOnDestroy: !1, onCreate: function () {
        }, onUpdate: function () {
        }, modifiers: {
            shift: {
                order: 100, enabled: !0, fn: function (e) {
                    var t = e.placement, o = t.split('-')[0], i = t.split('-')[1];
                    if (i) {
                        var n = e.offsets, r = n.reference, p = n.popper, s = -1 !== ['bottom', 'top'].indexOf(o),
                            d = s ? 'left' : 'top', a = s ? 'width' : 'height',
                            l = {start: se({}, d, r[d]), end: se({}, d, r[d] + r[a] - p[a])};
                        e.offsets.popper = de({}, p, l[i])
                    }
                    return e
                }
            },
            offset: {order: 200, enabled: !0, fn: z, offset: 0},
            preventOverflow: {
                order: 300, enabled: !0, fn: function (e, t) {
                    var o = t.boundariesElement || r(e.instance.popper);
                    e.instance.reference === o && (o = r(o));
                    var i = w(e.instance.popper, e.instance.reference, t.padding, o);
                    t.boundaries = i;
                    var n = t.priority, p = e.offsets.popper, s = {
                        primary: function (e) {
                            var o = p[e];
                            return p[e] < i[e] && !t.escapeWithReference && (o = X(p[e], i[e])), se({}, e, o)
                        }, secondary: function (e) {
                            var o = 'right' === e ? 'left' : 'top', n = p[o];
                            return p[e] > i[e] && !t.escapeWithReference && (n = V(p[o], i[e] - ('right' === e ? p.width : p.height))), se({}, o, n)
                        }
                    };
                    return n.forEach(function (e) {
                        var t = -1 === ['left', 'top'].indexOf(e) ? 'secondary' : 'primary';
                        p = de({}, p, s[t](e))
                    }), e.offsets.popper = p, e
                }, priority: ['left', 'right', 'top', 'bottom'], padding: 5, boundariesElement: 'scrollParent'
            },
            keepTogether: {
                order: 400, enabled: !0, fn: function (e) {
                    var t = e.offsets, o = t.popper, i = t.reference, n = e.placement.split('-')[0], r = _,
                        p = -1 !== ['top', 'bottom'].indexOf(n), s = p ? 'right' : 'bottom', d = p ? 'left' : 'top',
                        a = p ? 'width' : 'height';
                    return o[s] < r(i[d]) && (e.offsets.popper[d] = r(i[d]) - o[a]), o[d] > r(i[s]) && (e.offsets.popper[d] = r(i[s])), e
                }
            },
            arrow: {
                order: 500, enabled: !0, fn: function (e, o) {
                    if (!F(e.instance.modifiers, 'arrow', 'keepTogether')) return e;
                    var i = o.element;
                    if ('string' == typeof i) {
                        if (i = e.instance.popper.querySelector(i), !i) return e;
                    } else if (!e.instance.popper.contains(i)) return console.warn('WARNING: `arrow.element` must be child of its popper element!'), e;
                    var n = e.placement.split('-')[0], r = e.offsets, p = r.popper, s = r.reference,
                        d = -1 !== ['left', 'right'].indexOf(n), a = d ? 'height' : 'width', l = d ? 'Top' : 'Left',
                        f = l.toLowerCase(), m = d ? 'left' : 'top', c = d ? 'bottom' : 'right', g = O(i)[a];
                    s[c] - g < p[f] && (e.offsets.popper[f] -= p[f] - (s[c] - g)), s[f] + g > p[c] && (e.offsets.popper[f] += s[f] + g - p[c]);
                    var u = s[f] + s[a] / 2 - g / 2, b = t(e.instance.popper, 'margin' + l).replace('px', ''),
                        y = u - h(e.offsets.popper)[f] - b;
                    return y = X(V(p[a] - g, y), 0), e.arrowElement = i, e.offsets.arrow = {}, e.offsets.arrow[f] = Math.round(y), e.offsets.arrow[m] = '', e
                }, element: '[x-arrow]'
            },
            flip: {
                order: 600, enabled: !0, fn: function (e, t) {
                    if (W(e.instance.modifiers, 'inner')) return e;
                    if (e.flipped && e.placement === e.originalPlacement) return e;
                    var o = w(e.instance.popper, e.instance.reference, t.padding, t.boundariesElement),
                        i = e.placement.split('-')[0], n = L(i), r = e.placement.split('-')[1] || '', p = [];
                    switch (t.behavior) {
                        case fe.FLIP:
                            p = [i, n];
                            break;
                        case fe.CLOCKWISE:
                            p = K(i);
                            break;
                        case fe.COUNTERCLOCKWISE:
                            p = K(i, !0);
                            break;
                        default:
                            p = t.behavior;
                    }
                    return p.forEach(function (s, d) {
                        if (i !== s || p.length === d + 1) return e;
                        i = e.placement.split('-')[0], n = L(i);
                        var a = e.offsets.popper, l = e.offsets.reference, f = _,
                            m = 'left' === i && f(a.right) > f(l.left) || 'right' === i && f(a.left) < f(l.right) || 'top' === i && f(a.bottom) > f(l.top) || 'bottom' === i && f(a.top) < f(l.bottom),
                            c = f(a.left) < f(o.left), h = f(a.right) > f(o.right), g = f(a.top) < f(o.top),
                            u = f(a.bottom) > f(o.bottom),
                            b = 'left' === i && c || 'right' === i && h || 'top' === i && g || 'bottom' === i && u,
                            y = -1 !== ['top', 'bottom'].indexOf(i),
                            w = !!t.flipVariations && (y && 'start' === r && c || y && 'end' === r && h || !y && 'start' === r && g || !y && 'end' === r && u);
                        (m || b || w) && (e.flipped = !0, (m || b) && (i = p[d + 1]), w && (r = j(r)), e.placement = i + (r ? '-' + r : ''), e.offsets.popper = de({}, e.offsets.popper, S(e.instance.popper, e.offsets.reference, e.placement)), e = N(e.instance.modifiers, e, 'flip'))
                    }), e
                }, behavior: 'flip', padding: 5, boundariesElement: 'viewport'
            },
            inner: {
                order: 700, enabled: !1, fn: function (e) {
                    var t = e.placement, o = t.split('-')[0], i = e.offsets, n = i.popper, r = i.reference,
                        p = -1 !== ['left', 'right'].indexOf(o), s = -1 === ['top', 'left'].indexOf(o);
                    return n[p ? 'left' : 'top'] = r[o] - (s ? n[p ? 'width' : 'height'] : 0), e.placement = L(t), e.offsets.popper = h(n), e
                }
            },
            hide: {
                order: 800, enabled: !0, fn: function (e) {
                    if (!F(e.instance.modifiers, 'hide', 'preventOverflow')) return e;
                    var t = e.offsets.reference, o = T(e.instance.modifiers, function (e) {
                        return 'preventOverflow' === e.name
                    }).boundaries;
                    if (t.bottom < o.top || t.left > o.right || t.top > o.bottom || t.right < o.left) {
                        if (!0 === e.hide) return e;
                        e.hide = !0, e.attributes['x-out-of-boundaries'] = ''
                    } else {
                        if (!1 === e.hide) return e;
                        e.hide = !1, e.attributes['x-out-of-boundaries'] = !1
                    }
                    return e
                }
            },
            computeStyle: {
                order: 850, enabled: !0, fn: function (e, t) {
                    var o = t.x, i = t.y, n = e.offsets.popper, p = T(e.instance.modifiers, function (e) {
                        return 'applyStyle' === e.name
                    }).gpuAcceleration;
                    void 0 !== p && console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');
                    var s, d, a = void 0 === p ? t.gpuAcceleration : p, l = r(e.instance.popper), f = g(l),
                        m = {position: n.position},
                        c = {left: _(n.left), top: _(n.top), bottom: _(n.bottom), right: _(n.right)},
                        h = 'bottom' === o ? 'top' : 'bottom', u = 'right' === i ? 'left' : 'right', b = B('transform');
                    if (d = 'bottom' == h ? -f.height + c.bottom : c.top, s = 'right' == u ? -f.width + c.right : c.left, a && b) m[b] = 'translate3d(' + s + 'px, ' + d + 'px, 0)', m[h] = 0, m[u] = 0, m.willChange = 'transform'; else {
                        var y = 'bottom' == h ? -1 : 1, w = 'right' == u ? -1 : 1;
                        m[h] = d * y, m[u] = s * w, m.willChange = h + ', ' + u
                    }
                    var E = {"x-placement": e.placement};
                    return e.attributes = de({}, E, e.attributes), e.styles = de({}, m, e.styles), e.arrowStyles = de({}, e.offsets.arrow, e.arrowStyles), e
                }, gpuAcceleration: !0, x: 'bottom', y: 'right'
            },
            applyStyle: {
                order: 900, enabled: !0, fn: function (e) {
                    return U(e.instance.popper, e.styles), Y(e.instance.popper, e.attributes), e.arrowElement && Object.keys(e.arrowStyles).length && U(e.arrowElement, e.arrowStyles), e
                }, onLoad: function (e, t, o, i, n) {
                    var r = x(n, t, e),
                        p = v(o.placement, r, t, e, o.modifiers.flip.boundariesElement, o.modifiers.flip.padding);
                    return t.setAttribute('x-placement', p), U(t, {position: 'absolute'}), o
                }, gpuAcceleration: void 0
            }
        }
    }, me
});
//# sourceMappingURL=popper.min.js.map
/*!
  * Bootstrap v4.0.0-beta.2 (https://getbootstrap.com)
  * Copyright 2011-2017 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
var bootstrap = function (t, e, n) {
    "use strict";

    function i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    e = e && e.hasOwnProperty("default") ? e.default : e, n = n && n.hasOwnProperty("default") ? n.default : n;
    var s = function () {
        function t(t) {
            return {}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()
        }

        function n() {
            return {
                bindType: r.end, delegateType: r.end, handle: function (t) {
                    if (e(t.target).is(this)) return t.handleObj.handler.apply(this, arguments)
                }
            }
        }

        function i() {
            if (window.QUnit) return !1;
            var t = document.createElement("bootstrap");
            for (var e in o) if ("undefined" != typeof t.style[e]) return {end: o[e]};
            return !1
        }

        function s(t) {
            var n = this, i = !1;
            return e(this).one(a.TRANSITION_END, function () {
                i = !0
            }), setTimeout(function () {
                i || a.triggerTransitionEnd(n)
            }, t), this
        }

        var r = !1, o = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd otransitionend",
            transition: "transitionend"
        }, a = {
            TRANSITION_END: "bsTransitionEnd", getUID: function (t) {
                do {
                    t += ~~(1e6 * Math.random())
                } while (document.getElementById(t));
                return t
            }, getSelectorFromElement: function (t) {
                var n = t.getAttribute("data-target");
                n && "#" !== n || (n = t.getAttribute("href") || "");
                try {
                    return e(document).find(n).length > 0 ? n : null
                } catch (t) {
                    return null
                }
            }, reflow: function (t) {
                return t.offsetHeight
            }, triggerTransitionEnd: function (t) {
                e(t).trigger(r.end)
            }, supportsTransitionEnd: function () {
                return Boolean(r)
            }, isElement: function (t) {
                return (t[0] || t).nodeType
            }, typeCheckConfig: function (e, n, i) {
                for (var s in i) if (Object.prototype.hasOwnProperty.call(i, s)) {
                    var r = i[s], o = n[s], l = o && a.isElement(o) ? "element" : t(o);
                    if (!new RegExp(r).test(l)) throw new Error(e.toUpperCase() + ': Option "' + s + '" provided type "' + l + '" but expected type "' + r + '".')
                }
            }
        };
        return r = i(), e.fn.emulateTransitionEnd = s, a.supportsTransitionEnd() && (e.event.special[a.TRANSITION_END] = n()), a
    }(), r = function (t, e, n) {
        return e && i(t.prototype, e), n && i(t, n), t
    }, o = function (t, e) {
        t.prototype = Object.create(e.prototype), t.prototype.constructor = t, t.__proto__ = e
    }, a = function () {
        var t = "alert", n = e.fn[t],
            i = {CLOSE: "close.bs.alert", CLOSED: "closed.bs.alert", CLICK_DATA_API: "click.bs.alert.data-api"},
            o = {ALERT: "alert", FADE: "fade", SHOW: "show"}, a = function () {
                function t(t) {
                    this._element = t
                }

                var n = t.prototype;
                return n.close = function (t) {
                    t = t || this._element;
                    var e = this._getRootElement(t);
                    this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e)
                }, n.dispose = function () {
                    e.removeData(this._element, "bs.alert"), this._element = null
                }, n._getRootElement = function (t) {
                    var n = s.getSelectorFromElement(t), i = !1;
                    return n && (i = e(n)[0]), i || (i = e(t).closest("." + o.ALERT)[0]), i
                }, n._triggerCloseEvent = function (t) {
                    var n = e.Event(i.CLOSE);
                    return e(t).trigger(n), n
                }, n._removeElement = function (t) {
                    var n = this;
                    e(t).removeClass(o.SHOW), s.supportsTransitionEnd() && e(t).hasClass(o.FADE) ? e(t).one(s.TRANSITION_END, function (e) {
                        return n._destroyElement(t, e)
                    }).emulateTransitionEnd(150) : this._destroyElement(t)
                }, n._destroyElement = function (t) {
                    e(t).detach().trigger(i.CLOSED).remove()
                }, t._jQueryInterface = function (n) {
                    return this.each(function () {
                        var i = e(this), s = i.data("bs.alert");
                        s || (s = new t(this), i.data("bs.alert", s)), "close" === n && s[n](this)
                    })
                }, t._handleDismiss = function (t) {
                    return function (e) {
                        e && e.preventDefault(), t.close(this)
                    }
                }, r(t, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }]), t
            }();
        return e(document).on(i.CLICK_DATA_API, {DISMISS: '[data-dismiss="alert"]'}.DISMISS, a._handleDismiss(new a)), e.fn[t] = a._jQueryInterface, e.fn[t].Constructor = a, e.fn[t].noConflict = function () {
            return e.fn[t] = n, a._jQueryInterface
        }, a
    }(), l = function () {
        var t = "button", n = e.fn[t], i = {ACTIVE: "active", BUTTON: "btn", FOCUS: "focus"}, s = {
            DATA_TOGGLE_CARROT: '[data-toggle^="button"]',
            DATA_TOGGLE: '[data-toggle="buttons"]',
            INPUT: "input",
            ACTIVE: ".active",
            BUTTON: ".btn"
        }, o = {
            CLICK_DATA_API: "click.bs.button.data-api",
            FOCUS_BLUR_DATA_API: "focus.bs.button.data-api blur.bs.button.data-api"
        }, a = function () {
            function t(t) {
                this._element = t
            }

            var n = t.prototype;
            return n.toggle = function () {
                var t = !0, n = !0, r = e(this._element).closest(s.DATA_TOGGLE)[0];
                if (r) {
                    var o = e(this._element).find(s.INPUT)[0];
                    if (o) {
                        if ("radio" === o.type) if (o.checked && e(this._element).hasClass(i.ACTIVE)) t = !1; else {
                            var a = e(r).find(s.ACTIVE)[0];
                            a && e(a).removeClass(i.ACTIVE)
                        }
                        if (t) {
                            if (o.hasAttribute("disabled") || r.hasAttribute("disabled") || o.classList.contains("disabled") || r.classList.contains("disabled")) return;
                            o.checked = !e(this._element).hasClass(i.ACTIVE), e(o).trigger("change")
                        }
                        o.focus(), n = !1
                    }
                }
                n && this._element.setAttribute("aria-pressed", !e(this._element).hasClass(i.ACTIVE)), t && e(this._element).toggleClass(i.ACTIVE)
            }, n.dispose = function () {
                e.removeData(this._element, "bs.button"), this._element = null
            }, t._jQueryInterface = function (n) {
                return this.each(function () {
                    var i = e(this).data("bs.button");
                    i || (i = new t(this), e(this).data("bs.button", i)), "toggle" === n && i[n]()
                })
            }, r(t, null, [{
                key: "VERSION", get: function () {
                    return "4.0.0-beta.2"
                }
            }]), t
        }();
        return e(document).on(o.CLICK_DATA_API, s.DATA_TOGGLE_CARROT, function (t) {
            t.preventDefault();
            var n = t.target;
            e(n).hasClass(i.BUTTON) || (n = e(n).closest(s.BUTTON)), a._jQueryInterface.call(e(n), "toggle")
        }).on(o.FOCUS_BLUR_DATA_API, s.DATA_TOGGLE_CARROT, function (t) {
            var n = e(t.target).closest(s.BUTTON)[0];
            e(n).toggleClass(i.FOCUS, /^focus(in)?$/.test(t.type))
        }), e.fn[t] = a._jQueryInterface, e.fn[t].Constructor = a, e.fn[t].noConflict = function () {
            return e.fn[t] = n, a._jQueryInterface
        }, a
    }(), h = function () {
        var t = "carousel", n = "bs.carousel", i = "." + n, o = e.fn[t],
            a = {interval: 5e3, keyboard: !0, slide: !1, pause: "hover", wrap: !0}, l = {
                interval: "(number|boolean)",
                keyboard: "boolean",
                slide: "(boolean|string)",
                pause: "(string|boolean)",
                wrap: "boolean"
            }, h = {NEXT: "next", PREV: "prev", LEFT: "left", RIGHT: "right"}, c = {
                SLIDE: "slide" + i,
                SLID: "slid" + i,
                KEYDOWN: "keydown" + i,
                MOUSEENTER: "mouseenter" + i,
                MOUSELEAVE: "mouseleave" + i,
                TOUCHEND: "touchend" + i,
                LOAD_DATA_API: "load.bs.carousel.data-api",
                CLICK_DATA_API: "click.bs.carousel.data-api"
            }, u = {
                CAROUSEL: "carousel",
                ACTIVE: "active",
                SLIDE: "slide",
                RIGHT: "carousel-item-right",
                LEFT: "carousel-item-left",
                NEXT: "carousel-item-next",
                PREV: "carousel-item-prev",
                ITEM: "carousel-item"
            }, d = {
                ACTIVE: ".active",
                ACTIVE_ITEM: ".active.carousel-item",
                ITEM: ".carousel-item",
                NEXT_PREV: ".carousel-item-next, .carousel-item-prev",
                INDICATORS: ".carousel-indicators",
                DATA_SLIDE: "[data-slide], [data-slide-to]",
                DATA_RIDE: '[data-ride="carousel"]'
            }, f = function () {
                function o(t, n) {
                    this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this._config = this._getConfig(n), this._element = e(t)[0], this._indicatorsElement = e(this._element).find(d.INDICATORS)[0], this._addEventListeners()
                }

                var f = o.prototype;
                return f.next = function () {
                    this._isSliding || this._slide(h.NEXT)
                }, f.nextWhenVisible = function () {
                    !document.hidden && e(this._element).is(":visible") && "hidden" !== e(this._element).css("visibility") && this.next()
                }, f.prev = function () {
                    this._isSliding || this._slide(h.PREV)
                }, f.pause = function (t) {
                    t || (this._isPaused = !0), e(this._element).find(d.NEXT_PREV)[0] && s.supportsTransitionEnd() && (s.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null
                }, f.cycle = function (t) {
                    t || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval))
                }, f.to = function (t) {
                    var n = this;
                    this._activeElement = e(this._element).find(d.ACTIVE_ITEM)[0];
                    var i = this._getItemIndex(this._activeElement);
                    if (!(t > this._items.length - 1 || t < 0)) if (this._isSliding) e(this._element).one(c.SLID, function () {
                        return n.to(t)
                    }); else {
                        if (i === t) return this.pause(), void this.cycle();
                        var s = t > i ? h.NEXT : h.PREV;
                        this._slide(s, this._items[t])
                    }
                }, f.dispose = function () {
                    e(this._element).off(i), e.removeData(this._element, n), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null
                }, f._getConfig = function (n) {
                    return n = e.extend({}, a, n), s.typeCheckConfig(t, n, l), n
                }, f._addEventListeners = function () {
                    var t = this;
                    this._config.keyboard && e(this._element).on(c.KEYDOWN, function (e) {
                        return t._keydown(e)
                    }), "hover" === this._config.pause && (e(this._element).on(c.MOUSEENTER, function (e) {
                        return t.pause(e)
                    }).on(c.MOUSELEAVE, function (e) {
                        return t.cycle(e)
                    }), "ontouchstart" in document.documentElement && e(this._element).on(c.TOUCHEND, function () {
                        t.pause(), t.touchTimeout && clearTimeout(t.touchTimeout), t.touchTimeout = setTimeout(function (e) {
                            return t.cycle(e)
                        }, 500 + t._config.interval)
                    }))
                }, f._keydown = function (t) {
                    if (!/input|textarea/i.test(t.target.tagName)) switch (t.which) {
                        case 37:
                            t.preventDefault(), this.prev();
                            break;
                        case 39:
                            t.preventDefault(), this.next();
                            break;
                        default:
                            return
                    }
                }, f._getItemIndex = function (t) {
                    return this._items = e.makeArray(e(t).parent().find(d.ITEM)), this._items.indexOf(t)
                }, f._getItemByDirection = function (t, e) {
                    var n = t === h.NEXT, i = t === h.PREV, s = this._getItemIndex(e), r = this._items.length - 1;
                    if ((i && 0 === s || n && s === r) && !this._config.wrap) return e;
                    var o = (s + (t === h.PREV ? -1 : 1)) % this._items.length;
                    return -1 === o ? this._items[this._items.length - 1] : this._items[o]
                }, f._triggerSlideEvent = function (t, n) {
                    var i = this._getItemIndex(t), s = this._getItemIndex(e(this._element).find(d.ACTIVE_ITEM)[0]),
                        r = e.Event(c.SLIDE, {relatedTarget: t, direction: n, from: s, to: i});
                    return e(this._element).trigger(r), r
                }, f._setActiveIndicatorElement = function (t) {
                    if (this._indicatorsElement) {
                        e(this._indicatorsElement).find(d.ACTIVE).removeClass(u.ACTIVE);
                        var n = this._indicatorsElement.children[this._getItemIndex(t)];
                        n && e(n).addClass(u.ACTIVE)
                    }
                }, f._slide = function (t, n) {
                    var i, r, o, a = this, l = e(this._element).find(d.ACTIVE_ITEM)[0], f = this._getItemIndex(l),
                        _ = n || l && this._getItemByDirection(t, l), g = this._getItemIndex(_),
                        m = Boolean(this._interval);
                    if (t === h.NEXT ? (i = u.LEFT, r = u.NEXT, o = h.LEFT) : (i = u.RIGHT, r = u.PREV, o = h.RIGHT), _ && e(_).hasClass(u.ACTIVE)) this._isSliding = !1; else if (!this._triggerSlideEvent(_, o).isDefaultPrevented() && l && _) {
                        this._isSliding = !0, m && this.pause(), this._setActiveIndicatorElement(_);
                        var p = e.Event(c.SLID, {relatedTarget: _, direction: o, from: f, to: g});
                        s.supportsTransitionEnd() && e(this._element).hasClass(u.SLIDE) ? (e(_).addClass(r), s.reflow(_), e(l).addClass(i), e(_).addClass(i), e(l).one(s.TRANSITION_END, function () {
                            e(_).removeClass(i + " " + r).addClass(u.ACTIVE), e(l).removeClass(u.ACTIVE + " " + r + " " + i), a._isSliding = !1, setTimeout(function () {
                                return e(a._element).trigger(p)
                            }, 0)
                        }).emulateTransitionEnd(600)) : (e(l).removeClass(u.ACTIVE), e(_).addClass(u.ACTIVE), this._isSliding = !1, e(this._element).trigger(p)), m && this.cycle()
                    }
                }, o._jQueryInterface = function (t) {
                    return this.each(function () {
                        var i = e(this).data(n), s = e.extend({}, a, e(this).data());
                        "object" == typeof t && e.extend(s, t);
                        var r = "string" == typeof t ? t : s.slide;
                        if (i || (i = new o(this, s), e(this).data(n, i)), "number" == typeof t) i.to(t); else if ("string" == typeof r) {
                            if ("undefined" == typeof i[r]) throw new Error('No method named "' + r + '"');
                            i[r]()
                        } else s.interval && (i.pause(), i.cycle())
                    })
                }, o._dataApiClickHandler = function (t) {
                    var i = s.getSelectorFromElement(this);
                    if (i) {
                        var r = e(i)[0];
                        if (r && e(r).hasClass(u.CAROUSEL)) {
                            var a = e.extend({}, e(r).data(), e(this).data()), l = this.getAttribute("data-slide-to");
                            l && (a.interval = !1), o._jQueryInterface.call(e(r), a), l && e(r).data(n).to(l), t.preventDefault()
                        }
                    }
                }, r(o, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }, {
                    key: "Default", get: function () {
                        return a
                    }
                }]), o
            }();
        return e(document).on(c.CLICK_DATA_API, d.DATA_SLIDE, f._dataApiClickHandler), e(window).on(c.LOAD_DATA_API, function () {
            e(d.DATA_RIDE).each(function () {
                var t = e(this);
                f._jQueryInterface.call(t, t.data())
            })
        }), e.fn[t] = f._jQueryInterface, e.fn[t].Constructor = f, e.fn[t].noConflict = function () {
            return e.fn[t] = o, f._jQueryInterface
        }, f
    }(), c = function () {
        var t = "collapse", n = "bs.collapse", i = e.fn[t], o = {toggle: !0, parent: ""},
            a = {toggle: "boolean", parent: "(string|element)"}, l = {
                SHOW: "show.bs.collapse",
                SHOWN: "shown.bs.collapse",
                HIDE: "hide.bs.collapse",
                HIDDEN: "hidden.bs.collapse",
                CLICK_DATA_API: "click.bs.collapse.data-api"
            }, h = {SHOW: "show", COLLAPSE: "collapse", COLLAPSING: "collapsing", COLLAPSED: "collapsed"},
            c = {WIDTH: "width", HEIGHT: "height"},
            u = {ACTIVES: ".show, .collapsing", DATA_TOGGLE: '[data-toggle="collapse"]'}, d = function () {
                function i(t, n) {
                    this._isTransitioning = !1, this._element = t, this._config = this._getConfig(n), this._triggerArray = e.makeArray(e('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]'));
                    for (var i = e(u.DATA_TOGGLE), r = 0; r < i.length; r++) {
                        var o = i[r], a = s.getSelectorFromElement(o);
                        null !== a && e(a).filter(t).length > 0 && this._triggerArray.push(o)
                    }
                    this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle()
                }

                var d = i.prototype;
                return d.toggle = function () {
                    e(this._element).hasClass(h.SHOW) ? this.hide() : this.show()
                }, d.show = function () {
                    var t = this;
                    if (!this._isTransitioning && !e(this._element).hasClass(h.SHOW)) {
                        var r, o;
                        if (this._parent && ((r = e.makeArray(e(this._parent).children().children(u.ACTIVES))).length || (r = null)), !(r && (o = e(r).data(n)) && o._isTransitioning)) {
                            var a = e.Event(l.SHOW);
                            if (e(this._element).trigger(a), !a.isDefaultPrevented()) {
                                r && (i._jQueryInterface.call(e(r), "hide"), o || e(r).data(n, null));
                                var c = this._getDimension();
                                e(this._element).removeClass(h.COLLAPSE).addClass(h.COLLAPSING), this._element.style[c] = 0, this._triggerArray.length && e(this._triggerArray).removeClass(h.COLLAPSED).attr("aria-expanded", !0), this.setTransitioning(!0);
                                var d = function () {
                                    e(t._element).removeClass(h.COLLAPSING).addClass(h.COLLAPSE).addClass(h.SHOW), t._element.style[c] = "", t.setTransitioning(!1), e(t._element).trigger(l.SHOWN)
                                };
                                if (s.supportsTransitionEnd()) {
                                    var f = "scroll" + (c[0].toUpperCase() + c.slice(1));
                                    e(this._element).one(s.TRANSITION_END, d).emulateTransitionEnd(600), this._element.style[c] = this._element[f] + "px"
                                } else d()
                            }
                        }
                    }
                }, d.hide = function () {
                    var t = this;
                    if (!this._isTransitioning && e(this._element).hasClass(h.SHOW)) {
                        var n = e.Event(l.HIDE);
                        if (e(this._element).trigger(n), !n.isDefaultPrevented()) {
                            var i = this._getDimension();
                            if (this._element.style[i] = this._element.getBoundingClientRect()[i] + "px", s.reflow(this._element), e(this._element).addClass(h.COLLAPSING).removeClass(h.COLLAPSE).removeClass(h.SHOW), this._triggerArray.length) for (var r = 0; r < this._triggerArray.length; r++) {
                                var o = this._triggerArray[r], a = s.getSelectorFromElement(o);
                                null !== a && (e(a).hasClass(h.SHOW) || e(o).addClass(h.COLLAPSED).attr("aria-expanded", !1))
                            }
                            this.setTransitioning(!0);
                            var c = function () {
                                t.setTransitioning(!1), e(t._element).removeClass(h.COLLAPSING).addClass(h.COLLAPSE).trigger(l.HIDDEN)
                            };
                            this._element.style[i] = "", s.supportsTransitionEnd() ? e(this._element).one(s.TRANSITION_END, c).emulateTransitionEnd(600) : c()
                        }
                    }
                }, d.setTransitioning = function (t) {
                    this._isTransitioning = t
                }, d.dispose = function () {
                    e.removeData(this._element, n), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null
                }, d._getConfig = function (n) {
                    return n = e.extend({}, o, n), n.toggle = Boolean(n.toggle), s.typeCheckConfig(t, n, a), n
                }, d._getDimension = function () {
                    return e(this._element).hasClass(c.WIDTH) ? c.WIDTH : c.HEIGHT
                }, d._getParent = function () {
                    var t = this, n = null;
                    s.isElement(this._config.parent) ? (n = this._config.parent, "undefined" != typeof this._config.parent.jquery && (n = this._config.parent[0])) : n = e(this._config.parent)[0];
                    var r = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]';
                    return e(n).find(r).each(function (e, n) {
                        t._addAriaAndCollapsedClass(i._getTargetFromElement(n), [n])
                    }), n
                }, d._addAriaAndCollapsedClass = function (t, n) {
                    if (t) {
                        var i = e(t).hasClass(h.SHOW);
                        n.length && e(n).toggleClass(h.COLLAPSED, !i).attr("aria-expanded", i)
                    }
                }, i._getTargetFromElement = function (t) {
                    var n = s.getSelectorFromElement(t);
                    return n ? e(n)[0] : null
                }, i._jQueryInterface = function (t) {
                    return this.each(function () {
                        var s = e(this), r = s.data(n), a = e.extend({}, o, s.data(), "object" == typeof t && t);
                        if (!r && a.toggle && /show|hide/.test(t) && (a.toggle = !1), r || (r = new i(this, a), s.data(n, r)), "string" == typeof t) {
                            if ("undefined" == typeof r[t]) throw new Error('No method named "' + t + '"');
                            r[t]()
                        }
                    })
                }, r(i, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }, {
                    key: "Default", get: function () {
                        return o
                    }
                }]), i
            }();
        return e(document).on(l.CLICK_DATA_API, u.DATA_TOGGLE, function (t) {
            "A" === t.currentTarget.tagName && t.preventDefault();
            var i = e(this), r = s.getSelectorFromElement(this);
            e(r).each(function () {
                var t = e(this), s = t.data(n) ? "toggle" : i.data();
                d._jQueryInterface.call(t, s)
            })
        }), e.fn[t] = d._jQueryInterface, e.fn[t].Constructor = d, e.fn[t].noConflict = function () {
            return e.fn[t] = i, d._jQueryInterface
        }, d
    }(), u = function () {
        if ("undefined" == typeof n) throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");
        var t = "dropdown", i = "bs.dropdown", o = "." + i, a = e.fn[t], l = new RegExp("38|40|27"), h = {
                HIDE: "hide" + o,
                HIDDEN: "hidden" + o,
                SHOW: "show" + o,
                SHOWN: "shown" + o,
                CLICK: "click" + o,
                CLICK_DATA_API: "click.bs.dropdown.data-api",
                KEYDOWN_DATA_API: "keydown.bs.dropdown.data-api",
                KEYUP_DATA_API: "keyup.bs.dropdown.data-api"
            }, c = {
                DISABLED: "disabled",
                SHOW: "show",
                DROPUP: "dropup",
                MENURIGHT: "dropdown-menu-right",
                MENULEFT: "dropdown-menu-left"
            }, u = {
                DATA_TOGGLE: '[data-toggle="dropdown"]',
                FORM_CHILD: ".dropdown form",
                MENU: ".dropdown-menu",
                NAVBAR_NAV: ".navbar-nav",
                VISIBLE_ITEMS: ".dropdown-menu .dropdown-item:not(.disabled)"
            }, d = {TOP: "top-start", TOPEND: "top-end", BOTTOM: "bottom-start", BOTTOMEND: "bottom-end"},
            f = {offset: 0, flip: !0}, _ = {offset: "(number|string|function)", flip: "boolean"}, g = function () {
                function a(t, e) {
                    this._element = t, this._popper = null, this._config = this._getConfig(e), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners()
                }

                var g = a.prototype;
                return g.toggle = function () {
                    if (!this._element.disabled && !e(this._element).hasClass(c.DISABLED)) {
                        var t = a._getParentFromElement(this._element), i = e(this._menu).hasClass(c.SHOW);
                        if (a._clearMenus(), !i) {
                            var s = {relatedTarget: this._element}, r = e.Event(h.SHOW, s);
                            if (e(t).trigger(r), !r.isDefaultPrevented()) {
                                var o = this._element;
                                e(t).hasClass(c.DROPUP) && (e(this._menu).hasClass(c.MENULEFT) || e(this._menu).hasClass(c.MENURIGHT)) && (o = t), this._popper = new n(o, this._menu, this._getPopperConfig()), "ontouchstart" in document.documentElement && !e(t).closest(u.NAVBAR_NAV).length && e("body").children().on("mouseover", null, e.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), e(this._menu).toggleClass(c.SHOW), e(t).toggleClass(c.SHOW).trigger(e.Event(h.SHOWN, s))
                            }
                        }
                    }
                }, g.dispose = function () {
                    e.removeData(this._element, i), e(this._element).off(o), this._element = null, this._menu = null, null !== this._popper && this._popper.destroy(), this._popper = null
                }, g.update = function () {
                    this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate()
                }, g._addEventListeners = function () {
                    var t = this;
                    e(this._element).on(h.CLICK, function (e) {
                        e.preventDefault(), e.stopPropagation(), t.toggle()
                    })
                }, g._getConfig = function (n) {
                    return n = e.extend({}, this.constructor.Default, e(this._element).data(), n), s.typeCheckConfig(t, n, this.constructor.DefaultType), n
                }, g._getMenuElement = function () {
                    if (!this._menu) {
                        var t = a._getParentFromElement(this._element);
                        this._menu = e(t).find(u.MENU)[0]
                    }
                    return this._menu
                }, g._getPlacement = function () {
                    var t = e(this._element).parent(), n = d.BOTTOM;
                    return t.hasClass(c.DROPUP) ? (n = d.TOP, e(this._menu).hasClass(c.MENURIGHT) && (n = d.TOPEND)) : e(this._menu).hasClass(c.MENURIGHT) && (n = d.BOTTOMEND), n
                }, g._detectNavbar = function () {
                    return e(this._element).closest(".navbar").length > 0
                }, g._getPopperConfig = function () {
                    var t = this, n = {};
                    "function" == typeof this._config.offset ? n.fn = function (n) {
                        return n.offsets = e.extend({}, n.offsets, t._config.offset(n.offsets) || {}), n
                    } : n.offset = this._config.offset;
                    var i = {placement: this._getPlacement(), modifiers: {offset: n, flip: {enabled: this._config.flip}}};
                    return this._inNavbar && (i.modifiers.applyStyle = {enabled: !this._inNavbar}), i
                }, a._jQueryInterface = function (t) {
                    return this.each(function () {
                        var n = e(this).data(i), s = "object" == typeof t ? t : null;
                        if (n || (n = new a(this, s), e(this).data(i, n)), "string" == typeof t) {
                            if ("undefined" == typeof n[t]) throw new Error('No method named "' + t + '"');
                            n[t]()
                        }
                    })
                }, a._clearMenus = function (t) {
                    if (!t || 3 !== t.which && ("keyup" !== t.type || 9 === t.which)) for (var n = e.makeArray(e(u.DATA_TOGGLE)), s = 0; s < n.length; s++) {
                        var r = a._getParentFromElement(n[s]), o = e(n[s]).data(i), l = {relatedTarget: n[s]};
                        if (o) {
                            var d = o._menu;
                            if (e(r).hasClass(c.SHOW) && !(t && ("click" === t.type && /input|textarea/i.test(t.target.tagName) || "keyup" === t.type && 9 === t.which) && e.contains(r, t.target))) {
                                var f = e.Event(h.HIDE, l);
                                e(r).trigger(f), f.isDefaultPrevented() || ("ontouchstart" in document.documentElement && e("body").children().off("mouseover", null, e.noop), n[s].setAttribute("aria-expanded", "false"), e(d).removeClass(c.SHOW), e(r).removeClass(c.SHOW).trigger(e.Event(h.HIDDEN, l)))
                            }
                        }
                    }
                }, a._getParentFromElement = function (t) {
                    var n, i = s.getSelectorFromElement(t);
                    return i && (n = e(i)[0]), n || t.parentNode
                }, a._dataApiKeydownHandler = function (t) {
                    if (!(!l.test(t.which) || /button/i.test(t.target.tagName) && 32 === t.which || /input|textarea/i.test(t.target.tagName) || (t.preventDefault(), t.stopPropagation(), this.disabled || e(this).hasClass(c.DISABLED)))) {
                        var n = a._getParentFromElement(this), i = e(n).hasClass(c.SHOW);
                        if ((i || 27 === t.which && 32 === t.which) && (!i || 27 !== t.which && 32 !== t.which)) {
                            var s = e(n).find(u.VISIBLE_ITEMS).get();
                            if (s.length) {
                                var r = s.indexOf(t.target);
                                38 === t.which && r > 0 && r--, 40 === t.which && r < s.length - 1 && r++, r < 0 && (r = 0), s[r].focus()
                            }
                        } else {
                            if (27 === t.which) {
                                var o = e(n).find(u.DATA_TOGGLE)[0];
                                e(o).trigger("focus")
                            }
                            e(this).trigger("click")
                        }
                    }
                }, r(a, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }, {
                    key: "Default", get: function () {
                        return f
                    }
                }, {
                    key: "DefaultType", get: function () {
                        return _
                    }
                }]), a
            }();
        return e(document).on(h.KEYDOWN_DATA_API, u.DATA_TOGGLE, g._dataApiKeydownHandler).on(h.KEYDOWN_DATA_API, u.MENU, g._dataApiKeydownHandler).on(h.CLICK_DATA_API + " " + h.KEYUP_DATA_API, g._clearMenus).on(h.CLICK_DATA_API, u.DATA_TOGGLE, function (t) {
            t.preventDefault(), t.stopPropagation(), g._jQueryInterface.call(e(this), "toggle")
        }).on(h.CLICK_DATA_API, u.FORM_CHILD, function (t) {
            t.stopPropagation()
        }), e.fn[t] = g._jQueryInterface, e.fn[t].Constructor = g, e.fn[t].noConflict = function () {
            return e.fn[t] = a, g._jQueryInterface
        }, g
    }(), d = function () {
        var t = "modal", n = ".bs.modal", i = e.fn[t], o = {backdrop: !0, keyboard: !0, focus: !0, show: !0},
            a = {backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", show: "boolean"}, l = {
                HIDE: "hide.bs.modal",
                HIDDEN: "hidden.bs.modal",
                SHOW: "show.bs.modal",
                SHOWN: "shown.bs.modal",
                FOCUSIN: "focusin.bs.modal",
                RESIZE: "resize.bs.modal",
                CLICK_DISMISS: "click.dismiss.bs.modal",
                KEYDOWN_DISMISS: "keydown.dismiss.bs.modal",
                MOUSEUP_DISMISS: "mouseup.dismiss.bs.modal",
                MOUSEDOWN_DISMISS: "mousedown.dismiss.bs.modal",
                CLICK_DATA_API: "click.bs.modal.data-api"
            }, h = {
                SCROLLBAR_MEASURER: "modal-scrollbar-measure",
                BACKDROP: "modal-backdrop",
                OPEN: "modal-open",
                FADE: "fade",
                SHOW: "show"
            }, c = {
                DIALOG: ".modal-dialog",
                DATA_TOGGLE: '[data-toggle="modal"]',
                DATA_DISMISS: '[data-dismiss="modal"]',
                FIXED_CONTENT: ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",
                STICKY_CONTENT: ".sticky-top",
                NAVBAR_TOGGLER: ".navbar-toggler"
            }, u = function () {
                function i(t, n) {
                    this._config = this._getConfig(n), this._element = t, this._dialog = e(t).find(c.DIALOG)[0], this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._originalBodyPadding = 0, this._scrollbarWidth = 0
                }

                var u = i.prototype;
                return u.toggle = function (t) {
                    return this._isShown ? this.hide() : this.show(t)
                }, u.show = function (t) {
                    var n = this;
                    if (!this._isTransitioning && !this._isShown) {
                        s.supportsTransitionEnd() && e(this._element).hasClass(h.FADE) && (this._isTransitioning = !0);
                        var i = e.Event(l.SHOW, {relatedTarget: t});
                        e(this._element).trigger(i), this._isShown || i.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), e(document.body).addClass(h.OPEN), this._setEscapeEvent(), this._setResizeEvent(), e(this._element).on(l.CLICK_DISMISS, c.DATA_DISMISS, function (t) {
                            return n.hide(t)
                        }), e(this._dialog).on(l.MOUSEDOWN_DISMISS, function () {
                            e(n._element).one(l.MOUSEUP_DISMISS, function (t) {
                                e(t.target).is(n._element) && (n._ignoreBackdropClick = !0)
                            })
                        }), this._showBackdrop(function () {
                            return n._showElement(t)
                        }))
                    }
                }, u.hide = function (t) {
                    var n = this;
                    if (t && t.preventDefault(), !this._isTransitioning && this._isShown) {
                        var i = e.Event(l.HIDE);
                        if (e(this._element).trigger(i), this._isShown && !i.isDefaultPrevented()) {
                            this._isShown = !1;
                            var r = s.supportsTransitionEnd() && e(this._element).hasClass(h.FADE);
                            r && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), e(document).off(l.FOCUSIN), e(this._element).removeClass(h.SHOW), e(this._element).off(l.CLICK_DISMISS), e(this._dialog).off(l.MOUSEDOWN_DISMISS), r ? e(this._element).one(s.TRANSITION_END, function (t) {
                                return n._hideModal(t)
                            }).emulateTransitionEnd(300) : this._hideModal()
                        }
                    }
                }, u.dispose = function () {
                    e.removeData(this._element, "bs.modal"), e(window, document, this._element, this._backdrop).off(n), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._scrollbarWidth = null
                }, u.handleUpdate = function () {
                    this._adjustDialog()
                }, u._getConfig = function (n) {
                    return n = e.extend({}, o, n), s.typeCheckConfig(t, n, a), n
                }, u._showElement = function (t) {
                    var n = this, i = s.supportsTransitionEnd() && e(this._element).hasClass(h.FADE);
                    this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.scrollTop = 0, i && s.reflow(this._element), e(this._element).addClass(h.SHOW), this._config.focus && this._enforceFocus();
                    var r = e.Event(l.SHOWN, {relatedTarget: t}), o = function () {
                        n._config.focus && n._element.focus(), n._isTransitioning = !1, e(n._element).trigger(r)
                    };
                    i ? e(this._dialog).one(s.TRANSITION_END, o).emulateTransitionEnd(300) : o()
                }, u._enforceFocus = function () {
                    var t = this;
                    e(document).off(l.FOCUSIN).on(l.FOCUSIN, function (n) {
                        document === n.target || t._element === n.target || e(t._element).has(n.target).length || t._element.focus()
                    })
                }, u._setEscapeEvent = function () {
                    var t = this;
                    this._isShown && this._config.keyboard ? e(this._element).on(l.KEYDOWN_DISMISS, function (e) {
                        27 === e.which && (e.preventDefault(), t.hide())
                    }) : this._isShown || e(this._element).off(l.KEYDOWN_DISMISS)
                }, u._setResizeEvent = function () {
                    var t = this;
                    this._isShown ? e(window).on(l.RESIZE, function (e) {
                        return t.handleUpdate(e)
                    }) : e(window).off(l.RESIZE)
                }, u._hideModal = function () {
                    var t = this;
                    this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._isTransitioning = !1, this._showBackdrop(function () {
                        e(document.body).removeClass(h.OPEN), t._resetAdjustments(), t._resetScrollbar(), e(t._element).trigger(l.HIDDEN)
                    })
                }, u._removeBackdrop = function () {
                    this._backdrop && (e(this._backdrop).remove(), this._backdrop = null)
                }, u._showBackdrop = function (t) {
                    var n = this, i = e(this._element).hasClass(h.FADE) ? h.FADE : "";
                    if (this._isShown && this._config.backdrop) {
                        var r = s.supportsTransitionEnd() && i;
                        if (this._backdrop = document.createElement("div"), this._backdrop.className = h.BACKDROP, i && e(this._backdrop).addClass(i), e(this._backdrop).appendTo(document.body), e(this._element).on(l.CLICK_DISMISS, function (t) {
                            n._ignoreBackdropClick ? n._ignoreBackdropClick = !1 : t.target === t.currentTarget && ("static" === n._config.backdrop ? n._element.focus() : n.hide())
                        }), r && s.reflow(this._backdrop), e(this._backdrop).addClass(h.SHOW), !t) return;
                        if (!r) return void t();
                        e(this._backdrop).one(s.TRANSITION_END, t).emulateTransitionEnd(150)
                    } else if (!this._isShown && this._backdrop) {
                        e(this._backdrop).removeClass(h.SHOW);
                        var o = function () {
                            n._removeBackdrop(), t && t()
                        };
                        s.supportsTransitionEnd() && e(this._element).hasClass(h.FADE) ? e(this._backdrop).one(s.TRANSITION_END, o).emulateTransitionEnd(150) : o()
                    } else t && t()
                }, u._adjustDialog = function () {
                    var t = this._element.scrollHeight > document.documentElement.clientHeight;
                    !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px")
                }, u._resetAdjustments = function () {
                    this._element.style.paddingLeft = "", this._element.style.paddingRight = ""
                }, u._checkScrollbar = function () {
                    var t = document.body.getBoundingClientRect();
                    this._isBodyOverflowing = t.left + t.right < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth()
                }, u._setScrollbar = function () {
                    var t = this;
                    if (this._isBodyOverflowing) {
                        e(c.FIXED_CONTENT).each(function (n, i) {
                            var s = e(i)[0].style.paddingRight, r = e(i).css("padding-right");
                            e(i).data("padding-right", s).css("padding-right", parseFloat(r) + t._scrollbarWidth + "px")
                        }), e(c.STICKY_CONTENT).each(function (n, i) {
                            var s = e(i)[0].style.marginRight, r = e(i).css("margin-right");
                            e(i).data("margin-right", s).css("margin-right", parseFloat(r) - t._scrollbarWidth + "px")
                        }), e(c.NAVBAR_TOGGLER).each(function (n, i) {
                            var s = e(i)[0].style.marginRight, r = e(i).css("margin-right");
                            e(i).data("margin-right", s).css("margin-right", parseFloat(r) + t._scrollbarWidth + "px")
                        });
                        var n = document.body.style.paddingRight, i = e("body").css("padding-right");
                        e("body").data("padding-right", n).css("padding-right", parseFloat(i) + this._scrollbarWidth + "px")
                    }
                }, u._resetScrollbar = function () {
                    e(c.FIXED_CONTENT).each(function (t, n) {
                        var i = e(n).data("padding-right");
                        "undefined" != typeof i && e(n).css("padding-right", i).removeData("padding-right")
                    }), e(c.STICKY_CONTENT + ", " + c.NAVBAR_TOGGLER).each(function (t, n) {
                        var i = e(n).data("margin-right");
                        "undefined" != typeof i && e(n).css("margin-right", i).removeData("margin-right")
                    });
                    var t = e("body").data("padding-right");
                    "undefined" != typeof t && e("body").css("padding-right", t).removeData("padding-right")
                }, u._getScrollbarWidth = function () {
                    var t = document.createElement("div");
                    t.className = h.SCROLLBAR_MEASURER, document.body.appendChild(t);
                    var e = t.getBoundingClientRect().width - t.clientWidth;
                    return document.body.removeChild(t), e
                }, i._jQueryInterface = function (t, n) {
                    return this.each(function () {
                        var s = e(this).data("bs.modal"),
                            r = e.extend({}, i.Default, e(this).data(), "object" == typeof t && t);
                        if (s || (s = new i(this, r), e(this).data("bs.modal", s)), "string" == typeof t) {
                            if ("undefined" == typeof s[t]) throw new Error('No method named "' + t + '"');
                            s[t](n)
                        } else r.show && s.show(n)
                    })
                }, r(i, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }, {
                    key: "Default", get: function () {
                        return o
                    }
                }]), i
            }();
        return e(document).on(l.CLICK_DATA_API, c.DATA_TOGGLE, function (t) {
            var n, i = this, r = s.getSelectorFromElement(this);
            r && (n = e(r)[0]);
            var o = e(n).data("bs.modal") ? "toggle" : e.extend({}, e(n).data(), e(this).data());
            "A" !== this.tagName && "AREA" !== this.tagName || t.preventDefault();
            var a = e(n).one(l.SHOW, function (t) {
                t.isDefaultPrevented() || a.one(l.HIDDEN, function () {
                    e(i).is(":visible") && i.focus()
                })
            });
            u._jQueryInterface.call(e(n), o, this)
        }), e.fn[t] = u._jQueryInterface, e.fn[t].Constructor = u, e.fn[t].noConflict = function () {
            return e.fn[t] = i, u._jQueryInterface
        }, u
    }(), f = function () {
        if ("undefined" == typeof n) throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");
        var t = "tooltip", i = ".bs.tooltip", o = e.fn[t], a = new RegExp("(^|\\s)bs-tooltip\\S+", "g"), l = {
                animation: "boolean",
                template: "string",
                title: "(string|element|function)",
                trigger: "string",
                delay: "(number|object)",
                html: "boolean",
                selector: "(string|boolean)",
                placement: "(string|function)",
                offset: "(number|string)",
                container: "(string|element|boolean)",
                fallbackPlacement: "(string|array)"
            }, h = {AUTO: "auto", TOP: "top", RIGHT: "right", BOTTOM: "bottom", LEFT: "left"}, c = {
                animation: !0,
                template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
                trigger: "hover focus",
                title: "",
                delay: 0,
                html: !1,
                selector: !1,
                placement: "top",
                offset: 0,
                container: !1,
                fallbackPlacement: "flip"
            }, u = {SHOW: "show", OUT: "out"}, d = {
                HIDE: "hide" + i,
                HIDDEN: "hidden" + i,
                SHOW: "show" + i,
                SHOWN: "shown" + i,
                INSERTED: "inserted" + i,
                CLICK: "click" + i,
                FOCUSIN: "focusin" + i,
                FOCUSOUT: "focusout" + i,
                MOUSEENTER: "mouseenter" + i,
                MOUSELEAVE: "mouseleave" + i
            }, f = {FADE: "fade", SHOW: "show"},
            _ = {TOOLTIP: ".tooltip", TOOLTIP_INNER: ".tooltip-inner", ARROW: ".arrow"},
            g = {HOVER: "hover", FOCUS: "focus", CLICK: "click", MANUAL: "manual"}, m = function () {
                function o(t, e) {
                    this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = t, this.config = this._getConfig(e), this.tip = null, this._setListeners()
                }

                var m = o.prototype;
                return m.enable = function () {
                    this._isEnabled = !0
                }, m.disable = function () {
                    this._isEnabled = !1
                }, m.toggleEnabled = function () {
                    this._isEnabled = !this._isEnabled
                }, m.toggle = function (t) {
                    if (this._isEnabled) if (t) {
                        var n = this.constructor.DATA_KEY, i = e(t.currentTarget).data(n);
                        i || (i = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(n, i)), i._activeTrigger.click = !i._activeTrigger.click, i._isWithActiveTrigger() ? i._enter(null, i) : i._leave(null, i)
                    } else {
                        if (e(this.getTipElement()).hasClass(f.SHOW)) return void this._leave(null, this);
                        this._enter(null, this)
                    }
                }, m.dispose = function () {
                    clearTimeout(this._timeout), e.removeData(this.element, this.constructor.DATA_KEY), e(this.element).off(this.constructor.EVENT_KEY), e(this.element).closest(".modal").off("hide.bs.modal"), this.tip && e(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, this._activeTrigger = null, null !== this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null
                }, m.show = function () {
                    var t = this;
                    if ("none" === e(this.element).css("display")) throw new Error("Please use show on visible elements");
                    var i = e.Event(this.constructor.Event.SHOW);
                    if (this.isWithContent() && this._isEnabled) {
                        e(this.element).trigger(i);
                        var r = e.contains(this.element.ownerDocument.documentElement, this.element);
                        if (i.isDefaultPrevented() || !r) return;
                        var a = this.getTipElement(), l = s.getUID(this.constructor.NAME);
                        a.setAttribute("id", l), this.element.setAttribute("aria-describedby", l), this.setContent(), this.config.animation && e(a).addClass(f.FADE);
                        var h = "function" == typeof this.config.placement ? this.config.placement.call(this, a, this.element) : this.config.placement,
                            c = this._getAttachment(h);
                        this.addAttachmentClass(c);
                        var d = !1 === this.config.container ? document.body : e(this.config.container);
                        e(a).data(this.constructor.DATA_KEY, this), e.contains(this.element.ownerDocument.documentElement, this.tip) || e(a).appendTo(d), e(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new n(this.element, a, {
                            placement: c,
                            modifiers: {
                                offset: {offset: this.config.offset},
                                flip: {behavior: this.config.fallbackPlacement},
                                arrow: {element: _.ARROW}
                            },
                            onCreate: function (e) {
                                e.originalPlacement !== e.placement && t._handlePopperPlacementChange(e)
                            },
                            onUpdate: function (e) {
                                t._handlePopperPlacementChange(e)
                            }
                        }), e(a).addClass(f.SHOW), "ontouchstart" in document.documentElement && e("body").children().on("mouseover", null, e.noop);
                        var g = function () {
                            t.config.animation && t._fixTransition();
                            var n = t._hoverState;
                            t._hoverState = null, e(t.element).trigger(t.constructor.Event.SHOWN), n === u.OUT && t._leave(null, t)
                        };
                        s.supportsTransitionEnd() && e(this.tip).hasClass(f.FADE) ? e(this.tip).one(s.TRANSITION_END, g).emulateTransitionEnd(o._TRANSITION_DURATION) : g()
                    }
                }, m.hide = function (t) {
                    var n = this, i = this.getTipElement(), r = e.Event(this.constructor.Event.HIDE), o = function () {
                        n._hoverState !== u.SHOW && i.parentNode && i.parentNode.removeChild(i), n._cleanTipClass(), n.element.removeAttribute("aria-describedby"), e(n.element).trigger(n.constructor.Event.HIDDEN), null !== n._popper && n._popper.destroy(), t && t()
                    };
                    e(this.element).trigger(r), r.isDefaultPrevented() || (e(i).removeClass(f.SHOW), "ontouchstart" in document.documentElement && e("body").children().off("mouseover", null, e.noop), this._activeTrigger[g.CLICK] = !1, this._activeTrigger[g.FOCUS] = !1, this._activeTrigger[g.HOVER] = !1, s.supportsTransitionEnd() && e(this.tip).hasClass(f.FADE) ? e(i).one(s.TRANSITION_END, o).emulateTransitionEnd(150) : o(), this._hoverState = "")
                }, m.update = function () {
                    null !== this._popper && this._popper.scheduleUpdate()
                }, m.isWithContent = function () {
                    return Boolean(this.getTitle())
                }, m.addAttachmentClass = function (t) {
                    e(this.getTipElement()).addClass("bs-tooltip-" + t)
                }, m.getTipElement = function () {
                    return this.tip = this.tip || e(this.config.template)[0], this.tip
                }, m.setContent = function () {
                    var t = e(this.getTipElement());
                    this.setElementContent(t.find(_.TOOLTIP_INNER), this.getTitle()), t.removeClass(f.FADE + " " + f.SHOW)
                }, m.setElementContent = function (t, n) {
                    var i = this.config.html;
                    "object" == typeof n && (n.nodeType || n.jquery) ? i ? e(n).parent().is(t) || t.empty().append(n) : t.text(e(n).text()) : t[i ? "html" : "text"](n)
                }, m.getTitle = function () {
                    var t = this.element.getAttribute("data-original-title");
                    return t || (t = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), t
                }, m._getAttachment = function (t) {
                    return h[t.toUpperCase()]
                }, m._setListeners = function () {
                    var t = this;
                    this.config.trigger.split(" ").forEach(function (n) {
                        if ("click" === n) e(t.element).on(t.constructor.Event.CLICK, t.config.selector, function (e) {
                            return t.toggle(e)
                        }); else if (n !== g.MANUAL) {
                            var i = n === g.HOVER ? t.constructor.Event.MOUSEENTER : t.constructor.Event.FOCUSIN,
                                s = n === g.HOVER ? t.constructor.Event.MOUSELEAVE : t.constructor.Event.FOCUSOUT;
                            e(t.element).on(i, t.config.selector, function (e) {
                                return t._enter(e)
                            }).on(s, t.config.selector, function (e) {
                                return t._leave(e)
                            })
                        }
                        e(t.element).closest(".modal").on("hide.bs.modal", function () {
                            return t.hide()
                        })
                    }), this.config.selector ? this.config = e.extend({}, this.config, {
                        trigger: "manual",
                        selector: ""
                    }) : this._fixTitle()
                }, m._fixTitle = function () {
                    var t = typeof this.element.getAttribute("data-original-title");
                    (this.element.getAttribute("title") || "string" !== t) && (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", ""))
                }, m._enter = function (t, n) {
                    var i = this.constructor.DATA_KEY;
                    (n = n || e(t.currentTarget).data(i)) || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(i, n)), t && (n._activeTrigger["focusin" === t.type ? g.FOCUS : g.HOVER] = !0), e(n.getTipElement()).hasClass(f.SHOW) || n._hoverState === u.SHOW ? n._hoverState = u.SHOW : (clearTimeout(n._timeout), n._hoverState = u.SHOW, n.config.delay && n.config.delay.show ? n._timeout = setTimeout(function () {
                        n._hoverState === u.SHOW && n.show()
                    }, n.config.delay.show) : n.show())
                }, m._leave = function (t, n) {
                    var i = this.constructor.DATA_KEY;
                    (n = n || e(t.currentTarget).data(i)) || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(i, n)), t && (n._activeTrigger["focusout" === t.type ? g.FOCUS : g.HOVER] = !1), n._isWithActiveTrigger() || (clearTimeout(n._timeout), n._hoverState = u.OUT, n.config.delay && n.config.delay.hide ? n._timeout = setTimeout(function () {
                        n._hoverState === u.OUT && n.hide()
                    }, n.config.delay.hide) : n.hide())
                }, m._isWithActiveTrigger = function () {
                    for (var t in this._activeTrigger) if (this._activeTrigger[t]) return !0;
                    return !1
                }, m._getConfig = function (n) {
                    return "number" == typeof (n = e.extend({}, this.constructor.Default, e(this.element).data(), n)).delay && (n.delay = {
                        show: n.delay,
                        hide: n.delay
                    }), "number" == typeof n.title && (n.title = n.title.toString()), "number" == typeof n.content && (n.content = n.content.toString()), s.typeCheckConfig(t, n, this.constructor.DefaultType), n
                }, m._getDelegateConfig = function () {
                    var t = {};
                    if (this.config) for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]);
                    return t
                }, m._cleanTipClass = function () {
                    var t = e(this.getTipElement()), n = t.attr("class").match(a);
                    null !== n && n.length > 0 && t.removeClass(n.join(""))
                }, m._handlePopperPlacementChange = function (t) {
                    this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement))
                }, m._fixTransition = function () {
                    var t = this.getTipElement(), n = this.config.animation;
                    null === t.getAttribute("x-placement") && (e(t).removeClass(f.FADE), this.config.animation = !1, this.hide(), this.show(), this.config.animation = n)
                }, o._jQueryInterface = function (t) {
                    return this.each(function () {
                        var n = e(this).data("bs.tooltip"), i = "object" == typeof t && t;
                        if ((n || !/dispose|hide/.test(t)) && (n || (n = new o(this, i), e(this).data("bs.tooltip", n)), "string" == typeof t)) {
                            if ("undefined" == typeof n[t]) throw new Error('No method named "' + t + '"');
                            n[t]()
                        }
                    })
                }, r(o, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }, {
                    key: "Default", get: function () {
                        return c
                    }
                }, {
                    key: "NAME", get: function () {
                        return t
                    }
                }, {
                    key: "DATA_KEY", get: function () {
                        return "bs.tooltip"
                    }
                }, {
                    key: "Event", get: function () {
                        return d
                    }
                }, {
                    key: "EVENT_KEY", get: function () {
                        return i
                    }
                }, {
                    key: "DefaultType", get: function () {
                        return l
                    }
                }]), o
            }();
        return e.fn[t] = m._jQueryInterface, e.fn[t].Constructor = m, e.fn[t].noConflict = function () {
            return e.fn[t] = o, m._jQueryInterface
        }, m
    }(), _ = function () {
        var t = "popover", n = ".bs.popover", i = e.fn[t], s = new RegExp("(^|\\s)bs-popover\\S+", "g"),
            a = e.extend({}, f.Default, {
                placement: "right",
                trigger: "click",
                content: "",
                template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'
            }), l = e.extend({}, f.DefaultType, {content: "(string|element|function)"}),
            h = {FADE: "fade", SHOW: "show"}, c = {TITLE: ".popover-header", CONTENT: ".popover-body"}, u = {
                HIDE: "hide" + n,
                HIDDEN: "hidden" + n,
                SHOW: "show" + n,
                SHOWN: "shown" + n,
                INSERTED: "inserted" + n,
                CLICK: "click" + n,
                FOCUSIN: "focusin" + n,
                FOCUSOUT: "focusout" + n,
                MOUSEENTER: "mouseenter" + n,
                MOUSELEAVE: "mouseleave" + n
            }, d = function (i) {
                function d() {
                    return i.apply(this, arguments) || this
                }

                o(d, i);
                var f = d.prototype;
                return f.isWithContent = function () {
                    return this.getTitle() || this._getContent()
                }, f.addAttachmentClass = function (t) {
                    e(this.getTipElement()).addClass("bs-popover-" + t)
                }, f.getTipElement = function () {
                    return this.tip = this.tip || e(this.config.template)[0], this.tip
                }, f.setContent = function () {
                    var t = e(this.getTipElement());
                    this.setElementContent(t.find(c.TITLE), this.getTitle()), this.setElementContent(t.find(c.CONTENT), this._getContent()), t.removeClass(h.FADE + " " + h.SHOW)
                }, f._getContent = function () {
                    return this.element.getAttribute("data-content") || ("function" == typeof this.config.content ? this.config.content.call(this.element) : this.config.content)
                }, f._cleanTipClass = function () {
                    var t = e(this.getTipElement()), n = t.attr("class").match(s);
                    null !== n && n.length > 0 && t.removeClass(n.join(""))
                }, d._jQueryInterface = function (t) {
                    return this.each(function () {
                        var n = e(this).data("bs.popover"), i = "object" == typeof t ? t : null;
                        if ((n || !/destroy|hide/.test(t)) && (n || (n = new d(this, i), e(this).data("bs.popover", n)), "string" == typeof t)) {
                            if ("undefined" == typeof n[t]) throw new Error('No method named "' + t + '"');
                            n[t]()
                        }
                    })
                }, r(d, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }, {
                    key: "Default", get: function () {
                        return a
                    }
                }, {
                    key: "NAME", get: function () {
                        return t
                    }
                }, {
                    key: "DATA_KEY", get: function () {
                        return "bs.popover"
                    }
                }, {
                    key: "Event", get: function () {
                        return u
                    }
                }, {
                    key: "EVENT_KEY", get: function () {
                        return n
                    }
                }, {
                    key: "DefaultType", get: function () {
                        return l
                    }
                }]), d
            }(f);
        return e.fn[t] = d._jQueryInterface, e.fn[t].Constructor = d, e.fn[t].noConflict = function () {
            return e.fn[t] = i, d._jQueryInterface
        }, d
    }(), g = function () {
        var t = "scrollspy", n = e.fn[t], i = {offset: 10, method: "auto", target: ""},
            o = {offset: "number", method: "string", target: "(string|element)"}, a = {
                ACTIVATE: "activate.bs.scrollspy",
                SCROLL: "scroll.bs.scrollspy",
                LOAD_DATA_API: "load.bs.scrollspy.data-api"
            }, l = {DROPDOWN_ITEM: "dropdown-item", DROPDOWN_MENU: "dropdown-menu", ACTIVE: "active"}, h = {
                DATA_SPY: '[data-spy="scroll"]',
                ACTIVE: ".active",
                NAV_LIST_GROUP: ".nav, .list-group",
                NAV_LINKS: ".nav-link",
                NAV_ITEMS: ".nav-item",
                LIST_ITEMS: ".list-group-item",
                DROPDOWN: ".dropdown",
                DROPDOWN_ITEMS: ".dropdown-item",
                DROPDOWN_TOGGLE: ".dropdown-toggle"
            }, c = {OFFSET: "offset", POSITION: "position"}, u = function () {
                function n(t, n) {
                    var i = this;
                    this._element = t, this._scrollElement = "BODY" === t.tagName ? window : t, this._config = this._getConfig(n), this._selector = this._config.target + " " + h.NAV_LINKS + "," + this._config.target + " " + h.LIST_ITEMS + "," + this._config.target + " " + h.DROPDOWN_ITEMS, this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, e(this._scrollElement).on(a.SCROLL, function (t) {
                        return i._process(t)
                    }), this.refresh(), this._process()
                }

                var u = n.prototype;
                return u.refresh = function () {
                    var t = this, n = this._scrollElement !== this._scrollElement.window ? c.POSITION : c.OFFSET,
                        i = "auto" === this._config.method ? n : this._config.method,
                        r = i === c.POSITION ? this._getScrollTop() : 0;
                    this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), e.makeArray(e(this._selector)).map(function (t) {
                        var n, o = s.getSelectorFromElement(t);
                        if (o && (n = e(o)[0]), n) {
                            var a = n.getBoundingClientRect();
                            if (a.width || a.height) return [e(n)[i]().top + r, o]
                        }
                        return null
                    }).filter(function (t) {
                        return t
                    }).sort(function (t, e) {
                        return t[0] - e[0]
                    }).forEach(function (e) {
                        t._offsets.push(e[0]), t._targets.push(e[1])
                    })
                }, u.dispose = function () {
                    e.removeData(this._element, "bs.scrollspy"), e(this._scrollElement).off(".bs.scrollspy"), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null
                }, u._getConfig = function (n) {
                    if ("string" != typeof (n = e.extend({}, i, n)).target) {
                        var r = e(n.target).attr("id");
                        r || (r = s.getUID(t), e(n.target).attr("id", r)), n.target = "#" + r
                    }
                    return s.typeCheckConfig(t, n, o), n
                }, u._getScrollTop = function () {
                    return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop
                }, u._getScrollHeight = function () {
                    return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)
                }, u._getOffsetHeight = function () {
                    return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height
                }, u._process = function () {
                    var t = this._getScrollTop() + this._config.offset, e = this._getScrollHeight(),
                        n = this._config.offset + e - this._getOffsetHeight();
                    if (this._scrollHeight !== e && this.refresh(), t >= n) {
                        var i = this._targets[this._targets.length - 1];
                        this._activeTarget !== i && this._activate(i)
                    } else {
                        if (this._activeTarget && t < this._offsets[0] && this._offsets[0] > 0) return this._activeTarget = null, void this._clear();
                        for (var s = this._offsets.length; s--;) this._activeTarget !== this._targets[s] && t >= this._offsets[s] && ("undefined" == typeof this._offsets[s + 1] || t < this._offsets[s + 1]) && this._activate(this._targets[s])
                    }
                }, u._activate = function (t) {
                    this._activeTarget = t, this._clear();
                    var n = this._selector.split(",");
                    n = n.map(function (e) {
                        return e + '[data-target="' + t + '"],' + e + '[href="' + t + '"]'
                    });
                    var i = e(n.join(","));
                    i.hasClass(l.DROPDOWN_ITEM) ? (i.closest(h.DROPDOWN).find(h.DROPDOWN_TOGGLE).addClass(l.ACTIVE), i.addClass(l.ACTIVE)) : (i.addClass(l.ACTIVE), i.parents(h.NAV_LIST_GROUP).prev(h.NAV_LINKS + ", " + h.LIST_ITEMS).addClass(l.ACTIVE), i.parents(h.NAV_LIST_GROUP).prev(h.NAV_ITEMS).children(h.NAV_LINKS).addClass(l.ACTIVE)), e(this._scrollElement).trigger(a.ACTIVATE, {relatedTarget: t})
                }, u._clear = function () {
                    e(this._selector).filter(h.ACTIVE).removeClass(l.ACTIVE)
                }, n._jQueryInterface = function (t) {
                    return this.each(function () {
                        var i = e(this).data("bs.scrollspy"), s = "object" == typeof t && t;
                        if (i || (i = new n(this, s), e(this).data("bs.scrollspy", i)), "string" == typeof t) {
                            if ("undefined" == typeof i[t]) throw new Error('No method named "' + t + '"');
                            i[t]()
                        }
                    })
                }, r(n, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }, {
                    key: "Default", get: function () {
                        return i
                    }
                }]), n
            }();
        return e(window).on(a.LOAD_DATA_API, function () {
            for (var t = e.makeArray(e(h.DATA_SPY)), n = t.length; n--;) {
                var i = e(t[n]);
                u._jQueryInterface.call(i, i.data())
            }
        }), e.fn[t] = u._jQueryInterface, e.fn[t].Constructor = u, e.fn[t].noConflict = function () {
            return e.fn[t] = n, u._jQueryInterface
        }, u
    }(), m = function () {
        var t = e.fn.tab, n = {
                HIDE: "hide.bs.tab",
                HIDDEN: "hidden.bs.tab",
                SHOW: "show.bs.tab",
                SHOWN: "shown.bs.tab",
                CLICK_DATA_API: "click.bs.tab.data-api"
            }, i = {DROPDOWN_MENU: "dropdown-menu", ACTIVE: "active", DISABLED: "disabled", FADE: "fade", SHOW: "show"},
            o = {
                DROPDOWN: ".dropdown",
                NAV_LIST_GROUP: ".nav, .list-group",
                ACTIVE: ".active",
                ACTIVE_UL: "> li > .active",
                DATA_TOGGLE: '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',
                DROPDOWN_TOGGLE: ".dropdown-toggle",
                DROPDOWN_ACTIVE_CHILD: "> .dropdown-menu .active"
            }, a = function () {
                function t(t) {
                    this._element = t
                }

                var a = t.prototype;
                return a.show = function () {
                    var t = this;
                    if (!(this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && e(this._element).hasClass(i.ACTIVE) || e(this._element).hasClass(i.DISABLED))) {
                        var r, a, l = e(this._element).closest(o.NAV_LIST_GROUP)[0],
                            h = s.getSelectorFromElement(this._element);
                        if (l) {
                            var c = "UL" === l.nodeName ? o.ACTIVE_UL : o.ACTIVE;
                            a = e.makeArray(e(l).find(c)), a = a[a.length - 1]
                        }
                        var u = e.Event(n.HIDE, {relatedTarget: this._element}), d = e.Event(n.SHOW, {relatedTarget: a});
                        if (a && e(a).trigger(u), e(this._element).trigger(d), !d.isDefaultPrevented() && !u.isDefaultPrevented()) {
                            h && (r = e(h)[0]), this._activate(this._element, l);
                            var f = function () {
                                var i = e.Event(n.HIDDEN, {relatedTarget: t._element}),
                                    s = e.Event(n.SHOWN, {relatedTarget: a});
                                e(a).trigger(i), e(t._element).trigger(s)
                            };
                            r ? this._activate(r, r.parentNode, f) : f()
                        }
                    }
                }, a.dispose = function () {
                    e.removeData(this._element, "bs.tab"), this._element = null
                }, a._activate = function (t, n, r) {
                    var a, l = this, h = (a = "UL" === n.nodeName ? e(n).find(o.ACTIVE_UL) : e(n).children(o.ACTIVE))[0],
                        c = r && s.supportsTransitionEnd() && h && e(h).hasClass(i.FADE), u = function () {
                            return l._transitionComplete(t, h, c, r)
                        };
                    h && c ? e(h).one(s.TRANSITION_END, u).emulateTransitionEnd(150) : u(), h && e(h).removeClass(i.SHOW)
                }, a._transitionComplete = function (t, n, r, a) {
                    if (n) {
                        e(n).removeClass(i.ACTIVE);
                        var l = e(n.parentNode).find(o.DROPDOWN_ACTIVE_CHILD)[0];
                        l && e(l).removeClass(i.ACTIVE), "tab" === n.getAttribute("role") && n.setAttribute("aria-selected", !1)
                    }
                    if (e(t).addClass(i.ACTIVE), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), r ? (s.reflow(t), e(t).addClass(i.SHOW)) : e(t).removeClass(i.FADE), t.parentNode && e(t.parentNode).hasClass(i.DROPDOWN_MENU)) {
                        var h = e(t).closest(o.DROPDOWN)[0];
                        h && e(h).find(o.DROPDOWN_TOGGLE).addClass(i.ACTIVE), t.setAttribute("aria-expanded", !0)
                    }
                    a && a()
                }, t._jQueryInterface = function (n) {
                    return this.each(function () {
                        var i = e(this), s = i.data("bs.tab");
                        if (s || (s = new t(this), i.data("bs.tab", s)), "string" == typeof n) {
                            if ("undefined" == typeof s[n]) throw new Error('No method named "' + n + '"');
                            s[n]()
                        }
                    })
                }, r(t, null, [{
                    key: "VERSION", get: function () {
                        return "4.0.0-beta.2"
                    }
                }]), t
            }();
        return e(document).on(n.CLICK_DATA_API, o.DATA_TOGGLE, function (t) {
            t.preventDefault(), a._jQueryInterface.call(e(this), "show")
        }), e.fn.tab = a._jQueryInterface, e.fn.tab.Constructor = a, e.fn.tab.noConflict = function () {
            return e.fn.tab = t, a._jQueryInterface
        }, a
    }();
    return function () {
        if ("undefined" == typeof e) throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");
        var t = e.fn.jquery.split(" ")[0].split(".");
        if (t[0] < 2 && t[1] < 9 || 1 === t[0] && 9 === t[1] && t[2] < 1 || t[0] >= 4) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")
    }(), t.Util = s, t.Alert = a, t.Button = l, t.Carousel = h, t.Collapse = c, t.Dropdown = u, t.Modal = d, t.Popover = _, t.Scrollspy = g, t.Tab = m, t.Tooltip = f, t
}({}, $, Popper);
//# sourceMappingURL=bootstrap.min.js.map
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global.Swiper = factory());
}(this, (function () {
    'use strict';
    var d;
    if (typeof document === 'undefined') {
        d = {
            body: {}, addEventListener: function addEventListener() {
            }, removeEventListener: function removeEventListener() {
            }, activeElement: {
                blur: function blur() {
                }, nodeName: '',
            }, querySelector: function querySelector() {
                return null;
            }, querySelectorAll: function querySelectorAll() {
                return [];
            }, getElementById: function getElementById() {
                return null;
            }, createEvent: function createEvent() {
                return {
                    initEvent: function initEvent() {
                    },
                };
            }, createElement: function createElement() {
                return {
                    children: [], childNodes: [], style: {}, setAttribute: function setAttribute() {
                    }, getElementsByTagName: function getElementsByTagName() {
                        return [];
                    },
                };
            }, location: {hash: ''},
        };
    } else {
        d = document;
    }
    var doc = d;
    var w;
    if (typeof window === 'undefined') {
        w = {
            document: doc,
            navigator: {userAgent: '',},
            location: {},
            history: {},
            CustomEvent: function CustomEvent() {
                return this;
            },
            addEventListener: function addEventListener() {
            },
            removeEventListener: function removeEventListener() {
            },
            getComputedStyle: function getComputedStyle() {
                return {
                    getPropertyValue: function getPropertyValue() {
                        return '';
                    },
                };
            },
            Image: function Image() {
            },
            Date: function Date() {
            },
            screen: {},
            setTimeout: function setTimeout() {
            },
            clearTimeout: function clearTimeout() {
            },
        };
    } else {
        w = window;
    }
    var win = w;
    var Dom7 = function Dom7(arr) {
        var self = this;
        for (var i = 0; i < arr.length; i += 1) {
            self[i] = arr[i];
        }
        self.length = arr.length;
        return this;
    };

    function $$1(selector, context) {
        var arr = [];
        var i = 0;
        if (selector && !context) {
            if (selector instanceof Dom7) {
                return selector;
            }
        }
        if (selector) {
            if (typeof selector === 'string') {
                var els;
                var tempParent;
                var html = selector.trim();
                if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {
                    var toCreate = 'div';
                    if (html.indexOf('<li') === 0) {
                        toCreate = 'ul';
                    }
                    if (html.indexOf('<tr') === 0) {
                        toCreate = 'tbody';
                    }
                    if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) {
                        toCreate = 'tr';
                    }
                    if (html.indexOf('<tbody') === 0) {
                        toCreate = 'table';
                    }
                    if (html.indexOf('<option') === 0) {
                        toCreate = 'select';
                    }
                    tempParent = doc.createElement(toCreate);
                    tempParent.innerHTML = html;
                    for (i = 0; i < tempParent.childNodes.length; i += 1) {
                        arr.push(tempParent.childNodes[i]);
                    }
                } else {
                    if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {
                        els = [doc.getElementById(selector.trim().split('#')[1])];
                    } else {
                        els = (context || doc).querySelectorAll(selector.trim());
                    }
                    for (i = 0; i < els.length; i += 1) {
                        if (els[i]) {
                            arr.push(els[i]);
                        }
                    }
                }
            } else if (selector.nodeType || selector === win || selector === doc) {
                arr.push(selector);
            } else if (selector.length > 0 && selector[0].nodeType) {
                for (i = 0; i < selector.length; i += 1) {
                    arr.push(selector[i]);
                }
            }
        }
        return new Dom7(arr);
    }

    $$1.fn = Dom7.prototype;
    $$1.Class = Dom7;
    $$1.Dom7 = Dom7;

    function unique(arr) {
        var uniqueArray = [];
        for (var i = 0; i < arr.length; i += 1) {
            if (uniqueArray.indexOf(arr[i]) === -1) {
                uniqueArray.push(arr[i]);
            }
        }
        return uniqueArray;
    }

    function addClass(className) {
        var this$1 = this;
        if (typeof className === 'undefined') {
            return this;
        }
        var classes = className.split(' ');
        for (var i = 0; i < classes.length; i += 1) {
            for (var j = 0; j < this.length; j += 1) {
                if (typeof this$1[j].classList !== 'undefined') {
                    this$1[j].classList.add(classes[i]);
                }
            }
        }
        return this;
    }

    function removeClass(className) {
        var this$1 = this;
        var classes = className.split(' ');
        for (var i = 0; i < classes.length; i += 1) {
            for (var j = 0; j < this.length; j += 1) {
                if (typeof this$1[j].classList !== 'undefined') {
                    this$1[j].classList.remove(classes[i]);
                }
            }
        }
        return this;
    }

    function hasClass(className) {
        if (!this[0]) {
            return false;
        }
        return this[0].classList.contains(className);
    }

    function toggleClass(className) {
        var this$1 = this;
        var classes = className.split(' ');
        for (var i = 0; i < classes.length; i += 1) {
            for (var j = 0; j < this.length; j += 1) {
                if (typeof this$1[j].classList !== 'undefined') {
                    this$1[j].classList.toggle(classes[i]);
                }
            }
        }
        return this;
    }

    function attr(attrs, value) {
        var arguments$1 = arguments;
        var this$1 = this;
        if (arguments.length === 1 && typeof attrs === 'string') {
            if (this[0]) {
                return this[0].getAttribute(attrs);
            }
            return undefined;
        }
        for (var i = 0; i < this.length; i += 1) {
            if (arguments$1.length === 2) {
                this$1[i].setAttribute(attrs, value);
            } else {
                for (var attrName in attrs) {
                    this$1[i][attrName] = attrs[attrName];
                    this$1[i].setAttribute(attrName, attrs[attrName]);
                }
            }
        }
        return this;
    }

    function removeAttr(attr) {
        var this$1 = this;
        for (var i = 0; i < this.length; i += 1) {
            this$1[i].removeAttribute(attr);
        }
        return this;
    }

    function data(key, value) {
        var this$1 = this;
        var el;
        if (typeof value === 'undefined') {
            el = this[0];
            if (el) {
                if (el.dom7ElementDataStorage && (key in el.dom7ElementDataStorage)) {
                    return el.dom7ElementDataStorage[key];
                }
                var dataKey = el.getAttribute(("data-" + key));
                if (dataKey) {
                    return dataKey;
                }
                return undefined;
            }
            return undefined;
        }
        for (var i = 0; i < this.length; i += 1) {
            el = this$1[i];
            if (!el.dom7ElementDataStorage) {
                el.dom7ElementDataStorage = {};
            }
            el.dom7ElementDataStorage[key] = value;
        }
        return this;
    }

    function transform(transform) {
        var this$1 = this;
        for (var i = 0; i < this.length; i += 1) {
            var elStyle = this$1[i].style;
            elStyle.webkitTransform = transform;
            elStyle.transform = transform;
        }
        return this;
    }

    function transition(duration) {
        var this$1 = this;
        if (typeof duration !== 'string') {
            duration = duration + "ms";
        }
        for (var i = 0; i < this.length; i += 1) {
            var elStyle = this$1[i].style;
            elStyle.webkitTransitionDuration = duration;
            elStyle.transitionDuration = duration;
        }
        return this;
    }

    function on() {
        var this$1 = this;
        var args = [], len = arguments.length;
        while (len--) args[len] = arguments[len];
        var eventType = args[0];
        var targetSelector = args[1];
        var listener = args[2];
        var capture = args[3];
        if (typeof args[1] === 'function') {
            var assign;
            (assign = args, eventType = assign[0], listener = assign[1], capture = assign[2]);
            targetSelector = undefined;
        }
        if (!capture) {
            capture = false;
        }

        function handleLiveEvent(e) {
            var target = e.target;
            if (!target) {
                return;
            }
            var eventData = e.target.dom7EventData || [];
            eventData.unshift(e);
            if ($$1(target).is(targetSelector)) {
                listener.apply(target, eventData);
            } else {
                var parents = $$1(target).parents();
                for (var k = 0; k < parents.length; k += 1) {
                    if ($$1(parents[k]).is(targetSelector)) {
                        listener.apply(parents[k], eventData);
                    }
                }
            }
        }

        function handleEvent(e) {
            var eventData = e && e.target ? e.target.dom7EventData || [] : [];
            eventData.unshift(e);
            listener.apply(this, eventData);
        }

        var events = eventType.split(' ');
        var j;
        for (var i = 0; i < this.length; i += 1) {
            var el = this$1[i];
            if (!targetSelector) {
                for (j = 0; j < events.length; j += 1) {
                    if (!el.dom7Listeners) {
                        el.dom7Listeners = [];
                    }
                    el.dom7Listeners.push({type: eventType, listener: listener, proxyListener: handleEvent,});
                    el.addEventListener(events[j], handleEvent, capture);
                }
            } else {
                for (j = 0; j < events.length; j += 1) {
                    if (!el.dom7LiveListeners) {
                        el.dom7LiveListeners = [];
                    }
                    el.dom7LiveListeners.push({type: eventType, listener: listener, proxyListener: handleLiveEvent,});
                    el.addEventListener(events[j], handleLiveEvent, capture);
                }
            }
        }
        return this;
    }

    function off() {
        var this$1 = this;
        var args = [], len = arguments.length;
        while (len--) args[len] = arguments[len];
        var eventType = args[0];
        var targetSelector = args[1];
        var listener = args[2];
        var capture = args[3];
        if (typeof args[1] === 'function') {
            var assign;
            (assign = args, eventType = assign[0], listener = assign[1], capture = assign[2]);
            targetSelector = undefined;
        }
        if (!capture) {
            capture = false;
        }
        var events = eventType.split(' ');
        for (var i = 0; i < events.length; i += 1) {
            for (var j = 0; j < this.length; j += 1) {
                var el = this$1[j];
                if (!targetSelector) {
                    if (el.dom7Listeners) {
                        for (var k = 0; k < el.dom7Listeners.length; k += 1) {
                            if (listener) {
                                if (el.dom7Listeners[k].listener === listener) {
                                    el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);
                                }
                            } else if (el.dom7Listeners[k].type === events[i]) {
                                el.removeEventListener(events[i], el.dom7Listeners[k].proxyListener, capture);
                            }
                        }
                    }
                } else if (el.dom7LiveListeners) {
                    for (var k$1 = 0; k$1 < el.dom7LiveListeners.length; k$1 += 1) {
                        if (listener) {
                            if (el.dom7LiveListeners[k$1].listener === listener) {
                                el.removeEventListener(events[i], el.dom7LiveListeners[k$1].proxyListener, capture);
                            }
                        } else if (el.dom7LiveListeners[k$1].type === events[i]) {
                            el.removeEventListener(events[i], el.dom7LiveListeners[k$1].proxyListener, capture);
                        }
                    }
                }
            }
        }
        return this;
    }

    function trigger() {
        var this$1 = this;
        var args = [], len = arguments.length;
        while (len--) args[len] = arguments[len];
        var events = args[0].split(' ');
        var eventData = args[1];
        for (var i = 0; i < events.length; i += 1) {
            for (var j = 0; j < this.length; j += 1) {
                var evt = (void 0);
                try {
                    evt = new win.CustomEvent(events[i], {detail: eventData, bubbles: true, cancelable: true,});
                } catch (e) {
                    evt = doc.createEvent('Event');
                    evt.initEvent(events[i], true, true);
                    evt.detail = eventData;
                }
                this$1[j].dom7EventData = args.filter(function (data, dataIndex) {
                    return dataIndex > 0;
                });
                this$1[j].dispatchEvent(evt);
                this$1[j].dom7EventData = [];
                delete this$1[j].dom7EventData;
            }
        }
        return this;
    }

    function transitionEnd(callback) {
        var events = ['webkitTransitionEnd', 'transitionend'];
        var dom = this;
        var i;

        function fireCallBack(e) {
            if (e.target !== this) {
                return;
            }
            callback.call(this, e);
            for (i = 0; i < events.length; i += 1) {
                dom.off(events[i], fireCallBack);
            }
        }

        if (callback) {
            for (i = 0; i < events.length; i += 1) {
                dom.on(events[i], fireCallBack);
            }
        }
        return this;
    }

    function outerWidth(includeMargins) {
        if (this.length > 0) {
            if (includeMargins) {
                var styles = this.styles();
                return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));
            }
            return this[0].offsetWidth;
        }
        return null;
    }

    function outerHeight(includeMargins) {
        if (this.length > 0) {
            if (includeMargins) {
                var styles = this.styles();
                return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));
            }
            return this[0].offsetHeight;
        }
        return null;
    }

    function offset() {
        if (this.length > 0) {
            var el = this[0];
            var box = el.getBoundingClientRect();
            var body = doc.body;
            var clientTop = el.clientTop || body.clientTop || 0;
            var clientLeft = el.clientLeft || body.clientLeft || 0;
            var scrollTop = el === win ? win.scrollY : el.scrollTop;
            var scrollLeft = el === win ? win.scrollX : el.scrollLeft;
            return {top: (box.top + scrollTop) - clientTop, left: (box.left + scrollLeft) - clientLeft,};
        }
        return null;
    }

    function styles() {
        if (this[0]) {
            return win.getComputedStyle(this[0], null);
        }
        return {};
    }

    function css(props, value) {
        var this$1 = this;
        var i;
        if (arguments.length === 1) {
            if (typeof props === 'string') {
                if (this[0]) {
                    return win.getComputedStyle(this[0], null).getPropertyValue(props);
                }
            } else {
                for (i = 0; i < this.length; i += 1) {
                    for (var prop in props) {
                        this$1[i].style[prop] = props[prop];
                    }
                }
                return this;
            }
        }
        if (arguments.length === 2 && typeof props === 'string') {
            for (i = 0; i < this.length; i += 1) {
                this$1[i].style[props] = value;
            }
            return this;
        }
        return this;
    }

    function each(callback) {
        var this$1 = this;
        if (!callback) {
            return this;
        }
        for (var i = 0; i < this.length; i += 1) {
            if (callback.call(this$1[i], i, this$1[i]) === false) {
                return this$1;
            }
        }
        return this;
    }

    function html(html) {
        var this$1 = this;
        if (typeof html === 'undefined') {
            return this[0] ? this[0].innerHTML : undefined;
        }
        for (var i = 0; i < this.length; i += 1) {
            this$1[i].innerHTML = html;
        }
        return this;
    }

    function text(text) {
        var this$1 = this;
        if (typeof text === 'undefined') {
            if (this[0]) {
                return this[0].textContent.trim();
            }
            return null;
        }
        for (var i = 0; i < this.length; i += 1) {
            this$1[i].textContent = text;
        }
        return this;
    }

    function is(selector) {
        var el = this[0];
        var compareWith;
        var i;
        if (!el || typeof selector === 'undefined') {
            return false;
        }
        if (typeof selector === 'string') {
            if (el.matches) {
                return el.matches(selector);
            } else if (el.webkitMatchesSelector) {
                return el.webkitMatchesSelector(selector);
            } else if (el.msMatchesSelector) {
                return el.msMatchesSelector(selector);
            }
            compareWith = $$1(selector);
            for (i = 0; i < compareWith.length; i += 1) {
                if (compareWith[i] === el) {
                    return true;
                }
            }
            return false;
        } else if (selector === doc) {
            return el === doc;
        } else if (selector === win) {
            return el === win;
        }
        if (selector.nodeType || selector instanceof Dom7) {
            compareWith = selector.nodeType ? [selector] : selector;
            for (i = 0; i < compareWith.length; i += 1) {
                if (compareWith[i] === el) {
                    return true;
                }
            }
            return false;
        }
        return false;
    }

    function index() {
        var child = this[0];
        var i;
        if (child) {
            i = 0;
            while ((child = child.previousSibling) !== null) {
                if (child.nodeType === 1) {
                    i += 1;
                }
            }
            return i;
        }
        return undefined;
    }

    function eq(index) {
        if (typeof index === 'undefined') {
            return this;
        }
        var length = this.length;
        var returnIndex;
        if (index > length - 1) {
            return new Dom7([]);
        }
        if (index < 0) {
            returnIndex = length + index;
            if (returnIndex < 0) {
                return new Dom7([]);
            }
            return new Dom7([this[returnIndex]]);
        }
        return new Dom7([this[index]]);
    }

    function append() {
        var this$1 = this;
        var args = [], len = arguments.length;
        while (len--) args[len] = arguments[len];
        var newChild;
        for (var k = 0; k < args.length; k += 1) {
            newChild = args[k];
            for (var i = 0; i < this.length; i += 1) {
                if (typeof newChild === 'string') {
                    var tempDiv = doc.createElement('div');
                    tempDiv.innerHTML = newChild;
                    while (tempDiv.firstChild) {
                        this$1[i].appendChild(tempDiv.firstChild);
                    }
                } else if (newChild instanceof Dom7) {
                    for (var j = 0; j < newChild.length; j += 1) {
                        this$1[i].appendChild(newChild[j]);
                    }
                } else {
                    this$1[i].appendChild(newChild);
                }
            }
        }
        return this;
    }

    function prepend(newChild) {
        var this$1 = this;
        var i;
        var j;
        for (i = 0; i < this.length; i += 1) {
            if (typeof newChild === 'string') {
                var tempDiv = doc.createElement('div');
                tempDiv.innerHTML = newChild;
                for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {
                    this$1[i].insertBefore(tempDiv.childNodes[j], this$1[i].childNodes[0]);
                }
            } else if (newChild instanceof Dom7) {
                for (j = 0; j < newChild.length; j += 1) {
                    this$1[i].insertBefore(newChild[j], this$1[i].childNodes[0]);
                }
            } else {
                this$1[i].insertBefore(newChild, this$1[i].childNodes[0]);
            }
        }
        return this;
    }

    function next(selector) {
        if (this.length > 0) {
            if (selector) {
                if (this[0].nextElementSibling && $$1(this[0].nextElementSibling).is(selector)) {
                    return new Dom7([this[0].nextElementSibling]);
                }
                return new Dom7([]);
            }
            if (this[0].nextElementSibling) {
                return new Dom7([this[0].nextElementSibling]);
            }
            return new Dom7([]);
        }
        return new Dom7([]);
    }

    function nextAll(selector) {
        var nextEls = [];
        var el = this[0];
        if (!el) {
            return new Dom7([]);
        }
        while (el.nextElementSibling) {
            var next = el.nextElementSibling;
            if (selector) {
                if ($$1(next).is(selector)) {
                    nextEls.push(next);
                }
            } else {
                nextEls.push(next);
            }
            el = next;
        }
        return new Dom7(nextEls);
    }

    function prev(selector) {
        if (this.length > 0) {
            var el = this[0];
            if (selector) {
                if (el.previousElementSibling && $$1(el.previousElementSibling).is(selector)) {
                    return new Dom7([el.previousElementSibling]);
                }
                return new Dom7([]);
            }
            if (el.previousElementSibling) {
                return new Dom7([el.previousElementSibling]);
            }
            return new Dom7([]);
        }
        return new Dom7([]);
    }

    function prevAll(selector) {
        var prevEls = [];
        var el = this[0];
        if (!el) {
            return new Dom7([]);
        }
        while (el.previousElementSibling) {
            var prev = el.previousElementSibling;
            if (selector) {
                if ($$1(prev).is(selector)) {
                    prevEls.push(prev);
                }
            } else {
                prevEls.push(prev);
            }
            el = prev;
        }
        return new Dom7(prevEls);
    }

    function parent(selector) {
        var this$1 = this;
        var parents = [];
        for (var i = 0; i < this.length; i += 1) {
            if (this$1[i].parentNode !== null) {
                if (selector) {
                    if ($$1(this$1[i].parentNode).is(selector)) {
                        parents.push(this$1[i].parentNode);
                    }
                } else {
                    parents.push(this$1[i].parentNode);
                }
            }
        }
        return $$1(unique(parents));
    }

    function parents(selector) {
        var this$1 = this;
        var parents = [];
        for (var i = 0; i < this.length; i += 1) {
            var parent = this$1[i].parentNode;
            while (parent) {
                if (selector) {
                    if ($$1(parent).is(selector)) {
                        parents.push(parent);
                    }
                } else {
                    parents.push(parent);
                }
                parent = parent.parentNode;
            }
        }
        return $$1(unique(parents));
    }

    function closest(selector) {
        var closest = this;
        if (typeof selector === 'undefined') {
            return new Dom7([]);
        }
        if (!closest.is(selector)) {
            closest = closest.parents(selector).eq(0);
        }
        return closest;
    }

    function find(selector) {
        var this$1 = this;
        var foundElements = [];
        for (var i = 0; i < this.length; i += 1) {
            var found = this$1[i].querySelectorAll(selector);
            for (var j = 0; j < found.length; j += 1) {
                foundElements.push(found[j]);
            }
        }
        return new Dom7(foundElements);
    }

    function children(selector) {
        var this$1 = this;
        var children = [];
        for (var i = 0; i < this.length; i += 1) {
            var childNodes = this$1[i].childNodes;
            for (var j = 0; j < childNodes.length; j += 1) {
                if (!selector) {
                    if (childNodes[j].nodeType === 1) {
                        children.push(childNodes[j]);
                    }
                } else if (childNodes[j].nodeType === 1 && $$1(childNodes[j]).is(selector)) {
                    children.push(childNodes[j]);
                }
            }
        }
        return new Dom7(unique(children));
    }

    function remove() {
        var this$1 = this;
        for (var i = 0; i < this.length; i += 1) {
            if (this$1[i].parentNode) {
                this$1[i].parentNode.removeChild(this$1[i]);
            }
        }
        return this;
    }

    function add() {
        var args = [], len = arguments.length;
        while (len--) args[len] = arguments[len];
        var dom = this;
        var i;
        var j;
        for (i = 0; i < args.length; i += 1) {
            var toAdd = $$1(args[i]);
            for (j = 0; j < toAdd.length; j += 1) {
                dom[dom.length] = toAdd[j];
                dom.length += 1;
            }
        }
        return dom;
    }

    var noTrigger = ('resize scroll').split(' ');
    var Methods = {
        addClass: addClass,
        removeClass: removeClass,
        hasClass: hasClass,
        toggleClass: toggleClass,
        attr: attr,
        removeAttr: removeAttr,
        data: data,
        transform: transform,
        transition: transition,
        on: on,
        off: off,
        trigger: trigger,
        transitionEnd: transitionEnd,
        outerWidth: outerWidth,
        outerHeight: outerHeight,
        offset: offset,
        css: css,
        each: each,
        html: html,
        text: text,
        is: is,
        index: index,
        eq: eq,
        append: append,
        prepend: prepend,
        next: next,
        nextAll: nextAll,
        prev: prev,
        prevAll: prevAll,
        parent: parent,
        parents: parents,
        closest: closest,
        find: find,
        children: children,
        remove: remove,
        add: add,
        styles: styles,
    };
    Object.keys(Methods).forEach(function (methodName) {
        $$1.fn[methodName] = Methods[methodName];
    });
    var Utils = {
        deleteProps: function deleteProps(obj) {
            var object = obj;
            Object.keys(object).forEach(function (key) {
                try {
                    object[key] = null;
                } catch (e) {
                }
                try {
                    delete object[key];
                } catch (e) {
                }
            });
        }, nextTick: function nextTick(callback, delay) {
            if (delay === void 0) delay = 0;
            return setTimeout(callback, delay);
        }, now: function now() {
            return Date.now();
        }, getTranslate: function getTranslate(el, axis) {
            if (axis === void 0) axis = 'x';
            var matrix;
            var curTransform;
            var transformMatrix;
            var curStyle = win.getComputedStyle(el, null);
            if (win.WebKitCSSMatrix) {
                curTransform = curStyle.transform || curStyle.webkitTransform;
                if (curTransform.split(',').length > 6) {
                    curTransform = curTransform.split(', ').map(function (a) {
                        return a.replace(',', '.');
                    }).join(', ');
                }
                transformMatrix = new win.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);
            } else {
                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');
                matrix = transformMatrix.toString().split(',');
            }
            if (axis === 'x') {
                if (win.WebKitCSSMatrix) {
                    curTransform = transformMatrix.m41;
                } else if (matrix.length === 16) {
                    curTransform = parseFloat(matrix[12]);
                } else {
                    curTransform = parseFloat(matrix[4]);
                }
            }
            if (axis === 'y') {
                if (win.WebKitCSSMatrix) {
                    curTransform = transformMatrix.m42;
                } else if (matrix.length === 16) {
                    curTransform = parseFloat(matrix[13]);
                } else {
                    curTransform = parseFloat(matrix[5]);
                }
            }
            return curTransform || 0;
        }, parseUrlQuery: function parseUrlQuery(url) {
            var query = {};
            var urlToParse = url || win.location.href;
            var i;
            var params;
            var param;
            var length;
            if (typeof urlToParse === 'string' && urlToParse.length) {
                urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\S*\?/, '') : '';
                params = urlToParse.split('&').filter(function (paramsPart) {
                    return paramsPart !== '';
                });
                length = params.length;
                for (i = 0; i < length; i += 1) {
                    param = params[i].replace(/#\S+/g, '').split('=');
                    query[decodeURIComponent(param[0])] = typeof param[1] === 'undefined' ? undefined : decodeURIComponent(param[1]) || '';
                }
            }
            return query;
        }, isObject: function isObject(o) {
            return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;
        }, extend: function extend() {
            var args = [], len$1 = arguments.length;
            while (len$1--) args[len$1] = arguments[len$1];
            var to = Object(args[0]);
            for (var i = 1; i < args.length; i += 1) {
                var nextSource = args[i];
                if (nextSource !== undefined && nextSource !== null) {
                    var keysArray = Object.keys(Object(nextSource));
                    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {
                        var nextKey = keysArray[nextIndex];
                        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
                        if (desc !== undefined && desc.enumerable) {
                            if (Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {
                                Utils.extend(to[nextKey], nextSource[nextKey]);
                            } else if (!Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {
                                to[nextKey] = {};
                                Utils.extend(to[nextKey], nextSource[nextKey]);
                            } else {
                                to[nextKey] = nextSource[nextKey];
                            }
                        }
                    }
                }
            }
            return to;
        },
    };
    var Support = (function Support() {
        var testDiv = doc.createElement('div');
        return {
            touch: (win.Modernizr && win.Modernizr.touch === true) || (function checkTouch() {
                return !!(('ontouchstart' in win) || (win.DocumentTouch && doc instanceof win.DocumentTouch));
            }()),
            pointerEvents: !!(win.navigator.pointerEnabled || win.PointerEvent),
            prefixedPointerEvents: !!win.navigator.msPointerEnabled,
            transition: (function checkTransition() {
                var style = testDiv.style;
                return ('transition' in style || 'webkitTransition' in style || 'MozTransition' in style);
            }()),
            transforms3d: (win.Modernizr && win.Modernizr.csstransforms3d === true) || (function checkTransforms3d() {
                var style = testDiv.style;
                return ('webkitPerspective' in style || 'MozPerspective' in style || 'OPerspective' in style || 'MsPerspective' in style || 'perspective' in style);
            }()),
            flexbox: (function checkFlexbox() {
                var style = testDiv.style;
                var styles = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');
                for (var i = 0; i < styles.length; i += 1) {
                    if (styles[i] in style) {
                        return true;
                    }
                }
                return false;
            }()),
            observer: (function checkObserver() {
                return ('MutationObserver' in win || 'WebkitMutationObserver' in win);
            }()),
            passiveListener: (function checkPassiveListener() {
                var supportsPassive = false;
                try {
                    var opts = Object.defineProperty({}, 'passive', {
                        get: function get() {
                            supportsPassive = true;
                        },
                    });
                    win.addEventListener('testPassiveListener', null, opts);
                } catch (e) {
                }
                return supportsPassive;
            }()),
            gestures: (function checkGestures() {
                return 'ongesturestart' in win;
            }()),
        };
    }());
    var SwiperClass = function SwiperClass(params) {
        if (params === void 0) params = {};
        var self = this;
        self.params = params;
        self.eventsListeners = {};
        if (self.params && self.params.on) {
            Object.keys(self.params.on).forEach(function (eventName) {
                self.on(eventName, self.params.on[eventName]);
            });
        }
    };
    var staticAccessors = {components: {configurable: true}};
    SwiperClass.prototype.on = function on(events, handler) {
        var self = this;
        if (typeof handler !== 'function') {
            return self;
        }
        events.split(' ').forEach(function (event) {
            if (!self.eventsListeners[event]) {
                self.eventsListeners[event] = [];
            }
            self.eventsListeners[event].push(handler);
        });
        return self;
    };
    SwiperClass.prototype.once = function once(events, handler) {
        var self = this;
        if (typeof handler !== 'function') {
            return self;
        }

        function onceHandler() {
            var args = [], len = arguments.length;
            while (len--) args[len] = arguments[len];
            handler.apply(self, args);
            self.off(events, onceHandler);
        }

        return self.on(events, onceHandler);
    };
    SwiperClass.prototype.off = function off(events, handler) {
        var self = this;
        events.split(' ').forEach(function (event) {
            if (typeof handler === 'undefined') {
                self.eventsListeners[event] = [];
            } else {
                self.eventsListeners[event].forEach(function (eventHandler, index) {
                    if (eventHandler === handler) {
                        self.eventsListeners[event].splice(index, 1);
                    }
                });
            }
        });
        return self;
    };
    SwiperClass.prototype.emit = function emit() {
        var args = [], len = arguments.length;
        while (len--) args[len] = arguments[len];
        var self = this;
        if (!self.eventsListeners) {
            return self;
        }
        var events;
        var data;
        var context;
        if (typeof args[0] === 'string' || Array.isArray(args[0])) {
            events = args[0];
            data = args.slice(1, args.length);
            context = self;
        } else {
            events = args[0].events;
            data = args[0].data;
            context = args[0].context || self;
        }
        var eventsArray = Array.isArray(events) ? events : events.split(' ');
        eventsArray.forEach(function (event) {
            if (self.eventsListeners[event]) {
                var handlers = [];
                self.eventsListeners[event].forEach(function (eventHandler) {
                    handlers.push(eventHandler);
                });
                handlers.forEach(function (eventHandler) {
                    eventHandler.apply(context, data);
                });
            }
        });
        return self;
    };
    SwiperClass.prototype.useModulesParams = function useModulesParams(instanceParams) {
        var instance = this;
        if (!instance.modules) {
            return;
        }
        Object.keys(instance.modules).forEach(function (moduleName) {
            var module = instance.modules[moduleName];
            if (module.params) {
                Utils.extend(instanceParams, module.params);
            }
        });
    };
    SwiperClass.prototype.useModules = function useModules(modulesParams) {
        if (modulesParams === void 0) modulesParams = {};
        var instance = this;
        if (!instance.modules) {
            return;
        }
        Object.keys(instance.modules).forEach(function (moduleName) {
            var module = instance.modules[moduleName];
            var moduleParams = modulesParams[moduleName] || {};
            if (module.instance) {
                Object.keys(module.instance).forEach(function (modulePropName) {
                    var moduleProp = module.instance[modulePropName];
                    if (typeof moduleProp === 'function') {
                        instance[modulePropName] = moduleProp.bind(instance);
                    } else {
                        instance[modulePropName] = moduleProp;
                    }
                });
            }
            if (module.on && instance.on) {
                Object.keys(module.on).forEach(function (moduleEventName) {
                    instance.on(moduleEventName, module.on[moduleEventName]);
                });
            }
            if (module.create) {
                module.create.bind(instance)(moduleParams);
            }
        });
    };
    staticAccessors.components.set = function (components) {
        var Class = this;
        if (!Class.use) {
            return;
        }
        Class.use(components);
    };
    SwiperClass.installModule = function installModule(module) {
        var params = [], len = arguments.length - 1;
        while (len-- > 0) params[len] = arguments[len + 1];
        var Class = this;
        if (!Class.prototype.modules) {
            Class.prototype.modules = {};
        }
        var name = module.name || (((Object.keys(Class.prototype.modules).length) + "_" + (Utils.now())));
        Class.prototype.modules[name] = module;
        if (module.proto) {
            Object.keys(module.proto).forEach(function (key) {
                Class.prototype[key] = module.proto[key];
            });
        }
        if (module.static) {
            Object.keys(module.static).forEach(function (key) {
                Class[key] = module.static[key];
            });
        }
        if (module.install) {
            module.install.apply(Class, params);
        }
        return Class;
    };
    SwiperClass.use = function use(module) {
        var params = [], len = arguments.length - 1;
        while (len-- > 0) params[len] = arguments[len + 1];
        var Class = this;
        if (Array.isArray(module)) {
            module.forEach(function (m) {
                return Class.installModule(m);
            });
            return Class;
        }
        return Class.installModule.apply(Class, [module].concat(params));
    };
    Object.defineProperties(SwiperClass, staticAccessors);
    var updateSize = function () {
        var swiper = this;
        var width;
        var height;
        var $el = swiper.$el;
        if (typeof swiper.params.width !== 'undefined') {
            width = swiper.params.width;
        } else {
            width = $el[0].clientWidth;
        }
        if (typeof swiper.params.height !== 'undefined') {
            height = swiper.params.height;
        } else {
            height = $el[0].clientHeight;
        }
        if ((width === 0 && swiper.isHorizontal()) || (height === 0 && swiper.isVertical())) {
            return;
        }
        width = width - parseInt($el.css('padding-left'), 10) - parseInt($el.css('padding-right'), 10);
        height = height - parseInt($el.css('padding-top'), 10) - parseInt($el.css('padding-bottom'), 10);
        Utils.extend(swiper, {width: width, height: height, size: swiper.isHorizontal() ? width : height,});
    };
    var updateSlides = function () {
        var swiper = this;
        var params = swiper.params;
        var $wrapperEl = swiper.$wrapperEl;
        var swiperSize = swiper.size;
        var rtl = swiper.rtl;
        var wrongRTL = swiper.wrongRTL;
        var slides = $wrapperEl.children(("." + (swiper.params.slideClass)));
        var isVirtual = swiper.virtual && params.virtual.enabled;
        var slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;
        var snapGrid = [];
        var slidesGrid = [];
        var slidesSizesGrid = [];
        var offsetBefore = params.slidesOffsetBefore;
        if (typeof offsetBefore === 'function') {
            offsetBefore = params.slidesOffsetBefore.call(swiper);
        }
        var offsetAfter = params.slidesOffsetAfter;
        if (typeof offsetAfter === 'function') {
            offsetAfter = params.slidesOffsetAfter.call(swiper);
        }
        var previousSlidesLength = slidesLength;
        var previousSnapGridLength = swiper.snapGrid.length;
        var previousSlidesGridLength = swiper.snapGrid.length;
        var spaceBetween = params.spaceBetween;
        var slidePosition = -offsetBefore;
        var prevSlideSize = 0;
        var index = 0;
        if (typeof swiperSize === 'undefined') {
            return;
        }
        if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {
            spaceBetween = (parseFloat(spaceBetween.replace('%', '')) / 100) * swiperSize;
        }
        swiper.virtualSize = -spaceBetween;
        if (rtl) {
            slides.css({marginLeft: '', marginTop: ''});
        } else {
            slides.css({marginRight: '', marginBottom: ''});
        }
        var slidesNumberEvenToRows;
        if (params.slidesPerColumn > 1) {
            if (Math.floor(slidesLength / params.slidesPerColumn) === slidesLength / swiper.params.slidesPerColumn) {
                slidesNumberEvenToRows = slidesLength;
            } else {
                slidesNumberEvenToRows = Math.ceil(slidesLength / params.slidesPerColumn) * params.slidesPerColumn;
            }
            if (params.slidesPerView !== 'auto' && params.slidesPerColumnFill === 'row') {
                slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, params.slidesPerView * params.slidesPerColumn);
            }
        }
        var slideSize;
        var slidesPerColumn = params.slidesPerColumn;
        var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;
        var numFullColumns = slidesPerRow - ((params.slidesPerColumn * slidesPerRow) - slidesLength);
        for (var i = 0; i < slidesLength; i += 1) {
            slideSize = 0;
            var slide = slides.eq(i);
            if (params.slidesPerColumn > 1) {
                var newSlideOrderIndex = (void 0);
                var column = (void 0);
                var row = (void 0);
                if (params.slidesPerColumnFill === 'column') {
                    column = Math.floor(i / slidesPerColumn);
                    row = i - (column * slidesPerColumn);
                    if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn - 1)) {
                        row += 1;
                        if (row >= slidesPerColumn) {
                            row = 0;
                            column += 1;
                        }
                    }
                    newSlideOrderIndex = column + ((row * slidesNumberEvenToRows) / slidesPerColumn);
                    slide.css({
                        '-webkit-box-ordinal-group': newSlideOrderIndex,
                        '-moz-box-ordinal-group': newSlideOrderIndex,
                        '-ms-flex-order': newSlideOrderIndex,
                        '-webkit-order': newSlideOrderIndex,
                        order: newSlideOrderIndex,
                    });
                } else {
                    row = Math.floor(i / slidesPerRow);
                    column = i - (row * slidesPerRow);
                }
                slide.css(("margin-" + (swiper.isHorizontal() ? 'top' : 'left')), (row !== 0 && params.spaceBetween) && (((params.spaceBetween) + "px"))).attr('data-swiper-column', column).attr('data-swiper-row', row);
            }
            if (slide.css('display') === 'none') {
                continue;
            }
            if (params.slidesPerView === 'auto') {
                slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);
                if (params.roundLengths) {
                    slideSize = Math.floor(slideSize);
                }
            } else {
                slideSize = (swiperSize - ((params.slidesPerView - 1) * spaceBetween)) / params.slidesPerView;
                if (params.roundLengths) {
                    slideSize = Math.floor(slideSize);
                }
                if (slides[i]) {
                    if (swiper.isHorizontal()) {
                        slides[i].style.width = slideSize + "px";
                    } else {
                        slides[i].style.height = slideSize + "px";
                    }
                }
            }
            if (slides[i]) {
                slides[i].swiperSlideSize = slideSize;
            }
            slidesSizesGrid.push(slideSize);
            if (params.centeredSlides) {
                slidePosition = slidePosition + (slideSize / 2) + (prevSlideSize / 2) + spaceBetween;
                if (prevSlideSize === 0 && i !== 0) {
                    slidePosition = slidePosition - (swiperSize / 2) - spaceBetween;
                }
                if (i === 0) {
                    slidePosition = slidePosition - (swiperSize / 2) - spaceBetween;
                }
                if (Math.abs(slidePosition) < 1 / 1000) {
                    slidePosition = 0;
                }
                if ((index) % params.slidesPerGroup === 0) {
                    snapGrid.push(slidePosition);
                }
                slidesGrid.push(slidePosition);
            } else {
                if ((index) % params.slidesPerGroup === 0) {
                    snapGrid.push(slidePosition);
                }
                slidesGrid.push(slidePosition);
                slidePosition = slidePosition + slideSize + spaceBetween;
            }
            swiper.virtualSize += slideSize + spaceBetween;
            prevSlideSize = slideSize;
            index += 1;
        }
        swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;
        var newSlidesGrid;
        if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {
            $wrapperEl.css({width: ((swiper.virtualSize + params.spaceBetween) + "px")});
        }
        if (!Support.flexbox || params.setWrapperSize) {
            if (swiper.isHorizontal()) {
                $wrapperEl.css({width: ((swiper.virtualSize + params.spaceBetween) + "px")});
            } else {
                $wrapperEl.css({height: ((swiper.virtualSize + params.spaceBetween) + "px")});
            }
        }
        if (params.slidesPerColumn > 1) {
            swiper.virtualSize = (slideSize + params.spaceBetween) * slidesNumberEvenToRows;
            swiper.virtualSize = Math.ceil(swiper.virtualSize / params.slidesPerColumn) - params.spaceBetween;
            if (swiper.isHorizontal()) {
                $wrapperEl.css({width: ((swiper.virtualSize + params.spaceBetween) + "px")});
            } else {
                $wrapperEl.css({height: ((swiper.virtualSize + params.spaceBetween) + "px")});
            }
            if (params.centeredSlides) {
                newSlidesGrid = [];
                for (var i$1 = 0; i$1 < snapGrid.length; i$1 += 1) {
                    if (snapGrid[i$1] < swiper.virtualSize + snapGrid[0]) {
                        newSlidesGrid.push(snapGrid[i$1]);
                    }
                }
                snapGrid = newSlidesGrid;
            }
        }
        if (!params.centeredSlides) {
            newSlidesGrid = [];
            for (var i$2 = 0; i$2 < snapGrid.length; i$2 += 1) {
                if (snapGrid[i$2] <= swiper.virtualSize - swiperSize) {
                    newSlidesGrid.push(snapGrid[i$2]);
                }
            }
            snapGrid = newSlidesGrid;
            if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {
                snapGrid.push(swiper.virtualSize - swiperSize);
            }
        }
        if (snapGrid.length === 0) {
            snapGrid = [0];
        }
        if (params.spaceBetween !== 0) {
            if (swiper.isHorizontal()) {
                if (rtl) {
                    slides.css({marginLeft: (spaceBetween + "px")});
                } else {
                    slides.css({marginRight: (spaceBetween + "px")});
                }
            } else {
                slides.css({marginBottom: (spaceBetween + "px")});
            }
        }
        Utils.extend(swiper, {
            slides: slides,
            snapGrid: snapGrid,
            slidesGrid: slidesGrid,
            slidesSizesGrid: slidesSizesGrid,
        });
        if (slidesLength !== previousSlidesLength) {
            swiper.emit('slidesLengthChange');
        }
        if (snapGrid.length !== previousSnapGridLength) {
            if (swiper.params.watchOverflow) {
                swiper.checkOverflow();
            }
            swiper.emit('snapGridLengthChange');
        }
        if (slidesGrid.length !== previousSlidesGridLength) {
            swiper.emit('slidesGridLengthChange');
        }
        if (params.watchSlidesProgress || params.watchSlidesVisibility) {
            swiper.updateSlidesOffset();
        }
    };
    var updateAutoHeight = function () {
        var swiper = this;
        var activeSlides = [];
        var newHeight = 0;
        var i;
        if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {
            for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {
                var index = swiper.activeIndex + i;
                if (index > swiper.slides.length) {
                    break;
                }
                activeSlides.push(swiper.slides.eq(index)[0]);
            }
        } else {
            activeSlides.push(swiper.slides.eq(swiper.activeIndex)[0]);
        }
        for (i = 0; i < activeSlides.length; i += 1) {
            if (typeof activeSlides[i] !== 'undefined') {
                var height = activeSlides[i].offsetHeight;
                newHeight = height > newHeight ? height : newHeight;
            }
        }
        if (newHeight) {
            swiper.$wrapperEl.css('height', (newHeight + "px"));
        }
    };
    var updateSlidesOffset = function () {
        var swiper = this;
        var slides = swiper.slides;
        for (var i = 0; i < slides.length; i += 1) {
            slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;
        }
    };
    var updateSlidesProgress = function (translate) {
        if (translate === void 0) translate = this.translate || 0;
        var swiper = this;
        var params = swiper.params;
        var slides = swiper.slides;
        var rtl = swiper.rtl;
        if (slides.length === 0) {
            return;
        }
        if (typeof slides[0].swiperSlideOffset === 'undefined') {
            swiper.updateSlidesOffset();
        }
        var offsetCenter = -translate;
        if (rtl) {
            offsetCenter = translate;
        }
        slides.removeClass(params.slideVisibleClass);
        for (var i = 0; i < slides.length; i += 1) {
            var slide = slides[i];
            var slideProgress = ((offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0)) - slide.swiperSlideOffset) / (slide.swiperSlideSize + params.spaceBetween);
            if (params.watchSlidesVisibility) {
                var slideBefore = -(offsetCenter - slide.swiperSlideOffset);
                var slideAfter = slideBefore + swiper.slidesSizesGrid[i];
                var isVisible = (slideBefore >= 0 && slideBefore < swiper.size) || (slideAfter > 0 && slideAfter <= swiper.size) || (slideBefore <= 0 && slideAfter >= swiper.size);
                if (isVisible) {
                    slides.eq(i).addClass(params.slideVisibleClass);
                }
            }
            slide.progress = rtl ? -slideProgress : slideProgress;
        }
    };
    var updateProgress = function (translate) {
        if (translate === void 0) translate = this.translate || 0;
        var swiper = this;
        var params = swiper.params;
        var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();
        var progress = swiper.progress;
        var isBeginning = swiper.isBeginning;
        var isEnd = swiper.isEnd;
        var wasBeginning = isBeginning;
        var wasEnd = isEnd;
        if (translatesDiff === 0) {
            progress = 0;
            isBeginning = true;
            isEnd = true;
        } else {
            progress = (translate - swiper.minTranslate()) / (translatesDiff);
            isBeginning = progress <= 0;
            isEnd = progress >= 1;
        }
        Utils.extend(swiper, {progress: progress, isBeginning: isBeginning, isEnd: isEnd,});
        if (params.watchSlidesProgress || params.watchSlidesVisibility) {
            swiper.updateSlidesProgress(translate);
        }
        if (isBeginning && !wasBeginning) {
            swiper.emit('reachBeginning toEdge');
        }
        if (isEnd && !wasEnd) {
            swiper.emit('reachEnd toEdge');
        }
        if ((wasBeginning && !isBeginning) || (wasEnd && !isEnd)) {
            swiper.emit('fromEdge');
        }
        swiper.emit('progress', progress);
    };
    var updateSlidesClasses = function () {
        var swiper = this;
        var slides = swiper.slides;
        var params = swiper.params;
        var $wrapperEl = swiper.$wrapperEl;
        var activeIndex = swiper.activeIndex;
        var realIndex = swiper.realIndex;
        var isVirtual = swiper.virtual && params.virtual.enabled;
        slides.removeClass(((params.slideActiveClass) + " " + (params.slideNextClass) + " " + (params.slidePrevClass) + " " + (params.slideDuplicateActiveClass) + " " + (params.slideDuplicateNextClass) + " " + (params.slideDuplicatePrevClass)));
        var activeSlide;
        if (isVirtual) {
            activeSlide = swiper.$wrapperEl.find(("." + (params.slideClass) + "[data-swiper-slide-index=\"" + activeIndex + "\"]"));
        } else {
            activeSlide = slides.eq(activeIndex);
        }
        activeSlide.addClass(params.slideActiveClass);
        if (params.loop) {
            if (activeSlide.hasClass(params.slideDuplicateClass)) {
                $wrapperEl.children(("." + (params.slideClass) + ":not(." + (params.slideDuplicateClass) + ")[data-swiper-slide-index=\"" + realIndex + "\"]")).addClass(params.slideDuplicateActiveClass);
            } else {
                $wrapperEl.children(("." + (params.slideClass) + "." + (params.slideDuplicateClass) + "[data-swiper-slide-index=\"" + realIndex + "\"]")).addClass(params.slideDuplicateActiveClass);
            }
        }
        var nextSlide = activeSlide.nextAll(("." + (params.slideClass))).eq(0).addClass(params.slideNextClass);
        if (params.loop && nextSlide.length === 0) {
            nextSlide = slides.eq(0);
            nextSlide.addClass(params.slideNextClass);
        }
        var prevSlide = activeSlide.prevAll(("." + (params.slideClass))).eq(0).addClass(params.slidePrevClass);
        if (params.loop && prevSlide.length === 0) {
            prevSlide = slides.eq(-1);
            prevSlide.addClass(params.slidePrevClass);
        }
        if (params.loop) {
            if (nextSlide.hasClass(params.slideDuplicateClass)) {
                $wrapperEl.children(("." + (params.slideClass) + ":not(." + (params.slideDuplicateClass) + ")[data-swiper-slide-index=\"" + (nextSlide.attr('data-swiper-slide-index')) + "\"]")).addClass(params.slideDuplicateNextClass);
            } else {
                $wrapperEl.children(("." + (params.slideClass) + "." + (params.slideDuplicateClass) + "[data-swiper-slide-index=\"" + (nextSlide.attr('data-swiper-slide-index')) + "\"]")).addClass(params.slideDuplicateNextClass);
            }
            if (prevSlide.hasClass(params.slideDuplicateClass)) {
                $wrapperEl.children(("." + (params.slideClass) + ":not(." + (params.slideDuplicateClass) + ")[data-swiper-slide-index=\"" + (prevSlide.attr('data-swiper-slide-index')) + "\"]")).addClass(params.slideDuplicatePrevClass);
            } else {
                $wrapperEl.children(("." + (params.slideClass) + "." + (params.slideDuplicateClass) + "[data-swiper-slide-index=\"" + (prevSlide.attr('data-swiper-slide-index')) + "\"]")).addClass(params.slideDuplicatePrevClass);
            }
        }
    };
    var updateActiveIndex = function (newActiveIndex) {
        var swiper = this;
        var translate = swiper.rtl ? swiper.translate : -swiper.translate;
        var slidesGrid = swiper.slidesGrid;
        var snapGrid = swiper.snapGrid;
        var params = swiper.params;
        var previousIndex = swiper.activeIndex;
        var previousRealIndex = swiper.realIndex;
        var previousSnapIndex = swiper.snapIndex;
        var activeIndex = newActiveIndex;
        var snapIndex;
        if (typeof activeIndex === 'undefined') {
            for (var i = 0; i < slidesGrid.length; i += 1) {
                if (typeof slidesGrid[i + 1] !== 'undefined') {
                    if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - ((slidesGrid[i + 1] - slidesGrid[i]) / 2)) {
                        activeIndex = i;
                    } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {
                        activeIndex = i + 1;
                    }
                } else if (translate >= slidesGrid[i]) {
                    activeIndex = i;
                }
            }
            if (params.normalizeSlideIndex) {
                if (activeIndex < 0 || typeof activeIndex === 'undefined') {
                    activeIndex = 0;
                }
            }
        }
        if (snapGrid.indexOf(translate) >= 0) {
            snapIndex = snapGrid.indexOf(translate);
        } else {
            snapIndex = Math.floor(activeIndex / params.slidesPerGroup);
        }
        if (snapIndex >= snapGrid.length) {
            snapIndex = snapGrid.length - 1;
        }
        if (activeIndex === previousIndex) {
            if (snapIndex !== previousSnapIndex) {
                swiper.snapIndex = snapIndex;
                swiper.emit('snapIndexChange');
            }
            return;
        }
        var realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);
        Utils.extend(swiper, {
            snapIndex: snapIndex,
            realIndex: realIndex,
            previousIndex: previousIndex,
            activeIndex: activeIndex,
        });
        swiper.emit('activeIndexChange');
        swiper.emit('snapIndexChange');
        if (previousRealIndex !== realIndex) {
            swiper.emit('realIndexChange');
        }
        swiper.emit('slideChange');
    };
    var updateClickedSlide = function (e) {
        var swiper = this;
        var params = swiper.params;
        var slide = $$1(e.target).closest(("." + (params.slideClass)))[0];
        var slideFound = false;
        if (slide) {
            for (var i = 0; i < swiper.slides.length; i += 1) {
                if (swiper.slides[i] === slide) {
                    slideFound = true;
                }
            }
        }
        if (slide && slideFound) {
            swiper.clickedSlide = slide;
            if (swiper.virtual && swiper.params.virtual.enabled) {
                swiper.clickedIndex = parseInt($$1(slide).attr('data-swiper-slide-index'), 10);
            } else {
                swiper.clickedIndex = $$1(slide).index();
            }
        } else {
            swiper.clickedSlide = undefined;
            swiper.clickedIndex = undefined;
            return;
        }
        if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {
            swiper.slideToClickedSlide();
        }
    };
    var update = {
        updateSize: updateSize,
        updateSlides: updateSlides,
        updateAutoHeight: updateAutoHeight,
        updateSlidesOffset: updateSlidesOffset,
        updateSlidesProgress: updateSlidesProgress,
        updateProgress: updateProgress,
        updateSlidesClasses: updateSlidesClasses,
        updateActiveIndex: updateActiveIndex,
        updateClickedSlide: updateClickedSlide,
    };
    var getTranslate = function (axis) {
        if (axis === void 0) axis = this.isHorizontal() ? 'x' : 'y';
        var swiper = this;
        var params = swiper.params;
        var rtl = swiper.rtl;
        var translate = swiper.translate;
        var $wrapperEl = swiper.$wrapperEl;
        if (params.virtualTranslate) {
            return rtl ? -translate : translate;
        }
        var currentTranslate = Utils.getTranslate($wrapperEl[0], axis);
        if (rtl) {
            currentTranslate = -currentTranslate;
        }
        return currentTranslate || 0;
    };
    var setTranslate = function (translate, byController) {
        var swiper = this;
        var rtl = swiper.rtl;
        var params = swiper.params;
        var $wrapperEl = swiper.$wrapperEl;
        var progress = swiper.progress;
        var x = 0;
        var y = 0;
        var z = 0;
        if (swiper.isHorizontal()) {
            x = rtl ? -translate : translate;
        } else {
            y = translate;
        }
        if (params.roundLengths) {
            x = Math.floor(x);
            y = Math.floor(y);
        }
        if (!params.virtualTranslate) {
            if (Support.transforms3d) {
                $wrapperEl.transform(("translate3d(" + x + "px, " + y + "px, " + z + "px)"));
            } else {
                $wrapperEl.transform(("translate(" + x + "px, " + y + "px)"));
            }
        }
        swiper.translate = swiper.isHorizontal() ? x : y;
        var newProgress;
        var translatesDiff = swiper.maxTranslate() - swiper.minTranslate();
        if (translatesDiff === 0) {
            newProgress = 0;
        } else {
            newProgress = (translate - swiper.minTranslate()) / (translatesDiff);
        }
        if (newProgress !== progress) {
            swiper.updateProgress(translate);
        }
        swiper.emit('setTranslate', swiper.translate, byController);
    };
    var minTranslate = function () {
        return (-this.snapGrid[0]);
    };
    var maxTranslate = function () {
        return (-this.snapGrid[this.snapGrid.length - 1]);
    };
    var translate = {
        getTranslate: getTranslate,
        setTranslate: setTranslate,
        minTranslate: minTranslate,
        maxTranslate: maxTranslate,
    };
    var setTransition = function (duration, byController) {
        var swiper = this;
        swiper.$wrapperEl.transition(duration);
        swiper.emit('setTransition', duration, byController);
    };
    var transitionStart = function (runCallbacks, direction) {
        if (runCallbacks === void 0) runCallbacks = true;
        var swiper = this;
        var activeIndex = swiper.activeIndex;
        var params = swiper.params;
        var previousIndex = swiper.previousIndex;
        if (params.autoHeight) {
            swiper.updateAutoHeight();
        }
        var dir = direction;
        if (!dir) {
            if (activeIndex > previousIndex) {
                dir = 'next';
            } else if (activeIndex < previousIndex) {
                dir = 'prev';
            } else {
                dir = 'reset';
            }
        }
        swiper.emit('transitionStart');
        if (runCallbacks && activeIndex !== previousIndex) {
            if (dir === 'reset') {
                swiper.emit('slideResetTransitionStart');
                return;
            }
            swiper.emit('slideChangeTransitionStart');
            if (dir === 'next') {
                swiper.emit('slideNextTransitionStart');
            } else {
                swiper.emit('slidePrevTransitionStart');
            }
        }
    };
    var transitionEnd$1 = function (runCallbacks, direction) {
        if (runCallbacks === void 0) runCallbacks = true;
        var swiper = this;
        var activeIndex = swiper.activeIndex;
        var previousIndex = swiper.previousIndex;
        swiper.animating = false;
        swiper.setTransition(0);
        var dir = direction;
        if (!dir) {
            if (activeIndex > previousIndex) {
                dir = 'next';
            } else if (activeIndex < previousIndex) {
                dir = 'prev';
            } else {
                dir = 'reset';
            }
        }
        swiper.emit('transitionEnd');
        if (runCallbacks && activeIndex !== previousIndex) {
            if (dir === 'reset') {
                swiper.emit('slideResetTransitionEnd');
                return;
            }
            swiper.emit('slideChangeTransitionEnd');
            if (dir === 'next') {
                swiper.emit('slideNextTransitionEnd');
            } else {
                swiper.emit('slidePrevTransitionEnd');
            }
        }
    };
    var transition$1 = {
        setTransition: setTransition,
        transitionStart: transitionStart,
        transitionEnd: transitionEnd$1,
    };
    var slideTo = function (index, speed, runCallbacks, internal) {
        if (index === void 0) index = 0;
        if (speed === void 0) speed = this.params.speed;
        if (runCallbacks === void 0) runCallbacks = true;
        var swiper = this;
        var slideIndex = index;
        if (slideIndex < 0) {
            slideIndex = 0;
        }
        var params = swiper.params;
        var snapGrid = swiper.snapGrid;
        var slidesGrid = swiper.slidesGrid;
        var previousIndex = swiper.previousIndex;
        var activeIndex = swiper.activeIndex;
        var rtl = swiper.rtl;
        var $wrapperEl = swiper.$wrapperEl;
        if (swiper.animating && params.preventIntercationOnTransition) {
            return false;
        }
        var snapIndex = Math.floor(slideIndex / params.slidesPerGroup);
        if (snapIndex >= snapGrid.length) {
            snapIndex = snapGrid.length - 1;
        }
        if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {
            swiper.emit('beforeSlideChangeStart');
        }
        var translate = -snapGrid[snapIndex];
        swiper.updateProgress(translate);
        if (params.normalizeSlideIndex) {
            for (var i = 0; i < slidesGrid.length; i += 1) {
                if (-Math.floor(translate * 100) >= Math.floor(slidesGrid[i] * 100)) {
                    slideIndex = i;
                }
            }
        }
        if (swiper.initialized && slideIndex !== activeIndex) {
            if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {
                return false;
            }
            if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {
                if ((activeIndex || 0) !== slideIndex) {
                    return false;
                }
            }
        }
        var direction;
        if (slideIndex > activeIndex) {
            direction = 'next';
        } else if (slideIndex < activeIndex) {
            direction = 'prev';
        } else {
            direction = 'reset';
        }
        if ((rtl && -translate === swiper.translate) || (!rtl && translate === swiper.translate)) {
            swiper.updateActiveIndex(slideIndex);
            if (params.autoHeight) {
                swiper.updateAutoHeight();
            }
            swiper.updateSlidesClasses();
            if (params.effect !== 'slide') {
                swiper.setTranslate(translate);
            }
            if (direction !== 'reset') {
                swiper.transitionStart(runCallbacks, direction);
                swiper.transitionEnd(runCallbacks, direction);
            }
            return false;
        }
        if (speed === 0 || !Support.transition) {
            swiper.setTransition(0);
            swiper.setTranslate(translate);
            swiper.updateActiveIndex(slideIndex);
            swiper.updateSlidesClasses();
            swiper.emit('beforeTransitionStart', speed, internal);
            swiper.transitionStart(runCallbacks, direction);
            swiper.transitionEnd(runCallbacks, direction);
        } else {
            swiper.setTransition(speed);
            swiper.setTranslate(translate);
            swiper.updateActiveIndex(slideIndex);
            swiper.updateSlidesClasses();
            swiper.emit('beforeTransitionStart', speed, internal);
            swiper.transitionStart(runCallbacks, direction);
            if (!swiper.animating) {
                swiper.animating = true;
                $wrapperEl.transitionEnd(function () {
                    if (!swiper || swiper.destroyed) {
                        return;
                    }
                    swiper.transitionEnd(runCallbacks, direction);
                });
            }
        }
        return true;
    };
    var slideToLoop = function (index, speed, runCallbacks, internal) {
        if (index === void 0) index = 0;
        if (speed === void 0) speed = this.params.speed;
        if (runCallbacks === void 0) runCallbacks = true;
        var swiper = this;
        var newIndex = index;
        if (swiper.params.loop) {
            newIndex += swiper.loopedSlides;
        }
        return swiper.slideTo(newIndex, speed, runCallbacks, internal);
    };
    var slideNext = function (speed, runCallbacks, internal) {
        if (speed === void 0) speed = this.params.speed;
        if (runCallbacks === void 0) runCallbacks = true;
        var swiper = this;
        var params = swiper.params;
        var animating = swiper.animating;
        if (params.loop) {
            if (animating) {
                return false;
            }
            swiper.loopFix();
            swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
            return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);
        }
        return swiper.slideTo(swiper.activeIndex + params.slidesPerGroup, speed, runCallbacks, internal);
    };
    var slidePrev = function (speed, runCallbacks, internal) {
        if (speed === void 0) speed = this.params.speed;
        if (runCallbacks === void 0) runCallbacks = true;
        var swiper = this;
        var params = swiper.params;
        var animating = swiper.animating;
        if (params.loop) {
            if (animating) {
                return false;
            }
            swiper.loopFix();
            swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;
            return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);
        }
        return swiper.slideTo(swiper.activeIndex - 1, speed, runCallbacks, internal);
    };
    var slideReset = function (speed, runCallbacks, internal) {
        if (speed === void 0) speed = this.params.speed;
        if (runCallbacks === void 0) runCallbacks = true;
        var swiper = this;
        return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);
    };
    var slideToClickedSlide = function () {
        var swiper = this;
        var params = swiper.params;
        var $wrapperEl = swiper.$wrapperEl;
        var slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;
        var slideToIndex = swiper.clickedIndex;
        var realIndex;
        if (params.loop) {
            if (swiper.animating) {
                return;
            }
            realIndex = parseInt($$1(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);
            if (params.centeredSlides) {
                if ((slideToIndex < swiper.loopedSlides - (slidesPerView / 2)) || (slideToIndex > (swiper.slides.length - swiper.loopedSlides) + (slidesPerView / 2))) {
                    swiper.loopFix();
                    slideToIndex = $wrapperEl.children(("." + (params.slideClass) + "[data-swiper-slide-index=\"" + realIndex + "\"]:not(." + (params.slideDuplicateClass) + ")")).eq(0).index();
                    Utils.nextTick(function () {
                        swiper.slideTo(slideToIndex);
                    });
                } else {
                    swiper.slideTo(slideToIndex);
                }
            } else if (slideToIndex > swiper.slides.length - slidesPerView) {
                swiper.loopFix();
                slideToIndex = $wrapperEl.children(("." + (params.slideClass) + "[data-swiper-slide-index=\"" + realIndex + "\"]:not(." + (params.slideDuplicateClass) + ")")).eq(0).index();
                Utils.nextTick(function () {
                    swiper.slideTo(slideToIndex);
                });
            } else {
                swiper.slideTo(slideToIndex);
            }
        } else {
            swiper.slideTo(slideToIndex);
        }
    };
    var slide = {
        slideTo: slideTo,
        slideToLoop: slideToLoop,
        slideNext: slideNext,
        slidePrev: slidePrev,
        slideReset: slideReset,
        slideToClickedSlide: slideToClickedSlide,
    };
    var loopCreate = function () {
        var swiper = this;
        var params = swiper.params;
        var $wrapperEl = swiper.$wrapperEl;
        $wrapperEl.children(("." + (params.slideClass) + "." + (params.slideDuplicateClass))).remove();
        var slides = $wrapperEl.children(("." + (params.slideClass)));
        if (params.loopFillGroupWithBlank) {
            var blankSlidesNum = params.slidesPerGroup - (slides.length % params.slidesPerGroup);
            if (blankSlidesNum !== params.slidesPerGroup) {
                for (var i = 0; i < blankSlidesNum; i += 1) {
                    var blankNode = $$1(doc.createElement('div')).addClass(((params.slideClass) + " " + (params.slideBlankClass)));
                    $wrapperEl.append(blankNode);
                }
                slides = $wrapperEl.children(("." + (params.slideClass)));
            }
        }
        if (params.slidesPerView === 'auto' && !params.loopedSlides) {
            params.loopedSlides = slides.length;
        }
        swiper.loopedSlides = parseInt(params.loopedSlides || params.slidesPerView, 10);
        swiper.loopedSlides += params.loopAdditionalSlides;
        if (swiper.loopedSlides > slides.length) {
            swiper.loopedSlides = slides.length;
        }
        var prependSlides = [];
        var appendSlides = [];
        slides.each(function (index, el) {
            var slide = $$1(el);
            if (index < swiper.loopedSlides) {
                appendSlides.push(el);
            }
            if (index < slides.length && index >= slides.length - swiper.loopedSlides) {
                prependSlides.push(el);
            }
            slide.attr('data-swiper-slide-index', index);
        });
        for (var i$1 = 0; i$1 < appendSlides.length; i$1 += 1) {
            $wrapperEl.append($$1(appendSlides[i$1].cloneNode(true)).addClass(params.slideDuplicateClass));
        }
        for (var i$2 = prependSlides.length - 1; i$2 >= 0; i$2 -= 1) {
            $wrapperEl.prepend($$1(prependSlides[i$2].cloneNode(true)).addClass(params.slideDuplicateClass));
        }
    };
    var loopFix = function () {
        var swiper = this;
        var params = swiper.params;
        var activeIndex = swiper.activeIndex;
        var slides = swiper.slides;
        var loopedSlides = swiper.loopedSlides;
        var allowSlidePrev = swiper.allowSlidePrev;
        var allowSlideNext = swiper.allowSlideNext;
        var snapGrid = swiper.snapGrid;
        var rtl = swiper.rtl;
        var newIndex;
        swiper.allowSlidePrev = true;
        swiper.allowSlideNext = true;
        var snapTranslate = -snapGrid[activeIndex];
        var diff = snapTranslate - swiper.getTranslate();
        if (activeIndex < loopedSlides) {
            newIndex = (slides.length - (loopedSlides * 3)) + activeIndex;
            newIndex += loopedSlides;
            var slideChanged = swiper.slideTo(newIndex, 0, false, true);
            if (slideChanged && diff !== 0) {
                swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
            }
        } else if ((params.slidesPerView === 'auto' && activeIndex >= loopedSlides * 2) || (activeIndex > slides.length - (params.slidesPerView * 2))) {
            newIndex = -slides.length + activeIndex + loopedSlides;
            newIndex += loopedSlides;
            var slideChanged$1 = swiper.slideTo(newIndex, 0, false, true);
            if (slideChanged$1 && diff !== 0) {
                swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);
            }
        }
        swiper.allowSlidePrev = allowSlidePrev;
        swiper.allowSlideNext = allowSlideNext;
    };
    var loopDestroy = function () {
        var swiper = this;
        var $wrapperEl = swiper.$wrapperEl;
        var params = swiper.params;
        var slides = swiper.slides;
        $wrapperEl.children(("." + (params.slideClass) + "." + (params.slideDuplicateClass))).remove();
        slides.removeAttr('data-swiper-slide-index');
    };
    var loop = {loopCreate: loopCreate, loopFix: loopFix, loopDestroy: loopDestroy,};
    var setGrabCursor = function (moving) {
        var swiper = this;
        if (Support.touch || !swiper.params.simulateTouch) {
            return;
        }
        var el = swiper.el;
        el.style.cursor = 'move';
        el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';
        el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';
        el.style.cursor = moving ? 'grabbing' : 'grab';
    };
    var unsetGrabCursor = function () {
        var swiper = this;
        if (Support.touch) {
            return;
        }
        swiper.el.style.cursor = '';
    };
    var grabCursor = {setGrabCursor: setGrabCursor, unsetGrabCursor: unsetGrabCursor,};
    var appendSlide = function (slides) {
        var swiper = this;
        var $wrapperEl = swiper.$wrapperEl;
        var params = swiper.params;
        if (params.loop) {
            swiper.loopDestroy();
        }
        if (typeof slides === 'object' && 'length' in slides) {
            for (var i = 0; i < slides.length; i += 1) {
                if (slides[i]) {
                    $wrapperEl.append(slides[i]);
                }
            }
        } else {
            $wrapperEl.append(slides);
        }
        if (params.loop) {
            swiper.loopCreate();
        }
        if (!(params.observer && Support.observer)) {
            swiper.update();
        }
    };
    var prependSlide = function (slides) {
        var swiper = this;
        var params = swiper.params;
        var $wrapperEl = swiper.$wrapperEl;
        var activeIndex = swiper.activeIndex;
        if (params.loop) {
            swiper.loopDestroy();
        }
        var newActiveIndex = activeIndex + 1;
        if (typeof slides === 'object' && 'length' in slides) {
            for (var i = 0; i < slides.length; i += 1) {
                if (slides[i]) {
                    $wrapperEl.prepend(slides[i]);
                }
            }
            newActiveIndex = activeIndex + slides.length;
        } else {
            $wrapperEl.prepend(slides);
        }
        if (params.loop) {
            swiper.loopCreate();
        }
        if (!(params.observer && Support.observer)) {
            swiper.update();
        }
        swiper.slideTo(newActiveIndex, 0, false);
    };
    var removeSlide = function (slidesIndexes) {
        var swiper = this;
        var params = swiper.params;
        var $wrapperEl = swiper.$wrapperEl;
        var activeIndex = swiper.activeIndex;
        if (params.loop) {
            swiper.loopDestroy();
            swiper.slides = $wrapperEl.children(("." + (params.slideClass)));
        }
        var newActiveIndex = activeIndex;
        var indexToRemove;
        if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {
            for (var i = 0; i < slidesIndexes.length; i += 1) {
                indexToRemove = slidesIndexes[i];
                if (swiper.slides[indexToRemove]) {
                    swiper.slides.eq(indexToRemove).remove();
                }
                if (indexToRemove < newActiveIndex) {
                    newActiveIndex -= 1;
                }
            }
            newActiveIndex = Math.max(newActiveIndex, 0);
        } else {
            indexToRemove = slidesIndexes;
            if (swiper.slides[indexToRemove]) {
                swiper.slides.eq(indexToRemove).remove();
            }
            if (indexToRemove < newActiveIndex) {
                newActiveIndex -= 1;
            }
            newActiveIndex = Math.max(newActiveIndex, 0);
        }
        if (params.loop) {
            swiper.loopCreate();
        }
        if (!(params.observer && Support.observer)) {
            swiper.update();
        }
        if (params.loop) {
            swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);
        } else {
            swiper.slideTo(newActiveIndex, 0, false);
        }
    };
    var removeAllSlides = function () {
        var swiper = this;
        var slidesIndexes = [];
        for (var i = 0; i < swiper.slides.length; i += 1) {
            slidesIndexes.push(i);
        }
        swiper.removeSlide(slidesIndexes);
    };
    var manipulation = {
        appendSlide: appendSlide,
        prependSlide: prependSlide,
        removeSlide: removeSlide,
        removeAllSlides: removeAllSlides,
    };
    var Device = (function Device() {
        var ua = win.navigator.userAgent;
        var device = {
            ios: false,
            android: false,
            androidChrome: false,
            desktop: false,
            windows: false,
            iphone: false,
            ipod: false,
            ipad: false,
            cordova: win.cordova || win.phonegap,
            phonegap: win.cordova || win.phonegap,
        };
        var windows = ua.match(/(Windows Phone);?[\s\/]+([\d.]+)?/);
        var android = ua.match(/(Android);?[\s\/]+([\d.]+)?/);
        var ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
        var ipod = ua.match(/(iPod)(.*OS\s([\d_]+))?/);
        var iphone = !ipad && ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
        if (windows) {
            device.os = 'windows';
            device.osVersion = windows[2];
            device.windows = true;
        }
        if (android && !windows) {
            device.os = 'android';
            device.osVersion = android[2];
            device.android = true;
            device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;
        }
        if (ipad || iphone || ipod) {
            device.os = 'ios';
            device.ios = true;
        }
        if (iphone && !ipod) {
            device.osVersion = iphone[2].replace(/_/g, '.');
            device.iphone = true;
        }
        if (ipad) {
            device.osVersion = ipad[2].replace(/_/g, '.');
            device.ipad = true;
        }
        if (ipod) {
            device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;
            device.iphone = true;
        }
        if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {
            if (device.osVersion.split('.')[0] === '10') {
                device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];
            }
        }
        device.desktop = !(device.os || device.android || device.webView);
        device.webView = (iphone || ipad || ipod) && ua.match(/.*AppleWebKit(?!.*Safari)/i);
        if (device.os && device.os === 'ios') {
            var osVersionArr = device.osVersion.split('.');
            var metaViewport = doc.querySelector('meta[name="viewport"]');
            device.minimalUi = !device.webView && (ipod || iphone) && (osVersionArr[0] * 1 === 7 ? osVersionArr[1] * 1 >= 1 : osVersionArr[0] * 1 > 7) && metaViewport && metaViewport.getAttribute('content').indexOf('minimal-ui') >= 0;
        }
        device.pixelRatio = win.devicePixelRatio || 1;
        return device;
    }());
    var onTouchStart = function (event) {
        var swiper = this;
        var data = swiper.touchEventsData;
        var params = swiper.params;
        var touches = swiper.touches;
        if (swiper.animating && params.preventIntercationOnTransition) {
            return;
        }
        var e = event;
        if (e.originalEvent) {
            e = e.originalEvent;
        }
        data.isTouchEvent = e.type === 'touchstart';
        if (!data.isTouchEvent && 'which' in e && e.which === 3) {
            return;
        }
        if (data.isTouched && data.isMoved) {
            return;
        }
        if (params.noSwiping && $$1(e.target).closest(params.noSwipingSelector ? params.noSwipingSelector : ("." + (params.noSwipingClass)))[0]) {
            swiper.allowClick = true;
            return;
        }
        if (params.swipeHandler) {
            if (!$$1(e).closest(params.swipeHandler)[0]) {
                return;
            }
        }
        touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
        touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;
        var startX = touches.currentX;
        var startY = touches.currentY;
        if (Device.ios && !Device.cordova && params.iOSEdgeSwipeDetection && (startX <= params.iOSEdgeSwipeThreshold) && (startX >= win.screen.width - params.iOSEdgeSwipeThreshold)) {
            return;
        }
        Utils.extend(data, {
            isTouched: true,
            isMoved: false,
            allowTouchCallbacks: true,
            isScrolling: undefined,
            startMoving: undefined,
        });
        touches.startX = startX;
        touches.startY = startY;
        data.touchStartTime = Utils.now();
        swiper.allowClick = true;
        swiper.updateSize();
        swiper.swipeDirection = undefined;
        if (params.threshold > 0) {
            data.allowThresholdMove = false;
        }
        if (e.type !== 'touchstart') {
            var preventDefault = true;
            if ($$1(e.target).is(data.formElements)) {
                preventDefault = false;
            }
            if (doc.activeElement && $$1(doc.activeElement).is(data.formElements) && doc.activeElement !== e.target) {
                doc.activeElement.blur();
            }
            if (preventDefault && swiper.allowTouchMove) {
                e.preventDefault();
            }
        }
        swiper.emit('touchStart', e);
    };
    var onTouchMove = function (event) {
        var swiper = this;
        var data = swiper.touchEventsData;
        var params = swiper.params;
        var touches = swiper.touches;
        var rtl = swiper.rtl;
        var e = event;
        if (e.originalEvent) {
            e = e.originalEvent;
        }
        if (!data.isTouched) {
            if (data.startMoving && data.isScrolling) {
                swiper.emit('touchMoveOpposite', e);
            }
            return;
        }
        if (data.isTouchEvent && e.type === 'mousemove') {
            return;
        }
        var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
        var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;
        if (e.preventedByNestedSwiper) {
            touches.startX = pageX;
            touches.startY = pageY;
            return;
        }
        if (!swiper.allowTouchMove) {
            swiper.allowClick = false;
            if (data.isTouched) {
                Utils.extend(touches, {startX: pageX, startY: pageY, currentX: pageX, currentY: pageY,});
                data.touchStartTime = Utils.now();
            }
            return;
        }
        if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {
            if (swiper.isVertical()) {
                if ((pageY < touches.startY && swiper.translate <= swiper.maxTranslate()) || (pageY > touches.startY && swiper.translate >= swiper.minTranslate())) {
                    data.isTouched = false;
                    data.isMoved = false;
                    return;
                }
            } else if ((pageX < touches.startX && swiper.translate <= swiper.maxTranslate()) || (pageX > touches.startX && swiper.translate >= swiper.minTranslate())) {
                return;
            }
        }
        if (data.isTouchEvent && doc.activeElement) {
            if (e.target === doc.activeElement && $$1(e.target).is(data.formElements)) {
                data.isMoved = true;
                swiper.allowClick = false;
                return;
            }
        }
        if (data.allowTouchCallbacks) {
            swiper.emit('touchMove', e);
        }
        if (e.targetTouches && e.targetTouches.length > 1) {
            return;
        }
        touches.currentX = pageX;
        touches.currentY = pageY;
        var diffX = touches.currentX - touches.startX;
        var diffY = touches.currentY - touches.startY;
        if (typeof data.isScrolling === 'undefined') {
            var touchAngle;
            if ((swiper.isHorizontal() && touches.currentY === touches.startY) || (swiper.isVertical() && touches.currentX === touches.startX)) {
                data.isScrolling = false;
            } else {
                if ((diffX * diffX) + (diffY * diffY) >= 25) {
                    touchAngle = (Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180) / Math.PI;
                    data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : (90 - touchAngle > params.touchAngle);
                }
            }
        }
        if (data.isScrolling) {
            swiper.emit('touchMoveOpposite', e);
        }
        if (typeof startMoving === 'undefined') {
            if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {
                data.startMoving = true;
            }
        }
        if (data.isScrolling) {
            data.isTouched = false;
            return;
        }
        if (!data.startMoving) {
            return;
        }
        swiper.allowClick = false;
        e.preventDefault();
        if (params.touchMoveStopPropagation && !params.nested) {
            e.stopPropagation();
        }
        if (!data.isMoved) {
            if (params.loop) {
                swiper.loopFix();
            }
            data.startTranslate = swiper.getTranslate();
            swiper.setTransition(0);
            if (swiper.animating) {
                swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');
            }
            data.allowMomentumBounce = false;
            if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {
                swiper.setGrabCursor(true);
            }
            swiper.emit('sliderFirstMove', e);
        }
        swiper.emit('sliderMove', e);
        data.isMoved = true;
        var diff = swiper.isHorizontal() ? diffX : diffY;
        touches.diff = diff;
        diff *= params.touchRatio;
        if (rtl) {
            diff = -diff;
        }
        swiper.swipeDirection = diff > 0 ? 'prev' : 'next';
        data.currentTranslate = diff + data.startTranslate;
        var disableParentSwiper = true;
        var resistanceRatio = params.resistanceRatio;
        if (params.touchReleaseOnEdges) {
            resistanceRatio = 0;
        }
        if ((diff > 0 && data.currentTranslate > swiper.minTranslate())) {
            disableParentSwiper = false;
            if (params.resistance) {
                data.currentTranslate = (swiper.minTranslate() - 1) + (Math.pow((-swiper.minTranslate() + data.startTranslate + diff), resistanceRatio));
            }
        } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {
            disableParentSwiper = false;
            if (params.resistance) {
                data.currentTranslate = (swiper.maxTranslate() + 1) - (Math.pow((swiper.maxTranslate() - data.startTranslate - diff), resistanceRatio));
            }
        }
        if (disableParentSwiper) {
            e.preventedByNestedSwiper = true;
        }
        if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {
            data.currentTranslate = data.startTranslate;
        }
        if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {
            data.currentTranslate = data.startTranslate;
        }
        if (params.threshold > 0) {
            if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {
                if (!data.allowThresholdMove) {
                    data.allowThresholdMove = true;
                    touches.startX = touches.currentX;
                    touches.startY = touches.currentY;
                    data.currentTranslate = data.startTranslate;
                    touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;
                    return;
                }
            } else {
                data.currentTranslate = data.startTranslate;
                return;
            }
        }
        if (!params.followFinger) {
            return;
        }
        if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {
            swiper.updateActiveIndex();
            swiper.updateSlidesClasses();
        }
        if (params.freeMode) {
            if (data.velocities.length === 0) {
                data.velocities.push({
                    position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],
                    time: data.touchStartTime,
                });
            }
            data.velocities.push({
                position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],
                time: Utils.now(),
            });
        }
        swiper.updateProgress(data.currentTranslate);
        swiper.setTranslate(data.currentTranslate);
    };
    var onTouchEnd = function (event) {
        var swiper = this;
        var data = swiper.touchEventsData;
        var params = swiper.params;
        var touches = swiper.touches;
        var rtl = swiper.rtl;
        var $wrapperEl = swiper.$wrapperEl;
        var slidesGrid = swiper.slidesGrid;
        var snapGrid = swiper.snapGrid;
        var e = event;
        if (e.originalEvent) {
            e = e.originalEvent;
        }
        if (data.allowTouchCallbacks) {
            swiper.emit('touchEnd', e);
        }
        data.allowTouchCallbacks = false;
        if (!data.isTouched) {
            if (data.isMoved && params.grabCursor) {
                swiper.setGrabCursor(false);
            }
            data.isMoved = false;
            data.startMoving = false;
            return;
        }
        if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {
            swiper.setGrabCursor(false);
        }
        var touchEndTime = Utils.now();
        var timeDiff = touchEndTime - data.touchStartTime;
        if (swiper.allowClick) {
            swiper.updateClickedSlide(e);
            swiper.emit('tap', e);
            if (timeDiff < 300 && (touchEndTime - data.lastClickTime) > 300) {
                if (data.clickTimeout) {
                    clearTimeout(data.clickTimeout);
                }
                data.clickTimeout = Utils.nextTick(function () {
                    if (!swiper || swiper.destroyed) {
                        return;
                    }
                    swiper.emit('click', e);
                }, 300);
            }
            if (timeDiff < 300 && (touchEndTime - data.lastClickTime) < 300) {
                if (data.clickTimeout) {
                    clearTimeout(data.clickTimeout);
                }
                swiper.emit('doubleTap', e);
            }
        }
        data.lastClickTime = Utils.now();
        Utils.nextTick(function () {
            if (!swiper.destroyed) {
                swiper.allowClick = true;
            }
        });
        if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {
            data.isTouched = false;
            data.isMoved = false;
            data.startMoving = false;
            return;
        }
        data.isTouched = false;
        data.isMoved = false;
        data.startMoving = false;
        var currentPos;
        if (params.followFinger) {
            currentPos = rtl ? swiper.translate : -swiper.translate;
        } else {
            currentPos = -data.currentTranslate;
        }
        if (params.freeMode) {
            if (currentPos < -swiper.minTranslate()) {
                swiper.slideTo(swiper.activeIndex);
                return;
            } else if (currentPos > -swiper.maxTranslate()) {
                if (swiper.slides.length < snapGrid.length) {
                    swiper.slideTo(snapGrid.length - 1);
                } else {
                    swiper.slideTo(swiper.slides.length - 1);
                }
                return;
            }
            if (params.freeModeMomentum) {
                if (data.velocities.length > 1) {
                    var lastMoveEvent = data.velocities.pop();
                    var velocityEvent = data.velocities.pop();
                    var distance = lastMoveEvent.position - velocityEvent.position;
                    var time = lastMoveEvent.time - velocityEvent.time;
                    swiper.velocity = distance / time;
                    swiper.velocity /= 2;
                    if (Math.abs(swiper.velocity) < params.freeModeMinimumVelocity) {
                        swiper.velocity = 0;
                    }
                    if (time > 150 || (Utils.now() - lastMoveEvent.time) > 300) {
                        swiper.velocity = 0;
                    }
                } else {
                    swiper.velocity = 0;
                }
                swiper.velocity *= params.freeModeMomentumVelocityRatio;
                data.velocities.length = 0;
                var momentumDuration = 1000 * params.freeModeMomentumRatio;
                var momentumDistance = swiper.velocity * momentumDuration;
                var newPosition = swiper.translate + momentumDistance;
                if (rtl) {
                    newPosition = -newPosition;
                }
                var doBounce = false;
                var afterBouncePosition;
                var bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeModeMomentumBounceRatio;
                if (newPosition < swiper.maxTranslate()) {
                    if (params.freeModeMomentumBounce) {
                        if (newPosition + swiper.maxTranslate() < -bounceAmount) {
                            newPosition = swiper.maxTranslate() - bounceAmount;
                        }
                        afterBouncePosition = swiper.maxTranslate();
                        doBounce = true;
                        data.allowMomentumBounce = true;
                    } else {
                        newPosition = swiper.maxTranslate();
                    }
                } else if (newPosition > swiper.minTranslate()) {
                    if (params.freeModeMomentumBounce) {
                        if (newPosition - swiper.minTranslate() > bounceAmount) {
                            newPosition = swiper.minTranslate() + bounceAmount;
                        }
                        afterBouncePosition = swiper.minTranslate();
                        doBounce = true;
                        data.allowMomentumBounce = true;
                    } else {
                        newPosition = swiper.minTranslate();
                    }
                } else if (params.freeModeSticky) {
                    var nextSlide;
                    for (var j = 0; j < snapGrid.length; j += 1) {
                        if (snapGrid[j] > -newPosition) {
                            nextSlide = j;
                            break;
                        }
                    }
                    if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {
                        newPosition = snapGrid[nextSlide];
                    } else {
                        newPosition = snapGrid[nextSlide - 1];
                    }
                    newPosition = -newPosition;
                }
                if (swiper.velocity !== 0) {
                    if (rtl) {
                        momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);
                    } else {
                        momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);
                    }
                } else if (params.freeModeSticky) {
                    swiper.slideReset();
                    return;
                }
                if (params.freeModeMomentumBounce && doBounce) {
                    swiper.updateProgress(afterBouncePosition);
                    swiper.setTransition(momentumDuration);
                    swiper.setTranslate(newPosition);
                    swiper.transitionStart(true, swiper.swipeDirection);
                    swiper.animating = true;
                    $wrapperEl.transitionEnd(function () {
                        if (!swiper || swiper.destroyed || !data.allowMomentumBounce) {
                            return;
                        }
                        swiper.emit('momentumBounce');
                        swiper.setTransition(params.speed);
                        swiper.setTranslate(afterBouncePosition);
                        $wrapperEl.transitionEnd(function () {
                            if (!swiper || swiper.destroyed) {
                                return;
                            }
                            swiper.transitionEnd();
                        });
                    });
                } else if (swiper.velocity) {
                    swiper.updateProgress(newPosition);
                    swiper.setTransition(momentumDuration);
                    swiper.setTranslate(newPosition);
                    swiper.transitionStart(true, swiper.swipeDirection);
                    if (!swiper.animating) {
                        swiper.animating = true;
                        $wrapperEl.transitionEnd(function () {
                            if (!swiper || swiper.destroyed) {
                                return;
                            }
                            swiper.transitionEnd();
                        });
                    }
                } else {
                    swiper.updateProgress(newPosition);
                }
                swiper.updateActiveIndex();
                swiper.updateSlidesClasses();
            }
            if (!params.freeModeMomentum || timeDiff >= params.longSwipesMs) {
                swiper.updateProgress();
                swiper.updateActiveIndex();
                swiper.updateSlidesClasses();
            }
            return;
        }
        var stopIndex = 0;
        var groupSize = swiper.slidesSizesGrid[0];
        for (var i = 0; i < slidesGrid.length; i += params.slidesPerGroup) {
            if (typeof slidesGrid[i + params.slidesPerGroup] !== 'undefined') {
                if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + params.slidesPerGroup]) {
                    stopIndex = i;
                    groupSize = slidesGrid[i + params.slidesPerGroup] - slidesGrid[i];
                }
            } else if (currentPos >= slidesGrid[i]) {
                stopIndex = i;
                groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];
            }
        }
        var ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;
        if (timeDiff > params.longSwipesMs) {
            if (!params.longSwipes) {
                swiper.slideTo(swiper.activeIndex);
                return;
            }
            if (swiper.swipeDirection === 'next') {
                if (ratio >= params.longSwipesRatio) {
                    swiper.slideTo(stopIndex + params.slidesPerGroup);
                } else {
                    swiper.slideTo(stopIndex);
                }
            }
            if (swiper.swipeDirection === 'prev') {
                if (ratio > (1 - params.longSwipesRatio)) {
                    swiper.slideTo(stopIndex + params.slidesPerGroup);
                } else {
                    swiper.slideTo(stopIndex);
                }
            }
        } else {
            if (!params.shortSwipes) {
                swiper.slideTo(swiper.activeIndex);
                return;
            }
            if (swiper.swipeDirection === 'next') {
                swiper.slideTo(stopIndex + params.slidesPerGroup);
            }
            if (swiper.swipeDirection === 'prev') {
                swiper.slideTo(stopIndex);
            }
        }
    };
    var onResize = function () {
        var swiper = this;
        var params = swiper.params;
        var el = swiper.el;
        if (el && el.offsetWidth === 0) {
            return;
        }
        if (params.breakpoints) {
            swiper.setBreakpoint();
        }
        var allowSlideNext = swiper.allowSlideNext;
        var allowSlidePrev = swiper.allowSlidePrev;
        swiper.allowSlideNext = true;
        swiper.allowSlidePrev = true;
        swiper.updateSize();
        swiper.updateSlides();
        if (params.freeMode) {
            var newTranslate = Math.min(Math.max(swiper.translate, swiper.maxTranslate()), swiper.minTranslate());
            swiper.setTranslate(newTranslate);
            swiper.updateActiveIndex();
            swiper.updateSlidesClasses();
            if (params.autoHeight) {
                swiper.updateAutoHeight();
            }
        } else {
            swiper.updateSlidesClasses();
            if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {
                swiper.slideTo(swiper.slides.length - 1, 0, false, true);
            } else {
                swiper.slideTo(swiper.activeIndex, 0, false, true);
            }
        }
        swiper.allowSlidePrev = allowSlidePrev;
        swiper.allowSlideNext = allowSlideNext;
    };
    var onClick = function (e) {
        var swiper = this;
        if (!swiper.allowClick) {
            if (swiper.params.preventClicks) {
                e.preventDefault();
            }
            if (swiper.params.preventClicksPropagation && swiper.animating) {
                e.stopPropagation();
                e.stopImmediatePropagation();
            }
        }
    };

    function attachEvents() {
        var swiper = this;
        var params = swiper.params;
        var touchEvents = swiper.touchEvents;
        var el = swiper.el;
        var wrapperEl = swiper.wrapperEl;
        {
            swiper.onTouchStart = onTouchStart.bind(swiper);
            swiper.onTouchMove = onTouchMove.bind(swiper);
            swiper.onTouchEnd = onTouchEnd.bind(swiper);
        }
        swiper.onClick = onClick.bind(swiper);
        var target = params.touchEventsTarget === 'container' ? el : wrapperEl;
        var capture = !!params.nested;
        {
            if (!Support.touch && (Support.pointerEvents || Support.prefixedPointerEvents)) {
                target.addEventListener(touchEvents.start, swiper.onTouchStart, false);
                doc.addEventListener(touchEvents.move, swiper.onTouchMove, capture);
                doc.addEventListener(touchEvents.end, swiper.onTouchEnd, false);
            } else {
                if (Support.touch) {
                    var passiveListener = touchEvents.start === 'touchstart' && Support.passiveListener && params.passiveListeners ? {
                        passive: true,
                        capture: false
                    } : false;
                    target.addEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);
                    target.addEventListener(touchEvents.move, swiper.onTouchMove, Support.passiveListener ? {
                        passive: false,
                        capture: capture
                    } : capture);
                    target.addEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);
                }
                if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {
                    target.addEventListener('mousedown', swiper.onTouchStart, false);
                    doc.addEventListener('mousemove', swiper.onTouchMove, capture);
                    doc.addEventListener('mouseup', swiper.onTouchEnd, false);
                }
            }
            if (params.preventClicks || params.preventClicksPropagation) {
                target.addEventListener('click', swiper.onClick, true);
            }
        }
        swiper.on('resize observerUpdate', onResize);
    }

    function detachEvents() {
        var swiper = this;
        var params = swiper.params;
        var touchEvents = swiper.touchEvents;
        var el = swiper.el;
        var wrapperEl = swiper.wrapperEl;
        var target = params.touchEventsTarget === 'container' ? el : wrapperEl;
        var capture = !!params.nested;
        {
            if (!Support.touch && (Support.pointerEvents || Support.prefixedPointerEvents)) {
                target.removeEventListener(touchEvents.start, swiper.onTouchStart, false);
                doc.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);
                doc.removeEventListener(touchEvents.end, swiper.onTouchEnd, false);
            } else {
                if (Support.touch) {
                    var passiveListener = touchEvents.start === 'onTouchStart' && Support.passiveListener && params.passiveListeners ? {
                        passive: true,
                        capture: false
                    } : false;
                    target.removeEventListener(touchEvents.start, swiper.onTouchStart, passiveListener);
                    target.removeEventListener(touchEvents.move, swiper.onTouchMove, capture);
                    target.removeEventListener(touchEvents.end, swiper.onTouchEnd, passiveListener);
                }
                if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {
                    target.removeEventListener('mousedown', swiper.onTouchStart, false);
                    doc.removeEventListener('mousemove', swiper.onTouchMove, capture);
                    doc.removeEventListener('mouseup', swiper.onTouchEnd, false);
                }
            }
            if (params.preventClicks || params.preventClicksPropagation) {
                target.removeEventListener('click', swiper.onClick, true);
            }
        }
        swiper.off('resize observerUpdate', onResize);
    }

    var events = {attachEvents: attachEvents, detachEvents: detachEvents,};
    var setBreakpoint = function () {
        var swiper = this;
        var activeIndex = swiper.activeIndex;
        var loopedSlides = swiper.loopedSlides;
        if (loopedSlides === void 0) loopedSlides = 0;
        var params = swiper.params;
        var breakpoints = params.breakpoints;
        if (!breakpoints || (breakpoints && Object.keys(breakpoints).length === 0)) {
            return;
        }
        var breakpoint = swiper.getBreakpoint(breakpoints);
        if (breakpoint && swiper.currentBreakpoint !== breakpoint) {
            var breakPointsParams = breakpoint in breakpoints ? breakpoints[breakpoint] : swiper.originalParams;
            var needsReLoop = params.loop && (breakPointsParams.slidesPerView !== params.slidesPerView);
            Utils.extend(swiper.params, breakPointsParams);
            Utils.extend(swiper, {
                allowTouchMove: swiper.params.allowTouchMove,
                allowSlideNext: swiper.params.allowSlideNext,
                allowSlidePrev: swiper.params.allowSlidePrev,
            });
            swiper.currentBreakpoint = breakpoint;
            if (needsReLoop) {
                swiper.loopDestroy();
                swiper.loopCreate();
                swiper.updateSlides();
                swiper.slideTo((activeIndex - loopedSlides) + swiper.loopedSlides, 0, false);
            }
            swiper.emit('breakpoint', breakPointsParams);
        }
    };
    var getBreakpoint = function (breakpoints) {
        if (!breakpoints) {
            return undefined;
        }
        var breakpoint = false;
        var points = [];
        Object.keys(breakpoints).forEach(function (point) {
            points.push(point);
        });
        points.sort(function (a, b) {
            return parseInt(a, 10) - parseInt(b, 10);
        });
        for (var i = 0; i < points.length; i += 1) {
            var point = points[i];
            if (point >= win.innerWidth && !breakpoint) {
                breakpoint = point;
            }
        }
        return breakpoint || 'max';
    };
    var breakpoints = {setBreakpoint: setBreakpoint, getBreakpoint: getBreakpoint};
    var Browser = (function Browser() {
        function isSafari() {
            var ua = win.navigator.userAgent.toLowerCase();
            return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0);
        }

        return {
            isIE: !!win.navigator.userAgent.match(/Trident/g) || !!win.navigator.userAgent.match(/MSIE/g),
            isSafari: isSafari(),
            isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(win.navigator.userAgent),
        };
    }());
    var addClasses = function () {
        var swiper = this;
        var classNames = swiper.classNames;
        var params = swiper.params;
        var rtl = swiper.rtl;
        var $el = swiper.$el;
        var suffixes = [];
        suffixes.push(params.direction);
        if (params.freeMode) {
            suffixes.push('free-mode');
        }
        if (!Support.flexbox) {
            suffixes.push('no-flexbox');
        }
        if (params.autoHeight) {
            suffixes.push('autoheight');
        }
        if (rtl) {
            suffixes.push('rtl');
        }
        if (params.slidesPerColumn > 1) {
            suffixes.push('multirow');
        }
        if (Device.android) {
            suffixes.push('android');
        }
        if (Device.ios) {
            suffixes.push('ios');
        }
        if (Browser.isIE && (Support.pointerEvents || Support.prefixedPointerEvents)) {
            suffixes.push(("wp8-" + (params.direction)));
        }
        suffixes.forEach(function (suffix) {
            classNames.push(params.containerModifierClass + suffix);
        });
        $el.addClass(classNames.join(' '));
    };
    var removeClasses = function () {
        var swiper = this;
        var $el = swiper.$el;
        var classNames = swiper.classNames;
        $el.removeClass(classNames.join(' '));
    };
    var classes = {addClasses: addClasses, removeClasses: removeClasses};
    var loadImage = function (imageEl, src, srcset, sizes, checkForComplete, callback) {
        var image;

        function onReady() {
            if (callback) {
                callback();
            }
        }

        if (!imageEl.complete || !checkForComplete) {
            if (src) {
                image = new win.Image();
                image.onload = onReady;
                image.onerror = onReady;
                if (sizes) {
                    image.sizes = sizes;
                }
                if (srcset) {
                    image.srcset = srcset;
                }
                if (src) {
                    image.src = src;
                }
            } else {
                onReady();
            }
        } else {
            onReady();
        }
    };
    var preloadImages = function () {
        var swiper = this;
        swiper.imagesToLoad = swiper.$el.find('img');

        function onReady() {
            if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) {
                return;
            }
            if (swiper.imagesLoaded !== undefined) {
                swiper.imagesLoaded += 1;
            }
            if (swiper.imagesLoaded === swiper.imagesToLoad.length) {
                if (swiper.params.updateOnImagesReady) {
                    swiper.update();
                }
                swiper.emit('imagesReady');
            }
        }

        for (var i = 0; i < swiper.imagesToLoad.length; i += 1) {
            var imageEl = swiper.imagesToLoad[i];
            swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);
        }
    };
    var images = {loadImage: loadImage, preloadImages: preloadImages,};

    function checkOverflow() {
        var swiper = this;
        var wasLocked = swiper.isLocked;
        swiper.isLocked = swiper.snapGrid.length === 1;
        swiper.allowTouchMove = !swiper.isLocked;
        if (wasLocked && wasLocked !== swiper.isLocked) {
            swiper.isEnd = false;
            swiper.navigation.update();
        }
    }

    var checkOverflow$1 = {checkOverflow: checkOverflow};
    var defaults = {
        init: true,
        direction: 'horizontal',
        touchEventsTarget: 'container',
        initialSlide: 0,
        speed: 300,
        preventIntercationOnTransition: false,
        iOSEdgeSwipeDetection: false,
        iOSEdgeSwipeThreshold: 20,
        freeMode: false,
        freeModeMomentum: true,
        freeModeMomentumRatio: 1,
        freeModeMomentumBounce: true,
        freeModeMomentumBounceRatio: 1,
        freeModeMomentumVelocityRatio: 1,
        freeModeSticky: false,
        freeModeMinimumVelocity: 0.02,
        autoHeight: false,
        setWrapperSize: false,
        virtualTranslate: false,
        effect: 'slide',
        breakpoints: undefined,
        spaceBetween: 0,
        slidesPerView: 1,
        slidesPerColumn: 1,
        slidesPerColumnFill: 'column',
        slidesPerGroup: 1,
        centeredSlides: false,
        slidesOffsetBefore: 0,
        slidesOffsetAfter: 0,
        normalizeSlideIndex: true,
        watchOverflow: false,
        roundLengths: false,
        touchRatio: 1,
        touchAngle: 45,
        simulateTouch: true,
        shortSwipes: true,
        longSwipes: true,
        longSwipesRatio: 0.5,
        longSwipesMs: 300,
        followFinger: true,
        allowTouchMove: true,
        threshold: 0,
        touchMoveStopPropagation: true,
        touchReleaseOnEdges: false,
        uniqueNavElements: true,
        resistance: true,
        resistanceRatio: 0.85,
        watchSlidesProgress: false,
        watchSlidesVisibility: false,
        grabCursor: false,
        preventClicks: true,
        preventClicksPropagation: true,
        slideToClickedSlide: false,
        preloadImages: true,
        updateOnImagesReady: true,
        loop: false,
        loopAdditionalSlides: 0,
        loopedSlides: null,
        loopFillGroupWithBlank: false,
        allowSlidePrev: true,
        allowSlideNext: true,
        swipeHandler: null,
        noSwiping: true,
        noSwipingClass: 'swiper-no-swiping',
        noSwipingSelector: null,
        passiveListeners: true,
        containerModifierClass: 'swiper-container-',
        slideClass: 'swiper-slide',
        slideBlankClass: 'swiper-slide-invisible-blank',
        slideActiveClass: 'swiper-slide-active',
        slideDuplicateActiveClass: 'swiper-slide-duplicate-active',
        slideVisibleClass: 'swiper-slide-visible',
        slideDuplicateClass: 'swiper-slide-duplicate',
        slideNextClass: 'swiper-slide-next',
        slideDuplicateNextClass: 'swiper-slide-duplicate-next',
        slidePrevClass: 'swiper-slide-prev',
        slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',
        wrapperClass: 'swiper-wrapper',
        runCallbacksOnInit: true,
    };
    var prototypes = {
        update: update,
        translate: translate,
        transition: transition$1,
        slide: slide,
        loop: loop,
        grabCursor: grabCursor,
        manipulation: manipulation,
        events: events,
        breakpoints: breakpoints,
        checkOverflow: checkOverflow$1,
        classes: classes,
        images: images,
    };
    var extendedDefaults = {};
    var Swiper$1 = (function (SwiperClass$$1) {
        function Swiper() {
            var args = [], len = arguments.length;
            while (len--) args[len] = arguments[len];
            var el;
            var params;
            if (args.length === 1 && args[0].constructor && args[0].constructor === Object) {
                params = args[0];
            } else {
                var assign;
                (assign = args, el = assign[0], params = assign[1]);
            }
            if (!params) {
                params = {};
            }
            params = Utils.extend({}, params);
            if (el && !params.el) {
                params.el = el;
            }
            SwiperClass$$1.call(this, params);
            Object.keys(prototypes).forEach(function (prototypeGroup) {
                Object.keys(prototypes[prototypeGroup]).forEach(function (protoMethod) {
                    if (!Swiper.prototype[protoMethod]) {
                        Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];
                    }
                });
            });
            var swiper = this;
            if (typeof swiper.modules === 'undefined') {
                swiper.modules = {};
            }
            Object.keys(swiper.modules).forEach(function (moduleName) {
                var module = swiper.modules[moduleName];
                if (module.params) {
                    var moduleParamName = Object.keys(module.params)[0];
                    var moduleParams = module.params[moduleParamName];
                    if (typeof moduleParams !== 'object') {
                        return;
                    }
                    if (!(moduleParamName in params && 'enabled' in moduleParams)) {
                        return;
                    }
                    if (params[moduleParamName] === true) {
                        params[moduleParamName] = {enabled: true};
                    }
                    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {
                        params[moduleParamName].enabled = true;
                    }
                    if (!params[moduleParamName]) {
                        params[moduleParamName] = {enabled: false};
                    }
                }
            });
            var swiperParams = Utils.extend({}, defaults);
            swiper.useModulesParams(swiperParams);
            swiper.params = Utils.extend({}, swiperParams, extendedDefaults, params);
            swiper.originalParams = Utils.extend({}, swiper.params);
            swiper.passedParams = Utils.extend({}, params);
            swiper.$ = $$1;
            var $el = $$1(swiper.params.el);
            el = $el[0];
            if (!el) {
                return undefined;
            }
            if ($el.length > 1) {
                var swipers = [];
                $el.each(function (index, containerEl) {
                    var newParams = Utils.extend({}, params, {el: containerEl});
                    swipers.push(new Swiper(newParams));
                });
                return swipers;
            }
            el.swiper = swiper;
            $el.data('swiper', swiper);
            var $wrapperEl = $el.children(("." + (swiper.params.wrapperClass)));
            Utils.extend(swiper, {
                $el: $el,
                el: el,
                $wrapperEl: $wrapperEl,
                wrapperEl: $wrapperEl[0],
                classNames: [],
                slides: $$1(),
                slidesGrid: [],
                snapGrid: [],
                slidesSizesGrid: [],
                isHorizontal: function isHorizontal() {
                    return swiper.params.direction === 'horizontal';
                },
                isVertical: function isVertical() {
                    return swiper.params.direction === 'vertical';
                },
                rtl: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),
                wrongRTL: $wrapperEl.css('display') === '-webkit-box',
                activeIndex: 0,
                realIndex: 0,
                isBeginning: true,
                isEnd: false,
                translate: 0,
                progress: 0,
                velocity: 0,
                animating: false,
                allowSlideNext: swiper.params.allowSlideNext,
                allowSlidePrev: swiper.params.allowSlidePrev,
                touchEvents: (function touchEvents() {
                    var touch = ['touchstart', 'touchmove', 'touchend'];
                    var desktop = ['mousedown', 'mousemove', 'mouseup'];
                    if (Support.pointerEvents) {
                        desktop = ['pointerdown', 'pointermove', 'pointerup'];
                    } else if (Support.prefixedPointerEvents) {
                        desktop = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp'];
                    }
                    swiper.touchEventsTouch = {start: touch[0], move: touch[1], end: touch[2],};
                    swiper.touchEventsDesktop = {start: desktop[0], move: desktop[1], end: desktop[2],};
                    return Support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;
                }()),
                touchEventsData: {
                    isTouched: undefined,
                    isMoved: undefined,
                    allowTouchCallbacks: undefined,
                    touchStartTime: undefined,
                    isScrolling: undefined,
                    currentTranslate: undefined,
                    startTranslate: undefined,
                    allowThresholdMove: undefined,
                    formElements: 'input, select, option, textarea, button, video',
                    lastClickTime: Utils.now(),
                    clickTimeout: undefined,
                    velocities: [],
                    allowMomentumBounce: undefined,
                    isTouchEvent: undefined,
                    startMoving: undefined,
                },
                allowClick: true,
                allowTouchMove: swiper.params.allowTouchMove,
                touches: {startX: 0, startY: 0, currentX: 0, currentY: 0, diff: 0,},
                imagesToLoad: [],
                imagesLoaded: 0,
            });
            swiper.useModules();
            if (swiper.params.init) {
                swiper.init();
            }
            return swiper;
        }

        if (SwiperClass$$1) Swiper.__proto__ = SwiperClass$$1;
        Swiper.prototype = Object.create(SwiperClass$$1 && SwiperClass$$1.prototype);
        Swiper.prototype.constructor = Swiper;
        var staticAccessors = {
            extendedDefaults: {configurable: true},
            defaults: {configurable: true},
            Class: {configurable: true},
            $: {configurable: true}
        };
        Swiper.prototype.slidesPerViewDynamic = function slidesPerViewDynamic() {
            var swiper = this;
            var params = swiper.params;
            var slides = swiper.slides;
            var slidesGrid = swiper.slidesGrid;
            var swiperSize = swiper.size;
            var activeIndex = swiper.activeIndex;
            var spv = 1;
            if (params.centeredSlides) {
                var slideSize = slides[activeIndex].swiperSlideSize;
                var breakLoop;
                for (var i = activeIndex + 1; i < slides.length; i += 1) {
                    if (slides[i] && !breakLoop) {
                        slideSize += slides[i].swiperSlideSize;
                        spv += 1;
                        if (slideSize > swiperSize) {
                            breakLoop = true;
                        }
                    }
                }
                for (var i$1 = activeIndex - 1; i$1 >= 0; i$1 -= 1) {
                    if (slides[i$1] && !breakLoop) {
                        slideSize += slides[i$1].swiperSlideSize;
                        spv += 1;
                        if (slideSize > swiperSize) {
                            breakLoop = true;
                        }
                    }
                }
            } else {
                for (var i$2 = activeIndex + 1; i$2 < slides.length; i$2 += 1) {
                    if (slidesGrid[i$2] - slidesGrid[activeIndex] < swiperSize) {
                        spv += 1;
                    }
                }
            }
            return spv;
        };
        Swiper.prototype.update = function update$$1() {
            var swiper = this;
            if (!swiper || swiper.destroyed) {
                return;
            }
            swiper.updateSize();
            swiper.updateSlides();
            swiper.updateProgress();
            swiper.updateSlidesClasses();

            function setTranslate() {
                var translateValue = swiper.rtl ? swiper.translate * -1 : swiper.translate;
                var newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());
                swiper.setTranslate(newTranslate);
                swiper.updateActiveIndex();
                swiper.updateSlidesClasses();
            }

            var translated;
            if (swiper.params.freeMode) {
                setTranslate();
                if (swiper.params.autoHeight) {
                    swiper.updateAutoHeight();
                }
            } else {
                if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {
                    translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);
                } else {
                    translated = swiper.slideTo(swiper.activeIndex, 0, false, true);
                }
                if (!translated) {
                    setTranslate();
                }
            }
            swiper.emit('update');
        };
        Swiper.prototype.init = function init() {
            var swiper = this;
            if (swiper.initialized) {
                return;
            }
            swiper.emit('beforeInit');
            if (swiper.params.breakpoints) {
                swiper.setBreakpoint();
            }
            swiper.addClasses();
            if (swiper.params.loop) {
                swiper.loopCreate();
            }
            swiper.updateSize();
            swiper.updateSlides();
            if (swiper.params.watchOverflow) {
                swiper.checkOverflow();
            }
            if (swiper.params.grabCursor) {
                swiper.setGrabCursor();
            }
            if (swiper.params.preloadImages) {
                swiper.preloadImages();
            }
            if (swiper.params.loop) {
                swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit);
            } else {
                swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit);
            }
            swiper.attachEvents();
            swiper.initialized = true;
            swiper.emit('init');
        };
        Swiper.prototype.destroy = function destroy(deleteInstance, cleanStyles) {
            if (deleteInstance === void 0) deleteInstance = true;
            if (cleanStyles === void 0) cleanStyles = true;
            var swiper = this;
            var params = swiper.params;
            var $el = swiper.$el;
            var $wrapperEl = swiper.$wrapperEl;
            var slides = swiper.slides;
            swiper.emit('beforeDestroy');
            swiper.initialized = false;
            swiper.detachEvents();
            if (params.loop) {
                swiper.loopDestroy();
            }
            if (cleanStyles) {
                swiper.removeClasses();
                $el.removeAttr('style');
                $wrapperEl.removeAttr('style');
                if (slides && slides.length) {
                    slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index').removeAttr('data-swiper-column').removeAttr('data-swiper-row');
                }
            }
            swiper.emit('destroy');
            Object.keys(swiper.eventsListeners).forEach(function (eventName) {
                swiper.off(eventName);
            });
            if (deleteInstance !== false) {
                swiper.$el[0].swiper = null;
                swiper.$el.data('swiper', null);
                Utils.deleteProps(swiper);
            }
            swiper.destroyed = true;
        };
        Swiper.extendDefaults = function extendDefaults(newDefaults) {
            Utils.extend(extendedDefaults, newDefaults);
        };
        staticAccessors.extendedDefaults.get = function () {
            return extendedDefaults;
        };
        staticAccessors.defaults.get = function () {
            return defaults;
        };
        staticAccessors.Class.get = function () {
            return SwiperClass$$1;
        };
        staticAccessors.$.get = function () {
            return $$1;
        };
        Object.defineProperties(Swiper, staticAccessors);
        return Swiper;
    }(SwiperClass));
    var Device$2 = {name: 'device', proto: {device: Device,}, static: {device: Device,},};
    var Support$2 = {name: 'support', proto: {support: Support,}, static: {support: Support,},};
    var Browser$2 = {name: 'browser', proto: {browser: Browser,}, static: {browser: Browser,},};
    var Resize = {
        name: 'resize', create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                resize: {
                    resizeHandler: function resizeHandler() {
                        if (!swiper || swiper.destroyed || !swiper.initialized) {
                            return;
                        }
                        swiper.emit('beforeResize');
                        swiper.emit('resize');
                    }, orientationChangeHandler: function orientationChangeHandler() {
                        if (!swiper || swiper.destroyed || !swiper.initialized) {
                            return;
                        }
                        swiper.emit('orientationchange');
                    },
                },
            });
        }, on: {
            init: function init() {
                var swiper = this;
                win.addEventListener('resize', swiper.resize.resizeHandler);
                win.addEventListener('orientationchange', swiper.resize.orientationChangeHandler);
            }, destroy: function destroy() {
                var swiper = this;
                win.removeEventListener('resize', swiper.resize.resizeHandler);
                win.removeEventListener('orientationchange', swiper.resize.orientationChangeHandler);
            },
        },
    };
    var Observer = {
        func: win.MutationObserver || win.WebkitMutationObserver, attach: function attach(target, options) {
            if (options === void 0) options = {};
            var swiper = this;
            var ObserverFunc = Observer.func;
            var observer = new ObserverFunc(function (mutations) {
                mutations.forEach(function (mutation) {
                    swiper.emit('observerUpdate', mutation);
                });
            });
            observer.observe(target, {
                attributes: typeof options.attributes === 'undefined' ? true : options.attributes,
                childList: typeof options.childList === 'undefined' ? true : options.childList,
                characterData: typeof options.characterData === 'undefined' ? true : options.characterData,
            });
            swiper.observer.observers.push(observer);
        }, init: function init() {
            var swiper = this;
            if (!Support.observer || !swiper.params.observer) {
                return;
            }
            if (swiper.params.observeParents) {
                var containerParents = swiper.$el.parents();
                for (var i = 0; i < containerParents.length; i += 1) {
                    swiper.observer.attach(containerParents[i]);
                }
            }
            swiper.observer.attach(swiper.$el[0], {childList: false});
            swiper.observer.attach(swiper.$wrapperEl[0], {attributes: false});
        }, destroy: function destroy() {
            var swiper = this;
            swiper.observer.observers.forEach(function (observer) {
                observer.disconnect();
            });
            swiper.observer.observers = [];
        },
    };
    var Observer$1 = {
        name: 'observer', params: {observer: false, observeParents: false,}, create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                observer: {
                    init: Observer.init.bind(swiper),
                    attach: Observer.attach.bind(swiper),
                    destroy: Observer.destroy.bind(swiper),
                    observers: [],
                },
            });
        }, on: {
            init: function init() {
                var swiper = this;
                swiper.observer.init();
            }, destroy: function destroy() {
                var swiper = this;
                swiper.observer.destroy();
            },
        },
    };
    var Virtual = {
        update: function update(force) {
            var swiper = this;
            var ref = swiper.params;
            var slidesPerView = ref.slidesPerView;
            var slidesPerGroup = ref.slidesPerGroup;
            var centeredSlides = ref.centeredSlides;
            var ref$1 = swiper.virtual;
            var previousFrom = ref$1.from;
            var previousTo = ref$1.to;
            var slides = ref$1.slides;
            var previousSlidesGrid = ref$1.slidesGrid;
            var renderSlide = ref$1.renderSlide;
            var previousOffset = ref$1.offset;
            swiper.updateActiveIndex();
            var activeIndex = swiper.activeIndex || 0;
            var offsetProp;
            if (swiper.rtl && swiper.isHorizontal()) {
                offsetProp = 'right';
            } else {
                offsetProp = swiper.isHorizontal() ? 'left' : 'top';
            }
            var slidesAfter;
            var slidesBefore;
            if (centeredSlides) {
                slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup;
                slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup;
            } else {
                slidesAfter = slidesPerView + (slidesPerGroup - 1);
                slidesBefore = slidesPerGroup;
            }
            var from = Math.max((activeIndex || 0) - slidesBefore, 0);
            var to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);
            var offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);
            Utils.extend(swiper.virtual, {from: from, to: to, offset: offset, slidesGrid: swiper.slidesGrid,});

            function onRendered() {
                swiper.updateSlides();
                swiper.updateProgress();
                swiper.updateSlidesClasses();
                if (swiper.lazy && swiper.params.lazy.enabled) {
                    swiper.lazy.load();
                }
            }

            if (previousFrom === from && previousTo === to && !force) {
                if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {
                    swiper.slides.css(offsetProp, (offset + "px"));
                }
                swiper.updateProgress();
                return;
            }
            if (swiper.params.virtual.renderExternal) {
                swiper.params.virtual.renderExternal.call(swiper, {
                    offset: offset, from: from, to: to, slides: (function getSlides() {
                        var slidesToRender = [];
                        for (var i = from; i <= to; i += 1) {
                            slidesToRender.push(slides[i]);
                        }
                        return slidesToRender;
                    }()),
                });
                onRendered();
                return;
            }
            var prependIndexes = [];
            var appendIndexes = [];
            if (force) {
                swiper.$wrapperEl.find(("." + (swiper.params.slideClass))).remove();
            } else {
                for (var i = previousFrom; i <= previousTo; i += 1) {
                    if (i < from || i > to) {
                        swiper.$wrapperEl.find(("." + (swiper.params.slideClass) + "[data-swiper-slide-index=\"" + i + "\"]")).remove();
                    }
                }
            }
            for (var i$1 = 0; i$1 < slides.length; i$1 += 1) {
                if (i$1 >= from && i$1 <= to) {
                    if (typeof previousTo === 'undefined' || force) {
                        appendIndexes.push(i$1);
                    } else {
                        if (i$1 > previousTo) {
                            appendIndexes.push(i$1);
                        }
                        if (i$1 < previousFrom) {
                            prependIndexes.push(i$1);
                        }
                    }
                }
            }
            appendIndexes.forEach(function (index) {
                swiper.$wrapperEl.append(renderSlide(slides[index], index));
            });
            prependIndexes.sort(function (a, b) {
                return a < b;
            }).forEach(function (index) {
                swiper.$wrapperEl.prepend(renderSlide(slides[index], index));
            });
            swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, (offset + "px"));
            onRendered();
        }, renderSlide: function renderSlide(slide, index) {
            var swiper = this;
            var params = swiper.params.virtual;
            if (params.cache && swiper.virtual.cache[index]) {
                return swiper.virtual.cache[index];
            }
            var $slideEl = params.renderSlide ? $$1(params.renderSlide.call(swiper, slide, index)) : $$1(("<div class=\"" + (swiper.params.slideClass) + "\" data-swiper-slide-index=\"" + index + "\">" + slide + "</div>"));
            if (!$slideEl.attr('data-swiper-slide-index')) {
                $slideEl.attr('data-swiper-slide-index', index);
            }
            if (params.cache) {
                swiper.virtual.cache[index] = $slideEl;
            }
            return $slideEl;
        }, appendSlide: function appendSlide(slide) {
            var swiper = this;
            swiper.virtual.slides.push(slide);
            swiper.virtual.update(true);
        }, prependSlide: function prependSlide(slide) {
            var swiper = this;
            swiper.virtual.slides.unshift(slide);
            if (swiper.params.virtual.cache) {
                var cache = swiper.virtual.cache;
                var newCache = {};
                Object.keys(cache).forEach(function (cachedIndex) {
                    newCache[cachedIndex + 1] = cache[cachedIndex];
                });
                swiper.virtual.cache = newCache;
            }
            swiper.virtual.update(true);
            swiper.slideNext(0);
        },
    };
    var Virtual$1 = {
        name: 'virtual',
        params: {virtual: {enabled: false, slides: [], cache: true, renderSlide: null, renderExternal: null,},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                virtual: {
                    update: Virtual.update.bind(swiper),
                    appendSlide: Virtual.appendSlide.bind(swiper),
                    prependSlide: Virtual.prependSlide.bind(swiper),
                    renderSlide: Virtual.renderSlide.bind(swiper),
                    slides: swiper.params.virtual.slides,
                    cache: {},
                },
            });
        },
        on: {
            beforeInit: function beforeInit() {
                var swiper = this;
                if (!swiper.params.virtual.enabled) {
                    return;
                }
                swiper.classNames.push(((swiper.params.containerModifierClass) + "virtual"));
                var overwriteParams = {watchSlidesProgress: true,};
                Utils.extend(swiper.params, overwriteParams);
                Utils.extend(swiper.originalParams, overwriteParams);
                swiper.virtual.update();
            }, setTranslate: function setTranslate() {
                var swiper = this;
                if (!swiper.params.virtual.enabled) {
                    return;
                }
                swiper.virtual.update();
            },
        },
    };
    var Keyboard = {
        handle: function handle(event) {
            var swiper = this;
            var e = event;
            if (e.originalEvent) {
                e = e.originalEvent;
            }
            var kc = e.keyCode || e.charCode;
            if (!swiper.allowSlideNext && ((swiper.isHorizontal() && kc === 39) || (swiper.isVertical() && kc === 40))) {
                return false;
            }
            if (!swiper.allowSlidePrev && ((swiper.isHorizontal() && kc === 37) || (swiper.isVertical() && kc === 38))) {
                return false;
            }
            if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {
                return undefined;
            }
            if (doc.activeElement && doc.activeElement.nodeName && (doc.activeElement.nodeName.toLowerCase() === 'input' || doc.activeElement.nodeName.toLowerCase() === 'textarea')) {
                return undefined;
            }
            if (swiper.params.keyboard.onlyInViewport && (kc === 37 || kc === 39 || kc === 38 || kc === 40)) {
                var inView = false;
                if (swiper.$el.parents(("." + (swiper.params.slideClass))).length > 0 && swiper.$el.parents(("." + (swiper.params.slideActiveClass))).length === 0) {
                    return undefined;
                }
                var windowWidth = win.innerWidth;
                var windowHeight = win.innerHeight;
                var swiperOffset = swiper.$el.offset();
                if (swiper.rtl) {
                    swiperOffset.left -= swiper.$el[0].scrollLeft;
                }
                var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];
                for (var i = 0; i < swiperCoord.length; i += 1) {
                    var point = swiperCoord[i];
                    if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {
                        inView = true;
                    }
                }
                if (!inView) {
                    return undefined;
                }
            }
            if (swiper.isHorizontal()) {
                if (kc === 37 || kc === 39) {
                    if (e.preventDefault) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }
                }
                if ((kc === 39 && !swiper.rtl) || (kc === 37 && swiper.rtl)) {
                    swiper.slideNext();
                }
                if ((kc === 37 && !swiper.rtl) || (kc === 39 && swiper.rtl)) {
                    swiper.slidePrev();
                }
            } else {
                if (kc === 38 || kc === 40) {
                    if (e.preventDefault) {
                        e.preventDefault();
                    } else {
                        e.returnValue = false;
                    }
                }
                if (kc === 40) {
                    swiper.slideNext();
                }
                if (kc === 38) {
                    swiper.slidePrev();
                }
            }
            swiper.emit('keyPress', kc);
            return undefined;
        }, enable: function enable() {
            var swiper = this;
            if (swiper.keyboard.enabled) {
                return;
            }
            $$1(doc).on('keydown', swiper.keyboard.handle);
            swiper.keyboard.enabled = true;
        }, disable: function disable() {
            var swiper = this;
            if (!swiper.keyboard.enabled) {
                return;
            }
            $$1(doc).off('keydown', swiper.keyboard.handle);
            swiper.keyboard.enabled = false;
        },
    };
    var Keyboard$1 = {
        name: 'keyboard',
        params: {keyboard: {enabled: false, onlyInViewport: true,},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                keyboard: {
                    enabled: false,
                    enable: Keyboard.enable.bind(swiper),
                    disable: Keyboard.disable.bind(swiper),
                    handle: Keyboard.handle.bind(swiper),
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                if (swiper.params.keyboard.enabled) {
                    swiper.keyboard.enable();
                }
            }, destroy: function destroy() {
                var swiper = this;
                if (swiper.keyboard.enabled) {
                    swiper.keyboard.disable();
                }
            },
        },
    };

    function isEventSupported() {
        var eventName = 'onwheel';
        var isSupported = eventName in doc;
        if (!isSupported) {
            var element = doc.createElement('div');
            element.setAttribute(eventName, 'return;');
            isSupported = typeof element[eventName] === 'function';
        }
        if (!isSupported && doc.implementation && doc.implementation.hasFeature && doc.implementation.hasFeature('', '') !== true) {
            isSupported = doc.implementation.hasFeature('Events.wheel', '3.0');
        }
        return isSupported;
    }

    var Mousewheel = {
        lastScrollTime: Utils.now(), event: (function getEvent() {
            if (win.navigator.userAgent.indexOf('firefox') > -1) {
                return 'DOMMouseScroll';
            }
            return isEventSupported() ? 'wheel' : 'mousewheel';
        }()), normalize: function normalize(e) {
            var PIXEL_STEP = 10;
            var LINE_HEIGHT = 40;
            var PAGE_HEIGHT = 800;
            var sX = 0;
            var sY = 0;
            var pX = 0;
            var pY = 0;
            if ('detail' in e) {
                sY = e.detail;
            }
            if ('wheelDelta' in e) {
                sY = -e.wheelDelta / 120;
            }
            if ('wheelDeltaY' in e) {
                sY = -e.wheelDeltaY / 120;
            }
            if ('wheelDeltaX' in e) {
                sX = -e.wheelDeltaX / 120;
            }
            if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {
                sX = sY;
                sY = 0;
            }
            pX = sX * PIXEL_STEP;
            pY = sY * PIXEL_STEP;
            if ('deltaY' in e) {
                pY = e.deltaY;
            }
            if ('deltaX' in e) {
                pX = e.deltaX;
            }
            if ((pX || pY) && e.deltaMode) {
                if (e.deltaMode === 1) {
                    pX *= LINE_HEIGHT;
                    pY *= LINE_HEIGHT;
                } else {
                    pX *= PAGE_HEIGHT;
                    pY *= PAGE_HEIGHT;
                }
            }
            if (pX && !sX) {
                sX = (pX < 1) ? -1 : 1;
            }
            if (pY && !sY) {
                sY = (pY < 1) ? -1 : 1;
            }
            return {spinX: sX, spinY: sY, pixelX: pX, pixelY: pY,};
        }, handle: function handle(event) {
            var e = event;
            var swiper = this;
            var params = swiper.params.mousewheel;
            if (e.originalEvent) {
                e = e.originalEvent;
            }
            var delta = 0;
            var rtlFactor = swiper.rtl ? -1 : 1;
            var data = Mousewheel.normalize(e);
            if (params.forceToAxis) {
                if (swiper.isHorizontal()) {
                    if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) {
                        delta = data.pixelX * rtlFactor;
                    } else {
                        return true;
                    }
                } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) {
                    delta = data.pixelY;
                } else {
                    return true;
                }
            } else {
                delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;
            }
            if (delta === 0) {
                return true;
            }
            if (params.invert) {
                delta = -delta;
            }
            if (!swiper.params.freeMode) {
                if (Utils.now() - swiper.mousewheel.lastScrollTime > 60) {
                    if (delta < 0) {
                        if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {
                            swiper.slideNext();
                            swiper.emit('scroll', e);
                        } else if (params.releaseOnEdges) {
                            return true;
                        }
                    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {
                        swiper.slidePrev();
                        swiper.emit('scroll', e);
                    } else if (params.releaseOnEdges) {
                        return true;
                    }
                }
                swiper.mousewheel.lastScrollTime = (new win.Date()).getTime();
            } else {
                var position = swiper.getTranslate() + (delta * params.sensitivity);
                var wasBeginning = swiper.isBeginning;
                var wasEnd = swiper.isEnd;
                if (position >= swiper.minTranslate()) {
                    position = swiper.minTranslate();
                }
                if (position <= swiper.maxTranslate()) {
                    position = swiper.maxTranslate();
                }
                swiper.setTransition(0);
                swiper.setTranslate(position);
                swiper.updateProgress();
                swiper.updateActiveIndex();
                swiper.updateSlidesClasses();
                if ((!wasBeginning && swiper.isBeginning) || (!wasEnd && swiper.isEnd)) {
                    swiper.updateSlidesClasses();
                }
                if (swiper.params.freeModeSticky) {
                    clearTimeout(swiper.mousewheel.timeout);
                    swiper.mousewheel.timeout = Utils.nextTick(function () {
                        swiper.slideReset();
                    }, 300);
                }
                swiper.emit('scroll', e);
                if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) {
                    swiper.stopAutoplay();
                }
                if (position === swiper.minTranslate() || position === swiper.maxTranslate()) {
                    return true;
                }
            }
            if (e.preventDefault) {
                e.preventDefault();
            } else {
                e.returnValue = false;
            }
            return false;
        }, enable: function enable() {
            var swiper = this;
            if (!Mousewheel.event) {
                return false;
            }
            if (swiper.mousewheel.enabled) {
                return false;
            }
            var target = swiper.$el;
            if (swiper.params.mousewheel.eventsTarged !== 'container') {
                target = $$1(swiper.params.mousewheel.eventsTarged);
            }
            target.on(Mousewheel.event, swiper.mousewheel.handle);
            swiper.mousewheel.enabled = true;
            return true;
        }, disable: function disable() {
            var swiper = this;
            if (!Mousewheel.event) {
                return false;
            }
            if (!swiper.mousewheel.enabled) {
                return false;
            }
            var target = swiper.$el;
            if (swiper.params.mousewheel.eventsTarged !== 'container') {
                target = $$1(swiper.params.mousewheel.eventsTarged);
            }
            target.off(Mousewheel.event, swiper.mousewheel.handle);
            swiper.mousewheel.enabled = false;
            return true;
        },
    };
    var Mousewheel$1 = {
        name: 'mousewheel',
        params: {
            mousewheel: {
                enabled: false,
                releaseOnEdges: false,
                invert: false,
                forceToAxis: false,
                sensitivity: 1,
                eventsTarged: 'container',
            },
        },
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                mousewheel: {
                    enabled: false,
                    enable: Mousewheel.enable.bind(swiper),
                    disable: Mousewheel.disable.bind(swiper),
                    handle: Mousewheel.handle.bind(swiper),
                    lastScrollTime: Utils.now(),
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                if (swiper.params.mousewheel.enabled) {
                    swiper.mousewheel.enable();
                }
            }, destroy: function destroy() {
                var swiper = this;
                if (swiper.mousewheel.enabled) {
                    swiper.mousewheel.disable();
                }
            },
        },
    };
    var Navigation = {
        update: function update() {
            var swiper = this;
            var params = swiper.params.navigation;
            if (swiper.params.loop) {
                return;
            }
            var ref = swiper.navigation;
            var $nextEl = ref.$nextEl;
            var $prevEl = ref.$prevEl;
            if ($prevEl && $prevEl.length > 0) {
                if (swiper.isBeginning) {
                    $prevEl.addClass(params.disabledClass);
                } else {
                    $prevEl.removeClass(params.disabledClass);
                }
                $prevEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
            }
            if ($nextEl && $nextEl.length > 0) {
                if (swiper.isEnd) {
                    $nextEl.addClass(params.disabledClass);
                } else {
                    $nextEl.removeClass(params.disabledClass);
                }
                $nextEl[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
            }
        }, init: function init() {
            var swiper = this;
            var params = swiper.params.navigation;
            if (!(params.nextEl || params.prevEl)) {
                return;
            }
            var $nextEl;
            var $prevEl;
            if (params.nextEl) {
                $nextEl = $$1(params.nextEl);
                if (swiper.params.uniqueNavElements && typeof params.nextEl === 'string' && $nextEl.length > 1 && swiper.$el.find(params.nextEl).length === 1) {
                    $nextEl = swiper.$el.find(params.nextEl);
                }
            }
            if (params.prevEl) {
                $prevEl = $$1(params.prevEl);
                if (swiper.params.uniqueNavElements && typeof params.prevEl === 'string' && $prevEl.length > 1 && swiper.$el.find(params.prevEl).length === 1) {
                    $prevEl = swiper.$el.find(params.prevEl);
                }
            }
            if ($nextEl && $nextEl.length > 0) {
                $nextEl.on('click', function (e) {
                    e.preventDefault();
                    if (swiper.isEnd && !swiper.params.loop) {
                        return;
                    }
                    swiper.slideNext();
                });
            }
            if ($prevEl && $prevEl.length > 0) {
                $prevEl.on('click', function (e) {
                    e.preventDefault();
                    if (swiper.isBeginning && !swiper.params.loop) {
                        return;
                    }
                    swiper.slidePrev();
                });
            }
            Utils.extend(swiper.navigation, {
                $nextEl: $nextEl,
                nextEl: $nextEl && $nextEl[0],
                $prevEl: $prevEl,
                prevEl: $prevEl && $prevEl[0],
            });
        }, destroy: function destroy() {
            var swiper = this;
            var ref = swiper.navigation;
            var $nextEl = ref.$nextEl;
            var $prevEl = ref.$prevEl;
            if ($nextEl && $nextEl.length) {
                $nextEl.off('click');
                $nextEl.removeClass(swiper.params.navigation.disabledClass);
            }
            if ($prevEl && $prevEl.length) {
                $prevEl.off('click');
                $prevEl.removeClass(swiper.params.navigation.disabledClass);
            }
        },
    };
    var Navigation$1 = {
        name: 'navigation',
        params: {
            navigation: {
                nextEl: null,
                prevEl: null,
                hideOnClick: false,
                disabledClass: 'swiper-button-disabled',
                hiddenClass: 'swiper-button-hidden',
                lockClass: 'swiper-button-lock',
            },
        },
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                navigation: {
                    init: Navigation.init.bind(swiper),
                    update: Navigation.update.bind(swiper),
                    destroy: Navigation.destroy.bind(swiper),
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                swiper.navigation.init();
                swiper.navigation.update();
            }, toEdge: function toEdge() {
                var swiper = this;
                swiper.navigation.update();
            }, fromEdge: function fromEdge() {
                var swiper = this;
                swiper.navigation.update();
            }, destroy: function destroy() {
                var swiper = this;
                swiper.navigation.destroy();
            }, click: function click(e) {
                var swiper = this;
                var ref = swiper.navigation;
                var $nextEl = ref.$nextEl;
                var $prevEl = ref.$prevEl;
                if (swiper.params.navigation.hideOnClick && !$$1(e.target).is($prevEl) && !$$1(e.target).is($nextEl)) {
                    if ($nextEl) {
                        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);
                    }
                    if ($prevEl) {
                        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);
                    }
                }
            },
        },
    };
    var Pagination = {
        update: function update() {
            var swiper = this;
            var rtl = swiper.rtl;
            var params = swiper.params.pagination;
            if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) {
                return;
            }
            var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
            var $el = swiper.pagination.$el;
            var current;
            var total = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;
            if (swiper.params.loop) {
                current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);
                if (current > slidesLength - 1 - (swiper.loopedSlides * 2)) {
                    current -= (slidesLength - (swiper.loopedSlides * 2));
                }
                if (current > total - 1) {
                    current -= total;
                }
                if (current < 0 && swiper.params.paginationType !== 'bullets') {
                    current = total + current;
                }
            } else if (typeof swiper.snapIndex !== 'undefined') {
                current = swiper.snapIndex;
            } else {
                current = swiper.activeIndex || 0;
            }
            if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {
                var bullets = swiper.pagination.bullets;
                var firstIndex;
                var lastIndex;
                var midIndex;
                if (params.dynamicBullets) {
                    swiper.pagination.bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);
                    $el.css(swiper.isHorizontal() ? 'width' : 'height', ((swiper.pagination.bulletSize * (params.dynamicMainBullets + 4)) + "px"));
                    if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {
                        if (current > swiper.previousIndex && swiper.pagination.dynamicBulletIndex < (params.dynamicMainBullets - 1)) {
                            swiper.pagination.dynamicBulletIndex += 1;
                        } else if (current < swiper.previousIndex && swiper.pagination.dynamicBulletIndex > 0) {
                            swiper.pagination.dynamicBulletIndex -= 1;
                        }
                    }
                    firstIndex = current - swiper.pagination.dynamicBulletIndex;
                    lastIndex = firstIndex + (params.dynamicMainBullets - 1);
                    midIndex = (lastIndex + firstIndex) / 2;
                }
                bullets.removeClass(((params.bulletActiveClass) + " " + (params.bulletActiveClass) + "-next " + (params.bulletActiveClass) + "-next-next " + (params.bulletActiveClass) + "-prev " + (params.bulletActiveClass) + "-prev-prev " + (params.bulletActiveClass) + "-main"));
                if ($el.length > 1) {
                    bullets.each(function (index, bullet) {
                        var $bullet = $$1(bullet);
                        var bulletIndex = $bullet.index();
                        if (bulletIndex === current) {
                            $bullet.addClass(params.bulletActiveClass);
                        }
                        if (params.dynamicBullets) {
                            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {
                                $bullet.addClass(((params.bulletActiveClass) + "-main"));
                            }
                            if (bulletIndex === firstIndex) {
                                $bullet.prev().addClass(((params.bulletActiveClass) + "-prev")).prev().addClass(((params.bulletActiveClass) + "-prev-prev"));
                            }
                            if (bulletIndex === lastIndex) {
                                $bullet.next().addClass(((params.bulletActiveClass) + "-next")).next().addClass(((params.bulletActiveClass) + "-next-next"));
                            }
                        }
                    });
                } else {
                    var $bullet = bullets.eq(current);
                    $bullet.addClass(params.bulletActiveClass);
                    if (params.dynamicBullets) {
                        var $firstDisplayedBullet = bullets.eq(firstIndex);
                        var $lastDisplayedBullet = bullets.eq(lastIndex);
                        for (var i = firstIndex; i <= lastIndex; i += 1) {
                            bullets.eq(i).addClass(((params.bulletActiveClass) + "-main"));
                        }
                        $firstDisplayedBullet.prev().addClass(((params.bulletActiveClass) + "-prev")).prev().addClass(((params.bulletActiveClass) + "-prev-prev"));
                        $lastDisplayedBullet.next().addClass(((params.bulletActiveClass) + "-next")).next().addClass(((params.bulletActiveClass) + "-next-next"));
                    }
                }
                if (params.dynamicBullets) {
                    var dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);
                    var bulletsOffset = (((swiper.pagination.bulletSize * dynamicBulletsLength) - (swiper.pagination.bulletSize)) / 2) - (midIndex * swiper.pagination.bulletSize);
                    var offsetProp = rtl ? 'right' : 'left';
                    bullets.css(swiper.isHorizontal() ? offsetProp : 'top', (bulletsOffset + "px"));
                }
            }
            if (params.type === 'fraction') {
                $el.find(("." + (params.currentClass))).text(current + 1);
                $el.find(("." + (params.totalClass))).text(total);
            }
            if (params.type === 'progressbar') {
                var scale = (current + 1) / total;
                var scaleX = scale;
                var scaleY = 1;
                if (!swiper.isHorizontal()) {
                    scaleY = scale;
                    scaleX = 1;
                }
                $el.find(("." + (params.progressbarFillClass))).transform(("translate3d(0,0,0) scaleX(" + scaleX + ") scaleY(" + scaleY + ")")).transition(swiper.params.speed);
            }
            if (params.type === 'custom' && params.renderCustom) {
                $el.html(params.renderCustom(swiper, current + 1, total));
                swiper.emit('paginationRender', swiper, $el[0]);
            } else {
                swiper.emit('paginationUpdate', swiper, $el[0]);
            }
            $el[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);
        }, render: function render() {
            var swiper = this;
            var params = swiper.params.pagination;
            if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) {
                return;
            }
            var slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;
            var $el = swiper.pagination.$el;
            var paginationHTML = '';
            if (params.type === 'bullets') {
                var numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - (swiper.loopedSlides * 2)) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;
                for (var i = 0; i < numberOfBullets; i += 1) {
                    if (params.renderBullet) {
                        paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);
                    } else {
                        paginationHTML += "<" + (params.bulletElement) + " class=\"" + (params.bulletClass) + "\"></" + (params.bulletElement) + ">";
                    }
                }
                $el.html(paginationHTML);
                swiper.pagination.bullets = $el.find(("." + (params.bulletClass)));
            }
            if (params.type === 'fraction') {
                if (params.renderFraction) {
                    paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);
                } else {
                    paginationHTML = "<span class=\"" + (params.currentClass) + "\"></span>" + ' / ' + "<span class=\"" + (params.totalClass) + "\"></span>";
                }
                $el.html(paginationHTML);
            }
            if (params.type === 'progressbar') {
                if (params.renderProgressbar) {
                    paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);
                } else {
                    paginationHTML = "<span class=\"" + (params.progressbarFillClass) + "\"></span>";
                }
                $el.html(paginationHTML);
            }
            if (params.type !== 'custom') {
                swiper.emit('paginationRender', swiper.pagination.$el[0]);
            }
        }, init: function init() {
            var swiper = this;
            var params = swiper.params.pagination;
            if (!params.el) {
                return;
            }
            var $el = $$1(params.el);
            if ($el.length === 0) {
                return;
            }
            if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && swiper.$el.find(params.el).length === 1) {
                $el = swiper.$el.find(params.el);
            }
            if (params.type === 'bullets' && params.clickable) {
                $el.addClass(params.clickableClass);
            }
            $el.addClass(params.modifierClass + params.type);
            if (params.type === 'bullets' && params.dynamicBullets) {
                $el.addClass(("" + (params.modifierClass) + (params.type) + "-dynamic"));
                swiper.pagination.dynamicBulletIndex = 0;
                if (params.dynamicMainBullets < 1) {
                    params.dynamicMainBullets = 1;
                }
            }
            if (params.clickable) {
                $el.on('click', ("." + (params.bulletClass)), function onClick(e) {
                    e.preventDefault();
                    var index = $$1(this).index() * swiper.params.slidesPerGroup;
                    if (swiper.params.loop) {
                        index += swiper.loopedSlides;
                    }
                    swiper.slideTo(index);
                });
            }
            Utils.extend(swiper.pagination, {$el: $el, el: $el[0],});
        }, destroy: function destroy() {
            var swiper = this;
            var params = swiper.params.pagination;
            if (!params.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0) {
                return;
            }
            var $el = swiper.pagination.$el;
            $el.removeClass(params.hiddenClass);
            $el.removeClass(params.modifierClass + params.type);
            if (swiper.pagination.bullets) {
                swiper.pagination.bullets.removeClass(params.bulletActiveClass);
            }
            if (params.clickable) {
                $el.off('click', ("." + (params.bulletClass)));
            }
        },
    };
    var Pagination$1 = {
        name: 'pagination',
        params: {
            pagination: {
                el: null,
                bulletElement: 'span',
                clickable: false,
                hideOnClick: false,
                renderBullet: null,
                renderProgressbar: null,
                renderFraction: null,
                renderCustom: null,
                type: 'bullets',
                dynamicBullets: false,
                dynamicMainBullets: 1,
                bulletClass: 'swiper-pagination-bullet',
                bulletActiveClass: 'swiper-pagination-bullet-active',
                modifierClass: 'swiper-pagination-',
                currentClass: 'swiper-pagination-current',
                totalClass: 'swiper-pagination-total',
                hiddenClass: 'swiper-pagination-hidden',
                progressbarFillClass: 'swiper-pagination-progressbar-fill',
                clickableClass: 'swiper-pagination-clickable',
                lockClass: 'swiper-pagination-lock',
            },
        },
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                pagination: {
                    init: Pagination.init.bind(swiper),
                    render: Pagination.render.bind(swiper),
                    update: Pagination.update.bind(swiper),
                    destroy: Pagination.destroy.bind(swiper),
                    dynamicBulletIndex: 0,
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                swiper.pagination.init();
                swiper.pagination.render();
                swiper.pagination.update();
            }, activeIndexChange: function activeIndexChange() {
                var swiper = this;
                if (swiper.params.loop) {
                    swiper.pagination.update();
                } else if (typeof swiper.snapIndex === 'undefined') {
                    swiper.pagination.update();
                }
            }, snapIndexChange: function snapIndexChange() {
                var swiper = this;
                if (!swiper.params.loop) {
                    swiper.pagination.update();
                }
            }, slidesLengthChange: function slidesLengthChange() {
                var swiper = this;
                if (swiper.params.loop) {
                    swiper.pagination.render();
                    swiper.pagination.update();
                }
            }, snapGridLengthChange: function snapGridLengthChange() {
                var swiper = this;
                if (!swiper.params.loop) {
                    swiper.pagination.render();
                    swiper.pagination.update();
                }
            }, destroy: function destroy() {
                var swiper = this;
                swiper.pagination.destroy();
            }, click: function click(e) {
                var swiper = this;
                if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && swiper.pagination.$el.length > 0 && !$$1(e.target).hasClass(swiper.params.pagination.bulletClass)) {
                    swiper.pagination.$el.toggleClass(swiper.params.pagination.hiddenClass);
                }
            },
        },
    };
    var Scrollbar = {
        setTranslate: function setTranslate() {
            var swiper = this;
            if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) {
                return;
            }
            var scrollbar = swiper.scrollbar;
            var rtl = swiper.rtl;
            var progress = swiper.progress;
            var dragSize = scrollbar.dragSize;
            var trackSize = scrollbar.trackSize;
            var $dragEl = scrollbar.$dragEl;
            var $el = scrollbar.$el;
            var params = swiper.params.scrollbar;
            var newSize = dragSize;
            var newPos = (trackSize - dragSize) * progress;
            if (rtl && swiper.isHorizontal()) {
                newPos = -newPos;
                if (newPos > 0) {
                    newSize = dragSize - newPos;
                    newPos = 0;
                } else if (-newPos + dragSize > trackSize) {
                    newSize = trackSize + newPos;
                }
            } else if (newPos < 0) {
                newSize = dragSize + newPos;
                newPos = 0;
            } else if (newPos + dragSize > trackSize) {
                newSize = trackSize - newPos;
            }
            if (swiper.isHorizontal()) {
                if (Support.transforms3d) {
                    $dragEl.transform(("translate3d(" + newPos + "px, 0, 0)"));
                } else {
                    $dragEl.transform(("translateX(" + newPos + "px)"));
                }
                $dragEl[0].style.width = newSize + "px";
            } else {
                if (Support.transforms3d) {
                    $dragEl.transform(("translate3d(0px, " + newPos + "px, 0)"));
                } else {
                    $dragEl.transform(("translateY(" + newPos + "px)"));
                }
                $dragEl[0].style.height = newSize + "px";
            }
            if (params.hide) {
                clearTimeout(swiper.scrollbar.timeout);
                $el[0].style.opacity = 1;
                swiper.scrollbar.timeout = setTimeout(function () {
                    $el[0].style.opacity = 0;
                    $el.transition(400);
                }, 1000);
            }
        }, setTransition: function setTransition(duration) {
            var swiper = this;
            if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) {
                return;
            }
            swiper.scrollbar.$dragEl.transition(duration);
        }, updateSize: function updateSize() {
            var swiper = this;
            if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) {
                return;
            }
            var scrollbar = swiper.scrollbar;
            var $dragEl = scrollbar.$dragEl;
            var $el = scrollbar.$el;
            $dragEl[0].style.width = '';
            $dragEl[0].style.height = '';
            var trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;
            var divider = swiper.size / swiper.virtualSize;
            var moveDivider = divider * (trackSize / swiper.size);
            var dragSize;
            if (swiper.params.scrollbar.dragSize === 'auto') {
                dragSize = trackSize * divider;
            } else {
                dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);
            }
            if (swiper.isHorizontal()) {
                $dragEl[0].style.width = dragSize + "px";
            } else {
                $dragEl[0].style.height = dragSize + "px";
            }
            if (divider >= 1) {
                $el[0].style.display = 'none';
            } else {
                $el[0].style.display = '';
            }
            if (swiper.params.scrollbarHide) {
                $el[0].style.opacity = 0;
            }
            Utils.extend(scrollbar, {
                trackSize: trackSize,
                divider: divider,
                moveDivider: moveDivider,
                dragSize: dragSize,
            });
            scrollbar.$el[swiper.params.watchOverflow && swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);
        }, setDragPosition: function setDragPosition(e) {
            var swiper = this;
            var scrollbar = swiper.scrollbar;
            var $el = scrollbar.$el;
            var dragSize = scrollbar.dragSize;
            var trackSize = scrollbar.trackSize;
            var pointerPosition;
            if (swiper.isHorizontal()) {
                pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX);
            } else {
                pointerPosition = ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY);
            }
            var positionRatio;
            positionRatio = ((pointerPosition) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragSize / 2)) / (trackSize - dragSize);
            positionRatio = Math.max(Math.min(positionRatio, 1), 0);
            if (swiper.rtl) {
                positionRatio = 1 - positionRatio;
            }
            var position = swiper.minTranslate() + ((swiper.maxTranslate() - swiper.minTranslate()) * positionRatio);
            swiper.updateProgress(position);
            swiper.setTranslate(position);
            swiper.updateActiveIndex();
            swiper.updateSlidesClasses();
        }, onDragStart: function onDragStart(e) {
            var swiper = this;
            var params = swiper.params.scrollbar;
            var scrollbar = swiper.scrollbar;
            var $wrapperEl = swiper.$wrapperEl;
            var $el = scrollbar.$el;
            var $dragEl = scrollbar.$dragEl;
            swiper.scrollbar.isTouched = true;
            e.preventDefault();
            e.stopPropagation();
            $wrapperEl.transition(100);
            $dragEl.transition(100);
            scrollbar.setDragPosition(e);
            clearTimeout(swiper.scrollbar.dragTimeout);
            $el.transition(0);
            if (params.hide) {
                $el.css('opacity', 1);
            }
            swiper.emit('scrollbarDragStart', e);
        }, onDragMove: function onDragMove(e) {
            var swiper = this;
            var scrollbar = swiper.scrollbar;
            var $wrapperEl = swiper.$wrapperEl;
            var $el = scrollbar.$el;
            var $dragEl = scrollbar.$dragEl;
            if (!swiper.scrollbar.isTouched) {
                return;
            }
            if (e.preventDefault) {
                e.preventDefault();
            } else {
                e.returnValue = false;
            }
            scrollbar.setDragPosition(e);
            $wrapperEl.transition(0);
            $el.transition(0);
            $dragEl.transition(0);
            swiper.emit('scrollbarDragMove', e);
        }, onDragEnd: function onDragEnd(e) {
            var swiper = this;
            var params = swiper.params.scrollbar;
            var scrollbar = swiper.scrollbar;
            var $el = scrollbar.$el;
            if (!swiper.scrollbar.isTouched) {
                return;
            }
            swiper.scrollbar.isTouched = false;
            if (params.hide) {
                clearTimeout(swiper.scrollbar.dragTimeout);
                swiper.scrollbar.dragTimeout = Utils.nextTick(function () {
                    $el.css('opacity', 0);
                    $el.transition(400);
                }, 1000);
            }
            swiper.emit('scrollbarDragEnd', e);
            if (params.snapOnRelease) {
                swiper.slideReset();
            }
        }, enableDraggable: function enableDraggable() {
            var swiper = this;
            if (!swiper.params.scrollbar.el) {
                return;
            }
            var scrollbar = swiper.scrollbar;
            var touchEvents = swiper.touchEvents;
            var touchEventsDesktop = swiper.touchEventsDesktop;
            var params = swiper.params;
            var $el = scrollbar.$el;
            var target = $el[0];
            var activeListener = Support.passiveListener && params.passiveListener ? {
                passive: false,
                capture: false
            } : false;
            var passiveListener = Support.passiveListener && params.passiveListener ? {
                passive: true,
                capture: false
            } : false;
            if (!Support.touch && (Support.pointerEvents || Support.prefixedPointerEvents)) {
                target.addEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);
                doc.addEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);
                doc.addEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);
            } else {
                if (Support.touch) {
                    target.addEventListener(touchEvents.start, swiper.scrollbar.onDragStart, activeListener);
                    target.addEventListener(touchEvents.move, swiper.scrollbar.onDragMove, activeListener);
                    target.addEventListener(touchEvents.end, swiper.scrollbar.onDragEnd, passiveListener);
                }
                if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {
                    target.addEventListener('mousedown', swiper.scrollbar.onDragStart, activeListener);
                    doc.addEventListener('mousemove', swiper.scrollbar.onDragMove, activeListener);
                    doc.addEventListener('mouseup', swiper.scrollbar.onDragEnd, passiveListener);
                }
            }
        }, disableDraggable: function disableDraggable() {
            var swiper = this;
            if (!swiper.params.scrollbar.el) {
                return;
            }
            var scrollbar = swiper.scrollbar;
            var touchEvents = swiper.touchEvents;
            var touchEventsDesktop = swiper.touchEventsDesktop;
            var params = swiper.params;
            var $el = scrollbar.$el;
            var target = $el[0];
            var activeListener = Support.passiveListener && params.passiveListener ? {
                passive: false,
                capture: false
            } : false;
            var passiveListener = Support.passiveListener && params.passiveListener ? {
                passive: true,
                capture: false
            } : false;
            if (!Support.touch && (Support.pointerEvents || Support.prefixedPointerEvents)) {
                target.removeEventListener(touchEventsDesktop.start, swiper.scrollbar.onDragStart, activeListener);
                doc.removeEventListener(touchEventsDesktop.move, swiper.scrollbar.onDragMove, activeListener);
                doc.removeEventListener(touchEventsDesktop.end, swiper.scrollbar.onDragEnd, passiveListener);
            } else {
                if (Support.touch) {
                    target.removeEventListener(touchEvents.start, swiper.scrollbar.onDragStart, activeListener);
                    target.removeEventListener(touchEvents.move, swiper.scrollbar.onDragMove, activeListener);
                    target.removeEventListener(touchEvents.end, swiper.scrollbar.onDragEnd, passiveListener);
                }
                if ((params.simulateTouch && !Device.ios && !Device.android) || (params.simulateTouch && !Support.touch && Device.ios)) {
                    target.removeEventListener('mousedown', swiper.scrollbar.onDragStart, activeListener);
                    doc.removeEventListener('mousemove', swiper.scrollbar.onDragMove, activeListener);
                    doc.removeEventListener('mouseup', swiper.scrollbar.onDragEnd, passiveListener);
                }
            }
        }, init: function init() {
            var swiper = this;
            if (!swiper.params.scrollbar.el) {
                return;
            }
            var scrollbar = swiper.scrollbar;
            var $swiperEl = swiper.$el;
            var params = swiper.params.scrollbar;
            var $el = $$1(params.el);
            if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {
                $el = $swiperEl.find(params.el);
            }
            var $dragEl = $el.find(("." + (swiper.params.scrollbar.dragClass)));
            if ($dragEl.length === 0) {
                $dragEl = $$1(("<div class=\"" + (swiper.params.scrollbar.dragClass) + "\"></div>"));
                $el.append($dragEl);
            }
            Utils.extend(scrollbar, {$el: $el, el: $el[0], $dragEl: $dragEl, dragEl: $dragEl[0],});
            if (params.draggable) {
                scrollbar.enableDraggable();
            }
        }, destroy: function destroy() {
            var swiper = this;
            swiper.scrollbar.disableDraggable();
        },
    };
    var Scrollbar$1 = {
        name: 'scrollbar',
        params: {
            scrollbar: {
                el: null,
                dragSize: 'auto',
                hide: false,
                draggable: false,
                snapOnRelease: true,
                lockClass: 'swiper-scrollbar-lock',
                dragClass: 'swiper-scrollbar-drag',
            },
        },
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                scrollbar: {
                    init: Scrollbar.init.bind(swiper),
                    destroy: Scrollbar.destroy.bind(swiper),
                    updateSize: Scrollbar.updateSize.bind(swiper),
                    setTranslate: Scrollbar.setTranslate.bind(swiper),
                    setTransition: Scrollbar.setTransition.bind(swiper),
                    enableDraggable: Scrollbar.enableDraggable.bind(swiper),
                    disableDraggable: Scrollbar.disableDraggable.bind(swiper),
                    setDragPosition: Scrollbar.setDragPosition.bind(swiper),
                    onDragStart: Scrollbar.onDragStart.bind(swiper),
                    onDragMove: Scrollbar.onDragMove.bind(swiper),
                    onDragEnd: Scrollbar.onDragEnd.bind(swiper),
                    isTouched: false,
                    timeout: null,
                    dragTimeout: null,
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                swiper.scrollbar.init();
                swiper.scrollbar.updateSize();
                swiper.scrollbar.setTranslate();
            }, update: function update() {
                var swiper = this;
                swiper.scrollbar.updateSize();
            }, resize: function resize() {
                var swiper = this;
                swiper.scrollbar.updateSize();
            }, observerUpdate: function observerUpdate() {
                var swiper = this;
                swiper.scrollbar.updateSize();
            }, setTranslate: function setTranslate() {
                var swiper = this;
                swiper.scrollbar.setTranslate();
            }, setTransition: function setTransition(duration) {
                var swiper = this;
                swiper.scrollbar.setTransition(duration);
            }, destroy: function destroy() {
                var swiper = this;
                swiper.scrollbar.destroy();
            },
        },
    };
    var Parallax = {
        setTransform: function setTransform(el, progress) {
            var swiper = this;
            var rtl = swiper.rtl;
            var $el = $$1(el);
            var rtlFactor = rtl ? -1 : 1;
            var p = $el.attr('data-swiper-parallax') || '0';
            var x = $el.attr('data-swiper-parallax-x');
            var y = $el.attr('data-swiper-parallax-y');
            var scale = $el.attr('data-swiper-parallax-scale');
            var opacity = $el.attr('data-swiper-parallax-opacity');
            if (x || y) {
                x = x || '0';
                y = y || '0';
            } else if (swiper.isHorizontal()) {
                x = p;
                y = '0';
            } else {
                y = p;
                x = '0';
            }
            if ((x).indexOf('%') >= 0) {
                x = (parseInt(x, 10) * progress * rtlFactor) + "%";
            } else {
                x = (x * progress * rtlFactor) + "px";
            }
            if ((y).indexOf('%') >= 0) {
                y = (parseInt(y, 10) * progress) + "%";
            } else {
                y = (y * progress) + "px";
            }
            if (typeof opacity !== 'undefined' && opacity !== null) {
                var currentOpacity = opacity - ((opacity - 1) * (1 - Math.abs(progress)));
                $el[0].style.opacity = currentOpacity;
            }
            if (typeof scale === 'undefined' || scale === null) {
                $el.transform(("translate3d(" + x + ", " + y + ", 0px)"));
            } else {
                var currentScale = scale - ((scale - 1) * (1 - Math.abs(progress)));
                $el.transform(("translate3d(" + x + ", " + y + ", 0px) scale(" + currentScale + ")"));
            }
        }, setTranslate: function setTranslate() {
            var swiper = this;
            var $el = swiper.$el;
            var slides = swiper.slides;
            var progress = swiper.progress;
            var snapGrid = swiper.snapGrid;
            $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function (index, el) {
                swiper.parallax.setTransform(el, progress);
            });
            slides.each(function (slideIndex, slideEl) {
                var slideProgress = slideEl.progress;
                if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {
                    slideProgress += Math.ceil(slideIndex / 2) - (progress * (snapGrid.length - 1));
                }
                slideProgress = Math.min(Math.max(slideProgress, -1), 1);
                $$1(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function (index, el) {
                    swiper.parallax.setTransform(el, slideProgress);
                });
            });
        }, setTransition: function setTransition(duration) {
            if (duration === void 0) duration = this.params.speed;
            var swiper = this;
            var $el = swiper.$el;
            $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function (index, parallaxEl) {
                var $parallaxEl = $$1(parallaxEl);
                var parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;
                if (duration === 0) {
                    parallaxDuration = 0;
                }
                $parallaxEl.transition(parallaxDuration);
            });
        },
    };
    var Parallax$1 = {
        name: 'parallax', params: {parallax: {enabled: false,},}, create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                parallax: {
                    setTransform: Parallax.setTransform.bind(swiper),
                    setTranslate: Parallax.setTranslate.bind(swiper),
                    setTransition: Parallax.setTransition.bind(swiper),
                },
            });
        }, on: {
            beforeInit: function beforeInit() {
                var swiper = this;
                if (!swiper.params.parallax.enabled) {
                    return;
                }
                swiper.params.watchSlidesProgress = true;
            }, init: function init() {
                var swiper = this;
                if (!swiper.params.parallax) {
                    return;
                }
                swiper.parallax.setTranslate();
            }, setTranslate: function setTranslate() {
                var swiper = this;
                if (!swiper.params.parallax) {
                    return;
                }
                swiper.parallax.setTranslate();
            }, setTransition: function setTransition(duration) {
                var swiper = this;
                if (!swiper.params.parallax) {
                    return;
                }
                swiper.parallax.setTransition(duration);
            },
        },
    };
    var Zoom = {
        getDistanceBetweenTouches: function getDistanceBetweenTouches(e) {
            if (e.targetTouches.length < 2) {
                return 1;
            }
            var x1 = e.targetTouches[0].pageX;
            var y1 = e.targetTouches[0].pageY;
            var x2 = e.targetTouches[1].pageX;
            var y2 = e.targetTouches[1].pageY;
            var distance = Math.sqrt((Math.pow((x2 - x1), 2)) + (Math.pow((y2 - y1), 2)));
            return distance;
        }, onGestureStart: function onGestureStart(e) {
            var swiper = this;
            var params = swiper.params.zoom;
            var zoom = swiper.zoom;
            var gesture = zoom.gesture;
            zoom.fakeGestureTouched = false;
            zoom.fakeGestureMoved = false;
            if (!Support.gestures) {
                if (e.type !== 'touchstart' || (e.type === 'touchstart' && e.targetTouches.length < 2)) {
                    return;
                }
                zoom.fakeGestureTouched = true;
                gesture.scaleStart = Zoom.getDistanceBetweenTouches(e);
            }
            if (!gesture.$slideEl || !gesture.$slideEl.length) {
                gesture.$slideEl = $$1(e.target).closest('.swiper-slide');
                if (gesture.$slideEl.length === 0) {
                    gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);
                }
                gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');
                gesture.$imageWrapEl = gesture.$imageEl.parent(("." + (params.containerClass)));
                gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;
                if (gesture.$imageWrapEl.length === 0) {
                    gesture.$imageEl = undefined;
                    return;
                }
            }
            gesture.$imageEl.transition(0);
            swiper.zoom.isScaling = true;
        }, onGestureChange: function onGestureChange(e) {
            var swiper = this;
            var params = swiper.params.zoom;
            var zoom = swiper.zoom;
            var gesture = zoom.gesture;
            if (!Support.gestures) {
                if (e.type !== 'touchmove' || (e.type === 'touchmove' && e.targetTouches.length < 2)) {
                    return;
                }
                zoom.fakeGestureMoved = true;
                gesture.scaleMove = Zoom.getDistanceBetweenTouches(e);
            }
            if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
                return;
            }
            if (Support.gestures) {
                swiper.zoom.scale = e.scale * zoom.currentScale;
            } else {
                zoom.scale = (gesture.scaleMove / gesture.scaleStart) * zoom.currentScale;
            }
            if (zoom.scale > gesture.maxRatio) {
                zoom.scale = (gesture.maxRatio - 1) + (Math.pow(((zoom.scale - gesture.maxRatio) + 1), 0.5));
            }
            if (zoom.scale < params.minRatio) {
                zoom.scale = (params.minRatio + 1) - (Math.pow(((params.minRatio - zoom.scale) + 1), 0.5));
            }
            gesture.$imageEl.transform(("translate3d(0,0,0) scale(" + (zoom.scale) + ")"));
        }, onGestureEnd: function onGestureEnd(e) {
            var swiper = this;
            var params = swiper.params.zoom;
            var zoom = swiper.zoom;
            var gesture = zoom.gesture;
            if (!Support.gestures) {
                if (!zoom.fakeGestureTouched || !zoom.fakeGestureMoved) {
                    return;
                }
                if (e.type !== 'touchend' || (e.type === 'touchend' && e.changedTouches.length < 2 && !Device.android)) {
                    return;
                }
                zoom.fakeGestureTouched = false;
                zoom.fakeGestureMoved = false;
            }
            if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
                return;
            }
            zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);
            gesture.$imageEl.transition(swiper.params.speed).transform(("translate3d(0,0,0) scale(" + (zoom.scale) + ")"));
            zoom.currentScale = zoom.scale;
            zoom.isScaling = false;
            if (zoom.scale === 1) {
                gesture.$slideEl = undefined;
            }
        }, onTouchStart: function onTouchStart(e) {
            var swiper = this;
            var zoom = swiper.zoom;
            var gesture = zoom.gesture;
            var image = zoom.image;
            if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
                return;
            }
            if (image.isTouched) {
                return;
            }
            if (Device.android) {
                e.preventDefault();
            }
            image.isTouched = true;
            image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
            image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;
        }, onTouchMove: function onTouchMove(e) {
            var swiper = this;
            var zoom = swiper.zoom;
            var gesture = zoom.gesture;
            var image = zoom.image;
            var velocity = zoom.velocity;
            if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
                return;
            }
            swiper.allowClick = false;
            if (!image.isTouched || !gesture.$slideEl) {
                return;
            }
            if (!image.isMoved) {
                image.width = gesture.$imageEl[0].offsetWidth;
                image.height = gesture.$imageEl[0].offsetHeight;
                image.startX = Utils.getTranslate(gesture.$imageWrapEl[0], 'x') || 0;
                image.startY = Utils.getTranslate(gesture.$imageWrapEl[0], 'y') || 0;
                gesture.slideWidth = gesture.$slideEl[0].offsetWidth;
                gesture.slideHeight = gesture.$slideEl[0].offsetHeight;
                gesture.$imageWrapEl.transition(0);
                if (swiper.rtl) {
                    image.startX = -image.startX;
                }
                if (swiper.rtl) {
                    image.startY = -image.startY;
                }
            }
            var scaledWidth = image.width * zoom.scale;
            var scaledHeight = image.height * zoom.scale;
            if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) {
                return;
            }
            image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);
            image.maxX = -image.minX;
            image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);
            image.maxY = -image.minY;
            image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
            image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;
            if (!image.isMoved && !zoom.isScaling) {
                if (swiper.isHorizontal() && ((Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x) || (Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x))) {
                    image.isTouched = false;
                    return;
                } else if (!swiper.isHorizontal() && ((Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y) || (Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y))) {
                    image.isTouched = false;
                    return;
                }
            }
            e.preventDefault();
            e.stopPropagation();
            image.isMoved = true;
            image.currentX = (image.touchesCurrent.x - image.touchesStart.x) + image.startX;
            image.currentY = (image.touchesCurrent.y - image.touchesStart.y) + image.startY;
            if (image.currentX < image.minX) {
                image.currentX = (image.minX + 1) - (Math.pow(((image.minX - image.currentX) + 1), 0.8));
            }
            if (image.currentX > image.maxX) {
                image.currentX = (image.maxX - 1) + (Math.pow(((image.currentX - image.maxX) + 1), 0.8));
            }
            if (image.currentY < image.minY) {
                image.currentY = (image.minY + 1) - (Math.pow(((image.minY - image.currentY) + 1), 0.8));
            }
            if (image.currentY > image.maxY) {
                image.currentY = (image.maxY - 1) + (Math.pow(((image.currentY - image.maxY) + 1), 0.8));
            }
            if (!velocity.prevPositionX) {
                velocity.prevPositionX = image.touchesCurrent.x;
            }
            if (!velocity.prevPositionY) {
                velocity.prevPositionY = image.touchesCurrent.y;
            }
            if (!velocity.prevTime) {
                velocity.prevTime = Date.now();
            }
            velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;
            velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;
            if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) {
                velocity.x = 0;
            }
            if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) {
                velocity.y = 0;
            }
            velocity.prevPositionX = image.touchesCurrent.x;
            velocity.prevPositionY = image.touchesCurrent.y;
            velocity.prevTime = Date.now();
            gesture.$imageWrapEl.transform(("translate3d(" + (image.currentX) + "px, " + (image.currentY) + "px,0)"));
        }, onTouchEnd: function onTouchEnd() {
            var swiper = this;
            var zoom = swiper.zoom;
            var gesture = zoom.gesture;
            var image = zoom.image;
            var velocity = zoom.velocity;
            if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
                return;
            }
            if (!image.isTouched || !image.isMoved) {
                image.isTouched = false;
                image.isMoved = false;
                return;
            }
            image.isTouched = false;
            image.isMoved = false;
            var momentumDurationX = 300;
            var momentumDurationY = 300;
            var momentumDistanceX = velocity.x * momentumDurationX;
            var newPositionX = image.currentX + momentumDistanceX;
            var momentumDistanceY = velocity.y * momentumDurationY;
            var newPositionY = image.currentY + momentumDistanceY;
            if (velocity.x !== 0) {
                momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);
            }
            if (velocity.y !== 0) {
                momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);
            }
            var momentumDuration = Math.max(momentumDurationX, momentumDurationY);
            image.currentX = newPositionX;
            image.currentY = newPositionY;
            var scaledWidth = image.width * zoom.scale;
            var scaledHeight = image.height * zoom.scale;
            image.minX = Math.min(((gesture.slideWidth / 2) - (scaledWidth / 2)), 0);
            image.maxX = -image.minX;
            image.minY = Math.min(((gesture.slideHeight / 2) - (scaledHeight / 2)), 0);
            image.maxY = -image.minY;
            image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);
            image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);
            gesture.$imageWrapEl.transition(momentumDuration).transform(("translate3d(" + (image.currentX) + "px, " + (image.currentY) + "px,0)"));
        }, onTransitionEnd: function onTransitionEnd() {
            var swiper = this;
            var zoom = swiper.zoom;
            var gesture = zoom.gesture;
            if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {
                gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');
                gesture.$imageWrapEl.transform('translate3d(0,0,0)');
                gesture.$slideEl = undefined;
                gesture.$imageEl = undefined;
                gesture.$imageWrapEl = undefined;
                zoom.scale = 1;
                zoom.currentScale = 1;
            }
        }, toggle: function toggle(e) {
            var swiper = this;
            var zoom = swiper.zoom;
            if (zoom.scale && zoom.scale !== 1) {
                zoom.out();
            } else {
                zoom.in(e);
            }
        }, in: function in$1(e) {
            var swiper = this;
            var zoom = swiper.zoom;
            var params = swiper.params.zoom;
            var gesture = zoom.gesture;
            var image = zoom.image;
            if (!gesture.$slideEl) {
                gesture.$slideEl = swiper.clickedSlide ? $$1(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);
                gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');
                gesture.$imageWrapEl = gesture.$imageEl.parent(("." + (params.containerClass)));
            }
            if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
                return;
            }
            gesture.$slideEl.addClass(("" + (params.zoomedSlideClass)));
            var touchX;
            var touchY;
            var offsetX;
            var offsetY;
            var diffX;
            var diffY;
            var translateX;
            var translateY;
            var imageWidth;
            var imageHeight;
            var scaledWidth;
            var scaledHeight;
            var translateMinX;
            var translateMinY;
            var translateMaxX;
            var translateMaxY;
            var slideWidth;
            var slideHeight;
            if (typeof image.touchesStart.x === 'undefined' && e) {
                touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;
                touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;
            } else {
                touchX = image.touchesStart.x;
                touchY = image.touchesStart.y;
            }
            zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;
            zoom.currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;
            if (e) {
                slideWidth = gesture.$slideEl[0].offsetWidth;
                slideHeight = gesture.$slideEl[0].offsetHeight;
                offsetX = gesture.$slideEl.offset().left;
                offsetY = gesture.$slideEl.offset().top;
                diffX = (offsetX + (slideWidth / 2)) - touchX;
                diffY = (offsetY + (slideHeight / 2)) - touchY;
                imageWidth = gesture.$imageEl[0].offsetWidth;
                imageHeight = gesture.$imageEl[0].offsetHeight;
                scaledWidth = imageWidth * zoom.scale;
                scaledHeight = imageHeight * zoom.scale;
                translateMinX = Math.min(((slideWidth / 2) - (scaledWidth / 2)), 0);
                translateMinY = Math.min(((slideHeight / 2) - (scaledHeight / 2)), 0);
                translateMaxX = -translateMinX;
                translateMaxY = -translateMinY;
                translateX = diffX * zoom.scale;
                translateY = diffY * zoom.scale;
                if (translateX < translateMinX) {
                    translateX = translateMinX;
                }
                if (translateX > translateMaxX) {
                    translateX = translateMaxX;
                }
                if (translateY < translateMinY) {
                    translateY = translateMinY;
                }
                if (translateY > translateMaxY) {
                    translateY = translateMaxY;
                }
            } else {
                translateX = 0;
                translateY = 0;
            }
            gesture.$imageWrapEl.transition(300).transform(("translate3d(" + translateX + "px, " + translateY + "px,0)"));
            gesture.$imageEl.transition(300).transform(("translate3d(0,0,0) scale(" + (zoom.scale) + ")"));
        }, out: function out() {
            var swiper = this;
            var zoom = swiper.zoom;
            var params = swiper.params.zoom;
            var gesture = zoom.gesture;
            if (!gesture.$slideEl) {
                gesture.$slideEl = swiper.clickedSlide ? $$1(swiper.clickedSlide) : swiper.slides.eq(swiper.activeIndex);
                gesture.$imageEl = gesture.$slideEl.find('img, svg, canvas');
                gesture.$imageWrapEl = gesture.$imageEl.parent(("." + (params.containerClass)));
            }
            if (!gesture.$imageEl || gesture.$imageEl.length === 0) {
                return;
            }
            zoom.scale = 1;
            zoom.currentScale = 1;
            gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');
            gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');
            gesture.$slideEl.removeClass(("" + (params.zoomedSlideClass)));
            gesture.$slideEl = undefined;
        }, enable: function enable() {
            var swiper = this;
            var zoom = swiper.zoom;
            if (zoom.enabled) {
                return;
            }
            zoom.enabled = true;
            var passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? {
                passive: true,
                capture: false
            } : false;
            if (Support.gestures) {
                swiper.$wrapperEl.on('gesturestart', '.swiper-slide', zoom.onGestureStart, passiveListener);
                swiper.$wrapperEl.on('gesturechange', '.swiper-slide', zoom.onGestureChange, passiveListener);
                swiper.$wrapperEl.on('gestureend', '.swiper-slide', zoom.onGestureEnd, passiveListener);
            } else if (swiper.touchEvents.start === 'touchstart') {
                swiper.$wrapperEl.on(swiper.touchEvents.start, '.swiper-slide', zoom.onGestureStart, passiveListener);
                swiper.$wrapperEl.on(swiper.touchEvents.move, '.swiper-slide', zoom.onGestureChange, passiveListener);
                swiper.$wrapperEl.on(swiper.touchEvents.end, '.swiper-slide', zoom.onGestureEnd, passiveListener);
            }
            swiper.$wrapperEl.on(swiper.touchEvents.move, ("." + (swiper.params.zoom.containerClass)), zoom.onTouchMove);
        }, disable: function disable() {
            var swiper = this;
            var zoom = swiper.zoom;
            if (!zoom.enabled) {
                return;
            }
            swiper.zoom.enabled = false;
            var passiveListener = swiper.touchEvents.start === 'touchstart' && Support.passiveListener && swiper.params.passiveListeners ? {
                passive: true,
                capture: false
            } : false;
            if (Support.gestures) {
                swiper.$wrapperEl.off('gesturestart', '.swiper-slide', zoom.onGestureStart, passiveListener);
                swiper.$wrapperEl.off('gesturechange', '.swiper-slide', zoom.onGestureChange, passiveListener);
                swiper.$wrapperEl.off('gestureend', '.swiper-slide', zoom.onGestureEnd, passiveListener);
            } else if (swiper.touchEvents.start === 'touchstart') {
                swiper.$wrapperEl.off(swiper.touchEvents.start, '.swiper-slide', zoom.onGestureStart, passiveListener);
                swiper.$wrapperEl.off(swiper.touchEvents.move, '.swiper-slide', zoom.onGestureChange, passiveListener);
                swiper.$wrapperEl.off(swiper.touchEvents.end, '.swiper-slide', zoom.onGestureEnd, passiveListener);
            }
            swiper.$wrapperEl.off(swiper.touchEvents.move, ("." + (swiper.params.zoom.containerClass)), zoom.onTouchMove);
        },
    };
    var Zoom$1 = {
        name: 'zoom',
        params: {
            zoom: {
                enabled: false,
                maxRatio: 3,
                minRatio: 1,
                toggle: true,
                containerClass: 'swiper-zoom-container',
                zoomedSlideClass: 'swiper-slide-zoomed',
            },
        },
        create: function create() {
            var swiper = this;
            var zoom = {
                enabled: false,
                scale: 1,
                currentScale: 1,
                isScaling: false,
                gesture: {
                    $slideEl: undefined,
                    slideWidth: undefined,
                    slideHeight: undefined,
                    $imageEl: undefined,
                    $imageWrapEl: undefined,
                    maxRatio: 3,
                },
                image: {
                    isTouched: undefined,
                    isMoved: undefined,
                    currentX: undefined,
                    currentY: undefined,
                    minX: undefined,
                    minY: undefined,
                    maxX: undefined,
                    maxY: undefined,
                    width: undefined,
                    height: undefined,
                    startX: undefined,
                    startY: undefined,
                    touchesStart: {},
                    touchesCurrent: {},
                },
                velocity: {
                    x: undefined,
                    y: undefined,
                    prevPositionX: undefined,
                    prevPositionY: undefined,
                    prevTime: undefined,
                },
            };
            ('onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out').split(' ').forEach(function (methodName) {
                zoom[methodName] = Zoom[methodName].bind(swiper);
            });
            Utils.extend(swiper, {zoom: zoom,});
        },
        on: {
            init: function init() {
                var swiper = this;
                if (swiper.params.zoom.enabled) {
                    swiper.zoom.enable();
                }
            }, destroy: function destroy() {
                var swiper = this;
                swiper.zoom.disable();
            }, touchStart: function touchStart(e) {
                var swiper = this;
                if (!swiper.zoom.enabled) {
                    return;
                }
                swiper.zoom.onTouchStart(e);
            }, touchEnd: function touchEnd(e) {
                var swiper = this;
                if (!swiper.zoom.enabled) {
                    return;
                }
                swiper.zoom.onTouchEnd(e);
            }, doubleTap: function doubleTap(e) {
                var swiper = this;
                if (swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {
                    swiper.zoom.toggle(e);
                }
            }, transitionEnd: function transitionEnd() {
                var swiper = this;
                if (swiper.zoom.enabled && swiper.params.zoom.enabled) {
                    swiper.zoom.onTransitionEnd();
                }
            },
        },
    };
    var Lazy = {
        loadInSlide: function loadInSlide(index, loadInDuplicate) {
            if (loadInDuplicate === void 0) loadInDuplicate = true;
            var swiper = this;
            var params = swiper.params.lazy;
            if (typeof index === 'undefined') {
                return;
            }
            if (swiper.slides.length === 0) {
                return;
            }
            var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
            var $slideEl = isVirtual ? swiper.$wrapperEl.children(("." + (swiper.params.slideClass) + "[data-swiper-slide-index=\"" + index + "\"]")) : swiper.slides.eq(index);
            var $images = $slideEl.find(("." + (params.elementClass) + ":not(." + (params.loadedClass) + "):not(." + (params.loadingClass) + ")"));
            if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {
                $images = $images.add($slideEl[0]);
            }
            if ($images.length === 0) {
                return;
            }
            $images.each(function (imageIndex, imageEl) {
                var $imageEl = $$1(imageEl);
                $imageEl.addClass(params.loadingClass);
                var background = $imageEl.attr('data-background');
                var src = $imageEl.attr('data-src');
                var srcset = $imageEl.attr('data-srcset');
                var sizes = $imageEl.attr('data-sizes');
                swiper.loadImage($imageEl[0], (src || background), srcset, sizes, false, function () {
                    if (typeof swiper === 'undefined' || swiper === null || !swiper || (swiper && !swiper.params) || swiper.destroyed) {
                        return;
                    }
                    if (background) {
                        $imageEl.css('background-image', ("url(\"" + background + "\")"));
                        $imageEl.removeAttr('data-background');
                    } else {
                        if (srcset) {
                            $imageEl.attr('srcset', srcset);
                            $imageEl.removeAttr('data-srcset');
                        }
                        if (sizes) {
                            $imageEl.attr('sizes', sizes);
                            $imageEl.removeAttr('data-sizes');
                        }
                        if (src) {
                            $imageEl.attr('src', src);
                            $imageEl.removeAttr('data-src');
                        }
                    }
                    $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);
                    $slideEl.find(("." + (params.preloaderClass))).remove();
                    if (swiper.params.loop && loadInDuplicate) {
                        var slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');
                        if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {
                            var originalSlide = swiper.$wrapperEl.children(("[data-swiper-slide-index=\"" + slideOriginalIndex + "\"]:not(." + (swiper.params.slideDuplicateClass) + ")"));
                            swiper.lazy.loadInSlide(originalSlide.index(), false);
                        } else {
                            var duplicatedSlide = swiper.$wrapperEl.children(("." + (swiper.params.slideDuplicateClass) + "[data-swiper-slide-index=\"" + slideOriginalIndex + "\"]"));
                            swiper.lazy.loadInSlide(duplicatedSlide.index(), false);
                        }
                    }
                    swiper.emit('lazyImageReady', $slideEl[0], $imageEl[0]);
                });
                swiper.emit('lazyImageLoad', $slideEl[0], $imageEl[0]);
            });
        }, load: function load() {
            var swiper = this;
            var $wrapperEl = swiper.$wrapperEl;
            var swiperParams = swiper.params;
            var slides = swiper.slides;
            var activeIndex = swiper.activeIndex;
            var isVirtual = swiper.virtual && swiperParams.virtual.enabled;
            var params = swiperParams.lazy;
            var slidesPerView = swiperParams.slidesPerView;
            if (slidesPerView === 'auto') {
                slidesPerView = 0;
            }

            function slideExist(index) {
                if (isVirtual) {
                    if ($wrapperEl.children(("." + (swiperParams.slideClass) + "[data-swiper-slide-index=\"" + index + "\"]")).length) {
                        return true;
                    }
                } else if (slides[index]) {
                    return true;
                }
                return false;
            }

            function slideIndex(slideEl) {
                if (isVirtual) {
                    return $$1(slideEl).attr('data-swiper-slide-index');
                }
                return $$1(slideEl).index();
            }

            if (!swiper.lazy.initialImageLoaded) {
                swiper.lazy.initialImageLoaded = true;
            }
            if (swiper.params.watchSlidesVisibility) {
                $wrapperEl.children(("." + (swiperParams.slideVisibleClass))).each(function (elIndex, slideEl) {
                    var index = isVirtual ? $$1(slideEl).attr('data-swiper-slide-index') : $$1(slideEl).index();
                    swiper.lazy.loadInSlide(index);
                });
            } else if (slidesPerView > 1) {
                for (var i = activeIndex; i < activeIndex + slidesPerView; i += 1) {
                    if (slideExist(i)) {
                        swiper.lazy.loadInSlide(i);
                    }
                }
            } else {
                swiper.lazy.loadInSlide(activeIndex);
            }
            if (params.loadPrevNext) {
                if (slidesPerView > 1 || (params.loadPrevNextAmount && params.loadPrevNextAmount > 1)) {
                    var amount = params.loadPrevNextAmount;
                    var spv = slidesPerView;
                    var maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);
                    var minIndex = Math.max(activeIndex - Math.max(spv, amount), 0);
                    for (var i$1 = activeIndex + slidesPerView; i$1 < maxIndex; i$1 += 1) {
                        if (slideExist(i$1)) {
                            swiper.lazy.loadInSlide(i$1);
                        }
                    }
                    for (var i$2 = minIndex; i$2 < activeIndex; i$2 += 1) {
                        if (slideExist(i$2)) {
                            swiper.lazy.loadInSlide(i$2);
                        }
                    }
                } else {
                    var nextSlide = $wrapperEl.children(("." + (swiperParams.slideNextClass)));
                    if (nextSlide.length > 0) {
                        swiper.lazy.loadInSlide(slideIndex(nextSlide));
                    }
                    var prevSlide = $wrapperEl.children(("." + (swiperParams.slidePrevClass)));
                    if (prevSlide.length > 0) {
                        swiper.lazy.loadInSlide(slideIndex(prevSlide));
                    }
                }
            }
        },
    };
    var Lazy$1 = {
        name: 'lazy',
        params: {
            lazy: {
                enabled: false,
                loadPrevNext: false,
                loadPrevNextAmount: 1,
                loadOnTransitionStart: false,
                elementClass: 'swiper-lazy',
                loadingClass: 'swiper-lazy-loading',
                loadedClass: 'swiper-lazy-loaded',
                preloaderClass: 'swiper-lazy-preloader',
            },
        },
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                lazy: {
                    initialImageLoaded: false,
                    load: Lazy.load.bind(swiper),
                    loadInSlide: Lazy.loadInSlide.bind(swiper),
                },
            });
        },
        on: {
            beforeInit: function beforeInit() {
                var swiper = this;
                if (swiper.params.lazy.enabled && swiper.params.preloadImages) {
                    swiper.params.preloadImages = false;
                }
            }, init: function init() {
                var swiper = this;
                if (swiper.params.lazy.enabled && !swiper.params.loop && swiper.params.initialSlide === 0) {
                    swiper.lazy.load();
                }
            }, scroll: function scroll() {
                var swiper = this;
                if (swiper.params.freeMode && !swiper.params.freeModeSticky) {
                    swiper.lazy.load();
                }
            }, resize: function resize() {
                var swiper = this;
                if (swiper.params.lazy.enabled) {
                    swiper.lazy.load();
                }
            }, scrollbarDragMove: function scrollbarDragMove() {
                var swiper = this;
                if (swiper.params.lazy.enabled) {
                    swiper.lazy.load();
                }
            }, transitionStart: function transitionStart() {
                var swiper = this;
                if (swiper.params.lazy.enabled) {
                    if (swiper.params.lazy.loadOnTransitionStart || (!swiper.params.lazy.loadOnTransitionStart && !swiper.lazy.initialImageLoaded)) {
                        swiper.lazy.load();
                    }
                }
            }, transitionEnd: function transitionEnd() {
                var swiper = this;
                if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {
                    swiper.lazy.load();
                }
            },
        },
    };
    var Controller = {
        LinearSpline: function LinearSpline(x, y) {
            var binarySearch = (function search() {
                var maxIndex;
                var minIndex;
                var guess;
                return function (array, val) {
                    minIndex = -1;
                    maxIndex = array.length;
                    while (maxIndex - minIndex > 1) {
                        guess = maxIndex + minIndex >> 1;
                        if (array[guess] <= val) {
                            minIndex = guess;
                        } else {
                            maxIndex = guess;
                        }
                    }
                    return maxIndex;
                };
            }());
            this.x = x;
            this.y = y;
            this.lastIndex = x.length - 1;
            var i1;
            var i3;
            this.interpolate = function interpolate(x2) {
                if (!x2) {
                    return 0;
                }
                i3 = binarySearch(this.x, x2);
                i1 = i3 - 1;
                return (((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1])) + this.y[i1];
            };
            return this;
        }, getInterpolateFunction: function getInterpolateFunction(c) {
            var swiper = this;
            if (!swiper.controller.spline) {
                swiper.controller.spline = swiper.params.loop ? new Controller.LinearSpline(swiper.slidesGrid, c.slidesGrid) : new Controller.LinearSpline(swiper.snapGrid, c.snapGrid);
            }
        }, setTranslate: function setTranslate(setTranslate$1, byController) {
            var swiper = this;
            var controlled = swiper.controller.control;
            var multiplier;
            var controlledTranslate;

            function setControlledTranslate(c) {
                var translate = c.rtl && c.params.direction === 'horizontal' ? -swiper.translate : swiper.translate;
                if (swiper.params.controller.by === 'slide') {
                    swiper.controller.getInterpolateFunction(c);
                    controlledTranslate = -swiper.controller.spline.interpolate(-translate);
                }
                if (!controlledTranslate || swiper.params.controller.by === 'container') {
                    multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());
                    controlledTranslate = ((translate - swiper.minTranslate()) * multiplier) + c.minTranslate();
                }
                if (swiper.params.controller.inverse) {
                    controlledTranslate = c.maxTranslate() - controlledTranslate;
                }
                c.updateProgress(controlledTranslate);
                c.setTranslate(controlledTranslate, swiper);
                c.updateActiveIndex();
                c.updateSlidesClasses();
            }

            if (Array.isArray(controlled)) {
                for (var i = 0; i < controlled.length; i += 1) {
                    if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {
                        setControlledTranslate(controlled[i]);
                    }
                }
            } else if (controlled instanceof Swiper$1 && byController !== controlled) {
                setControlledTranslate(controlled);
            }
        }, setTransition: function setTransition(duration, byController) {
            var swiper = this;
            var controlled = swiper.controller.control;
            var i;

            function setControlledTransition(c) {
                c.setTransition(duration, swiper);
                if (duration !== 0) {
                    c.transitionStart();
                    c.$wrapperEl.transitionEnd(function () {
                        if (!controlled) {
                            return;
                        }
                        if (c.params.loop && swiper.params.controller.by === 'slide') {
                            c.loopFix();
                        }
                        c.transitionEnd();
                    });
                }
            }

            if (Array.isArray(controlled)) {
                for (i = 0; i < controlled.length; i += 1) {
                    if (controlled[i] !== byController && controlled[i] instanceof Swiper$1) {
                        setControlledTransition(controlled[i]);
                    }
                }
            } else if (controlled instanceof Swiper$1 && byController !== controlled) {
                setControlledTransition(controlled);
            }
        },
    };
    var Controller$1 = {
        name: 'controller',
        params: {controller: {control: undefined, inverse: false, by: 'slide',},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                controller: {
                    control: swiper.params.controller.control,
                    getInterpolateFunction: Controller.getInterpolateFunction.bind(swiper),
                    setTranslate: Controller.setTranslate.bind(swiper),
                    setTransition: Controller.setTransition.bind(swiper),
                },
            });
        },
        on: {
            update: function update() {
                var swiper = this;
                if (!swiper.controller.control) {
                    return;
                }
                if (swiper.controller.spline) {
                    swiper.controller.spline = undefined;
                    delete swiper.controller.spline;
                }
            }, resize: function resize() {
                var swiper = this;
                if (!swiper.controller.control) {
                    return;
                }
                if (swiper.controller.spline) {
                    swiper.controller.spline = undefined;
                    delete swiper.controller.spline;
                }
            }, observerUpdate: function observerUpdate() {
                var swiper = this;
                if (!swiper.controller.control) {
                    return;
                }
                if (swiper.controller.spline) {
                    swiper.controller.spline = undefined;
                    delete swiper.controller.spline;
                }
            }, setTranslate: function setTranslate(translate, byController) {
                var swiper = this;
                if (!swiper.controller.control) {
                    return;
                }
                swiper.controller.setTranslate(translate, byController);
            }, setTransition: function setTransition(duration, byController) {
                var swiper = this;
                if (!swiper.controller.control) {
                    return;
                }
                swiper.controller.setTransition(duration, byController);
            },
        },
    };
    var a11y = {
        makeElFocusable: function makeElFocusable($el) {
            $el.attr('tabIndex', '0');
            return $el;
        }, addElRole: function addElRole($el, role) {
            $el.attr('role', role);
            return $el;
        }, addElLabel: function addElLabel($el, label) {
            $el.attr('aria-label', label);
            return $el;
        }, disableEl: function disableEl($el) {
            $el.attr('aria-disabled', true);
            return $el;
        }, enableEl: function enableEl($el) {
            $el.attr('aria-disabled', false);
            return $el;
        }, onEnterKey: function onEnterKey(e) {
            var swiper = this;
            var params = swiper.params.a11y;
            if (e.keyCode !== 13) {
                return;
            }
            var $targetEl = $$1(e.target);
            if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {
                if (!(swiper.isEnd && !swiper.params.loop)) {
                    swiper.slideNext();
                }
                if (swiper.isEnd) {
                    swiper.a11y.notify(params.lastSlideMessage);
                } else {
                    swiper.a11y.notify(params.nextSlideMessage);
                }
            }
            if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {
                if (!(swiper.isBeginning && !swiper.params.loop)) {
                    swiper.slidePrev();
                }
                if (swiper.isBeginning) {
                    swiper.a11y.notify(params.firstSlideMessage);
                } else {
                    swiper.a11y.notify(params.prevSlideMessage);
                }
            }
            if (swiper.pagination && $targetEl.is(("." + (swiper.params.pagination.bulletClass)))) {
                $targetEl[0].click();
            }
        }, notify: function notify(message) {
            var swiper = this;
            var notification = swiper.a11y.liveRegion;
            if (notification.length === 0) {
                return;
            }
            notification.html('');
            notification.html(message);
        }, updateNavigation: function updateNavigation() {
            var swiper = this;
            if (swiper.params.loop) {
                return;
            }
            var ref = swiper.navigation;
            var $nextEl = ref.$nextEl;
            var $prevEl = ref.$prevEl;
            if ($prevEl && $prevEl.length > 0) {
                if (swiper.isBeginning) {
                    swiper.a11y.disableEl($prevEl);
                } else {
                    swiper.a11y.enableEl($prevEl);
                }
            }
            if ($nextEl && $nextEl.length > 0) {
                if (swiper.isEnd) {
                    swiper.a11y.disableEl($nextEl);
                } else {
                    swiper.a11y.enableEl($nextEl);
                }
            }
        }, updatePagination: function updatePagination() {
            var swiper = this;
            var params = swiper.params.a11y;
            if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
                swiper.pagination.bullets.each(function (bulletIndex, bulletEl) {
                    var $bulletEl = $$1(bulletEl);
                    swiper.a11y.makeElFocusable($bulletEl);
                    swiper.a11y.addElRole($bulletEl, 'button');
                    swiper.a11y.addElLabel($bulletEl, params.paginationBulletMessage.replace(/{{index}}/, $bulletEl.index() + 1));
                });
            }
        }, init: function init() {
            var swiper = this;
            swiper.$el.append(swiper.a11y.liveRegion);
            var params = swiper.params.a11y;
            var $nextEl;
            var $prevEl;
            if (swiper.navigation && swiper.navigation.$nextEl) {
                $nextEl = swiper.navigation.$nextEl;
            }
            if (swiper.navigation && swiper.navigation.$prevEl) {
                $prevEl = swiper.navigation.$prevEl;
            }
            if ($nextEl) {
                swiper.a11y.makeElFocusable($nextEl);
                swiper.a11y.addElRole($nextEl, 'button');
                swiper.a11y.addElLabel($nextEl, params.nextSlideMessage);
                $nextEl.on('keydown', swiper.a11y.onEnterKey);
            }
            if ($prevEl) {
                swiper.a11y.makeElFocusable($prevEl);
                swiper.a11y.addElRole($prevEl, 'button');
                swiper.a11y.addElLabel($prevEl, params.prevSlideMessage);
                $prevEl.on('keydown', swiper.a11y.onEnterKey);
            }
            if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
                swiper.pagination.$el.on('keydown', ("." + (swiper.params.pagination.bulletClass)), swiper.a11y.onEnterKey);
            }
        }, destroy: function destroy() {
            var swiper = this;
            if (swiper.a11y.liveRegion && swiper.a11y.liveRegion.length > 0) {
                swiper.a11y.liveRegion.remove();
            }
            var $nextEl;
            var $prevEl;
            if (swiper.navigation && swiper.navigation.$nextEl) {
                $nextEl = swiper.navigation.$nextEl;
            }
            if (swiper.navigation && swiper.navigation.$prevEl) {
                $prevEl = swiper.navigation.$prevEl;
            }
            if ($nextEl) {
                $nextEl.off('keydown', swiper.a11y.onEnterKey);
            }
            if ($prevEl) {
                $prevEl.off('keydown', swiper.a11y.onEnterKey);
            }
            if (swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length) {
                swiper.pagination.$el.off('keydown', ("." + (swiper.params.pagination.bulletClass)), swiper.a11y.onEnterKey);
            }
        },
    };
    var A11y = {
        name: 'a11y',
        params: {
            a11y: {
                enabled: false,
                notificationClass: 'swiper-notification',
                prevSlideMessage: 'Previous slide',
                nextSlideMessage: 'Next slide',
                firstSlideMessage: 'This is the first slide',
                lastSlideMessage: 'This is the last slide',
                paginationBulletMessage: 'Go to slide {{index}}',
            },
        },
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {a11y: {liveRegion: $$1(("<span class=\"" + (swiper.params.a11y.notificationClass) + "\" aria-live=\"assertive\" aria-atomic=\"true\"></span>")),},});
            Object.keys(a11y).forEach(function (methodName) {
                swiper.a11y[methodName] = a11y[methodName].bind(swiper);
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                if (!swiper.params.a11y.enabled) {
                    return;
                }
                swiper.a11y.init();
                swiper.a11y.updateNavigation();
            }, toEdge: function toEdge() {
                var swiper = this;
                if (!swiper.params.a11y.enabled) {
                    return;
                }
                swiper.a11y.updateNavigation();
            }, fromEdge: function fromEdge() {
                var swiper = this;
                if (!swiper.params.a11y.enabled) {
                    return;
                }
                swiper.a11y.updateNavigation();
            }, paginationUpdate: function paginationUpdate() {
                var swiper = this;
                if (!swiper.params.a11y.enabled) {
                    return;
                }
                swiper.a11y.updatePagination();
            }, destroy: function destroy() {
                var swiper = this;
                if (!swiper.params.a11y.enabled) {
                    return;
                }
                swiper.a11y.destroy();
            },
        },
    };
    var History = {
        init: function init() {
            var swiper = this;
            if (!swiper.params.history) {
                return;
            }
            if (!win.history || !win.history.pushState) {
                swiper.params.history.enabled = false;
                swiper.params.hashNavigation.enabled = true;
                return;
            }
            var history = swiper.history;
            history.initialized = true;
            history.paths = History.getPathValues();
            if (!history.paths.key && !history.paths.value) {
                return;
            }
            history.scrollToSlide(0, history.paths.value, swiper.params.runCallbacksOnInit);
            if (!swiper.params.history.replaceState) {
                win.addEventListener('popstate', swiper.history.setHistoryPopState);
            }
        }, destroy: function destroy() {
            var swiper = this;
            if (!swiper.params.history.replaceState) {
                win.removeEventListener('popstate', swiper.history.setHistoryPopState);
            }
        }, setHistoryPopState: function setHistoryPopState() {
            var swiper = this;
            swiper.history.paths = History.getPathValues();
            swiper.history.scrollToSlide(swiper.params.speed, swiper.history.paths.value, false);
        }, getPathValues: function getPathValues() {
            var pathArray = win.location.pathname.slice(1).split('/').filter(function (part) {
                return part !== '';
            });
            var total = pathArray.length;
            var key = pathArray[total - 2];
            var value = pathArray[total - 1];
            return {key: key, value: value};
        }, setHistory: function setHistory(key, index) {
            var swiper = this;
            if (!swiper.history.initialized || !swiper.params.history.enabled) {
                return;
            }
            var slide = swiper.slides.eq(index);
            var value = History.slugify(slide.attr('data-history'));
            if (!win.location.pathname.includes(key)) {
                value = key + "/" + value;
            }
            var currentState = win.history.state;
            if (currentState && currentState.value === value) {
                return;
            }
            if (swiper.params.history.replaceState) {
                win.history.replaceState({value: value}, null, value);
            } else {
                win.history.pushState({value: value}, null, value);
            }
        }, slugify: function slugify(text) {
            return text.toString().toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');
        }, scrollToSlide: function scrollToSlide(speed, value, runCallbacks) {
            var swiper = this;
            if (value) {
                for (var i = 0, length = swiper.slides.length; i < length; i += 1) {
                    var slide = swiper.slides.eq(i);
                    var slideHistory = History.slugify(slide.attr('data-history'));
                    if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {
                        var index = slide.index();
                        swiper.slideTo(index, speed, runCallbacks);
                    }
                }
            } else {
                swiper.slideTo(0, speed, runCallbacks);
            }
        },
    };
    var History$1 = {
        name: 'history',
        params: {history: {enabled: false, replaceState: false, key: 'slides',},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                history: {
                    init: History.init.bind(swiper),
                    setHistory: History.setHistory.bind(swiper),
                    setHistoryPopState: History.setHistoryPopState.bind(swiper),
                    scrollToSlide: History.scrollToSlide.bind(swiper),
                    destroy: History.destroy.bind(swiper),
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                if (swiper.params.history.enabled) {
                    swiper.history.init();
                }
            }, destroy: function destroy() {
                var swiper = this;
                if (swiper.params.history.enabled) {
                    swiper.history.destroy();
                }
            }, transitionEnd: function transitionEnd() {
                var swiper = this;
                if (swiper.history.initialized) {
                    swiper.history.setHistory(swiper.params.history.key, swiper.activeIndex);
                }
            },
        },
    };
    var HashNavigation = {
        onHashCange: function onHashCange() {
            var swiper = this;
            var newHash = doc.location.hash.replace('#', '');
            var activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');
            if (newHash !== activeSlideHash) {
                swiper.slideTo(swiper.$wrapperEl.children(("." + (swiper.params.slideClass) + "[data-hash=\"" + newHash + "\"]")).index());
            }
        }, setHash: function setHash() {
            var swiper = this;
            if (!swiper.hashNavigation.initialized || !swiper.params.hashNavigation.enabled) {
                return;
            }
            if (swiper.params.hashNavigation.replaceState && win.history && win.history.replaceState) {
                win.history.replaceState(null, null, (("#" + (swiper.slides.eq(swiper.activeIndex).attr('data-hash'))) || ''));
            } else {
                var slide = swiper.slides.eq(swiper.activeIndex);
                var hash = slide.attr('data-hash') || slide.attr('data-history');
                doc.location.hash = hash || '';
            }
        }, init: function init() {
            var swiper = this;
            if (!swiper.params.hashNavigation.enabled || (swiper.params.history && swiper.params.history.enabled)) {
                return;
            }
            swiper.hashNavigation.initialized = true;
            var hash = doc.location.hash.replace('#', '');
            if (hash) {
                var speed = 0;
                for (var i = 0, length = swiper.slides.length; i < length; i += 1) {
                    var slide = swiper.slides.eq(i);
                    var slideHash = slide.attr('data-hash') || slide.attr('data-history');
                    if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {
                        var index = slide.index();
                        swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);
                    }
                }
            }
            if (swiper.params.hashNavigation.watchState) {
                $$1(win).on('hashchange', swiper.hashNavigation.onHashCange);
            }
        }, destroy: function destroy() {
            var swiper = this;
            if (swiper.params.hashNavigation.watchState) {
                $$1(win).off('hashchange', swiper.hashNavigation.onHashCange);
            }
        },
    };
    var HashNavigation$1 = {
        name: 'hash-navigation',
        params: {hashNavigation: {enabled: false, replaceState: false, watchState: false,},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                hashNavigation: {
                    initialized: false,
                    init: HashNavigation.init.bind(swiper),
                    destroy: HashNavigation.destroy.bind(swiper),
                    setHash: HashNavigation.setHash.bind(swiper),
                    onHashCange: HashNavigation.onHashCange.bind(swiper),
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                if (swiper.params.hashNavigation.enabled) {
                    swiper.hashNavigation.init();
                }
            }, destroy: function destroy() {
                var swiper = this;
                if (swiper.params.hashNavigation.enabled) {
                    swiper.hashNavigation.destroy();
                }
            }, transitionEnd: function transitionEnd() {
                var swiper = this;
                if (swiper.hashNavigation.initialized) {
                    swiper.hashNavigation.setHash();
                }
            },
        },
    };
    var Autoplay = {
        run: function run() {
            var swiper = this;
            var $activeSlideEl = swiper.slides.eq(swiper.activeIndex);
            var delay = swiper.params.autoplay.delay;
            if ($activeSlideEl.attr('data-swiper-autoplay')) {
                delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;
            }
            swiper.autoplay.timeout = Utils.nextTick(function () {
                if (swiper.params.autoplay.reverseDirection) {
                    if (swiper.params.loop) {
                        swiper.loopFix();
                        swiper.slidePrev(swiper.params.speed, true, true);
                        swiper.emit('autoplay');
                    } else if (!swiper.isBeginning) {
                        swiper.slidePrev(swiper.params.speed, true, true);
                        swiper.emit('autoplay');
                    } else if (!swiper.params.autoplay.stopOnLastSlide) {
                        swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);
                        swiper.emit('autoplay');
                    } else {
                        swiper.autoplay.stop();
                    }
                } else if (swiper.params.loop) {
                    swiper.loopFix();
                    swiper.slideNext(swiper.params.speed, true, true);
                    swiper.emit('autoplay');
                } else if (!swiper.isEnd) {
                    swiper.slideNext(swiper.params.speed, true, true);
                    swiper.emit('autoplay');
                } else if (!swiper.params.autoplay.stopOnLastSlide) {
                    swiper.slideTo(0, swiper.params.speed, true, true);
                    swiper.emit('autoplay');
                } else {
                    swiper.autoplay.stop();
                }
            }, delay);
        }, start: function start() {
            var swiper = this;
            if (typeof swiper.autoplay.timeout !== 'undefined') {
                return false;
            }
            if (swiper.autoplay.running) {
                return false;
            }
            swiper.autoplay.running = true;
            swiper.emit('autoplayStart');
            swiper.autoplay.run();
            return true;
        }, stop: function stop() {
            var swiper = this;
            if (!swiper.autoplay.running) {
                return false;
            }
            if (typeof swiper.autoplay.timeout === 'undefined') {
                return false;
            }
            if (swiper.autoplay.timeout) {
                clearTimeout(swiper.autoplay.timeout);
                swiper.autoplay.timeout = undefined;
            }
            swiper.autoplay.running = false;
            swiper.emit('autoplayStop');
            return true;
        }, pause: function pause(speed) {
            var swiper = this;
            if (!swiper.autoplay.running) {
                return;
            }
            if (swiper.autoplay.paused) {
                return;
            }
            if (swiper.autoplay.timeout) {
                clearTimeout(swiper.autoplay.timeout);
            }
            swiper.autoplay.paused = true;
            if (speed === 0 || !swiper.params.autoplay.waitForTransition) {
                swiper.autoplay.paused = false;
                swiper.autoplay.run();
            } else {
                swiper.$wrapperEl.transitionEnd(function () {
                    if (!swiper || swiper.destroyed) {
                        return;
                    }
                    swiper.autoplay.paused = false;
                    if (!swiper.autoplay.running) {
                        swiper.autoplay.stop();
                    } else {
                        swiper.autoplay.run();
                    }
                });
            }
        },
    };
    var Autoplay$1 = {
        name: 'autoplay',
        params: {
            autoplay: {
                enabled: false,
                delay: 3000,
                waitForTransition: true,
                disableOnInteraction: true,
                stopOnLastSlide: false,
                reverseDirection: false,
            },
        },
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                autoplay: {
                    running: false,
                    paused: false,
                    run: Autoplay.run.bind(swiper),
                    start: Autoplay.start.bind(swiper),
                    stop: Autoplay.stop.bind(swiper),
                    pause: Autoplay.pause.bind(swiper),
                },
            });
        },
        on: {
            init: function init() {
                var swiper = this;
                if (swiper.params.autoplay.enabled) {
                    swiper.autoplay.start();
                }
            }, beforeTransitionStart: function beforeTransitionStart(speed, internal) {
                var swiper = this;
                if (swiper.autoplay.running) {
                    if (internal || !swiper.params.autoplay.disableOnInteraction) {
                        swiper.autoplay.pause(speed);
                    } else {
                        swiper.autoplay.stop();
                    }
                }
            }, sliderFirstMove: function sliderFirstMove() {
                var swiper = this;
                if (swiper.autoplay.running) {
                    if (swiper.params.autoplay.disableOnInteraction) {
                        swiper.autoplay.stop();
                    } else {
                        swiper.autoplay.pause();
                    }
                }
            }, destroy: function destroy() {
                var swiper = this;
                if (swiper.autoplay.running) {
                    swiper.autoplay.stop();
                }
            },
        },
    };
    var Fade = {
        setTranslate: function setTranslate() {
            var swiper = this;
            var slides = swiper.slides;
            for (var i = 0; i < slides.length; i += 1) {
                var $slideEl = swiper.slides.eq(i);
                var offset = $slideEl[0].swiperSlideOffset;
                var tx = -offset;
                if (!swiper.params.virtualTranslate) {
                    tx -= swiper.translate;
                }
                var ty = 0;
                if (!swiper.isHorizontal()) {
                    ty = tx;
                    tx = 0;
                }
                var slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);
                $slideEl.css({opacity: slideOpacity,}).transform(("translate3d(" + tx + "px, " + ty + "px, 0px)"));
            }
        }, setTransition: function setTransition(duration) {
            var swiper = this;
            var slides = swiper.slides;
            var $wrapperEl = swiper.$wrapperEl;
            slides.transition(duration);
            if (swiper.params.virtualTranslate && duration !== 0) {
                var eventTriggered = false;
                slides.transitionEnd(function () {
                    if (eventTriggered) {
                        return;
                    }
                    if (!swiper || swiper.destroyed) {
                        return;
                    }
                    eventTriggered = true;
                    swiper.animating = false;
                    var triggerEvents = ['webkitTransitionEnd', 'transitionend'];
                    for (var i = 0; i < triggerEvents.length; i += 1) {
                        $wrapperEl.trigger(triggerEvents[i]);
                    }
                });
            }
        },
    };
    var EffectFade = {
        name: 'effect-fade', params: {fadeEffect: {crossFade: false,},}, create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                fadeEffect: {
                    setTranslate: Fade.setTranslate.bind(swiper),
                    setTransition: Fade.setTransition.bind(swiper),
                },
            });
        }, on: {
            beforeInit: function beforeInit() {
                var swiper = this;
                if (swiper.params.effect !== 'fade') {
                    return;
                }
                swiper.classNames.push(((swiper.params.containerModifierClass) + "fade"));
                var overwriteParams = {
                    slidesPerView: 1,
                    slidesPerColumn: 1,
                    slidesPerGroup: 1,
                    watchSlidesProgress: true,
                    spaceBetween: 0,
                    virtualTranslate: true,
                };
                Utils.extend(swiper.params, overwriteParams);
                Utils.extend(swiper.originalParams, overwriteParams);
            }, setTranslate: function setTranslate() {
                var swiper = this;
                if (swiper.params.effect !== 'fade') {
                    return;
                }
                swiper.fadeEffect.setTranslate();
            }, setTransition: function setTransition(duration) {
                var swiper = this;
                if (swiper.params.effect !== 'fade') {
                    return;
                }
                swiper.fadeEffect.setTransition(duration);
            },
        },
    };
    var Cube = {
        setTranslate: function setTranslate() {
            var swiper = this;
            var $el = swiper.$el;
            var $wrapperEl = swiper.$wrapperEl;
            var slides = swiper.slides;
            var swiperWidth = swiper.width;
            var swiperHeight = swiper.height;
            var rtl = swiper.rtl;
            var swiperSize = swiper.size;
            var params = swiper.params.cubeEffect;
            var isHorizontal = swiper.isHorizontal();
            var isVirtual = swiper.virtual && swiper.params.virtual.enabled;
            var wrapperRotate = 0;
            var $cubeShadowEl;
            if (params.shadow) {
                if (isHorizontal) {
                    $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');
                    if ($cubeShadowEl.length === 0) {
                        $cubeShadowEl = $$1('<div class="swiper-cube-shadow"></div>');
                        $wrapperEl.append($cubeShadowEl);
                    }
                    $cubeShadowEl.css({height: (swiperWidth + "px")});
                } else {
                    $cubeShadowEl = $el.find('.swiper-cube-shadow');
                    if ($cubeShadowEl.length === 0) {
                        $cubeShadowEl = $$1('<div class="swiper-cube-shadow"></div>');
                        $el.append($cubeShadowEl);
                    }
                }
            }
            for (var i = 0; i < slides.length; i += 1) {
                var $slideEl = slides.eq(i);
                var slideIndex = i;
                if (isVirtual) {
                    slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);
                }
                var slideAngle = slideIndex * 90;
                var round = Math.floor(slideAngle / 360);
                if (rtl) {
                    slideAngle = -slideAngle;
                    round = Math.floor(-slideAngle / 360);
                }
                var progress = Math.max(Math.min($slideEl[0].progress, 1), -1);
                var tx = 0;
                var ty = 0;
                var tz = 0;
                if (slideIndex % 4 === 0) {
                    tx = -round * 4 * swiperSize;
                    tz = 0;
                } else if ((slideIndex - 1) % 4 === 0) {
                    tx = 0;
                    tz = -round * 4 * swiperSize;
                } else if ((slideIndex - 2) % 4 === 0) {
                    tx = swiperSize + (round * 4 * swiperSize);
                    tz = swiperSize;
                } else if ((slideIndex - 3) % 4 === 0) {
                    tx = -swiperSize;
                    tz = (3 * swiperSize) + (swiperSize * 4 * round);
                }
                if (rtl) {
                    tx = -tx;
                }
                if (!isHorizontal) {
                    ty = tx;
                    tx = 0;
                }
                var transform = "rotateX(" + (isHorizontal ? 0 : -slideAngle) + "deg) rotateY(" + (isHorizontal ? slideAngle : 0) + "deg) translate3d(" + tx + "px, " + ty + "px, " + tz + "px)";
                if (progress <= 1 && progress > -1) {
                    wrapperRotate = (slideIndex * 90) + (progress * 90);
                    if (rtl) {
                        wrapperRotate = (-slideIndex * 90) - (progress * 90);
                    }
                }
                $slideEl.transform(transform);
                if (params.slideShadows) {
                    var shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
                    var shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');
                    if (shadowBefore.length === 0) {
                        shadowBefore = $$1(("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'left' : 'top') + "\"></div>"));
                        $slideEl.append(shadowBefore);
                    }
                    if (shadowAfter.length === 0) {
                        shadowAfter = $$1(("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'right' : 'bottom') + "\"></div>"));
                        $slideEl.append(shadowAfter);
                    }
                    if (shadowBefore.length) {
                        shadowBefore[0].style.opacity = Math.max(-progress, 0);
                    }
                    if (shadowAfter.length) {
                        shadowAfter[0].style.opacity = Math.max(progress, 0);
                    }
                }
            }
            $wrapperEl.css({
                '-webkit-transform-origin': ("50% 50% -" + (swiperSize / 2) + "px"),
                '-moz-transform-origin': ("50% 50% -" + (swiperSize / 2) + "px"),
                '-ms-transform-origin': ("50% 50% -" + (swiperSize / 2) + "px"),
                'transform-origin': ("50% 50% -" + (swiperSize / 2) + "px"),
            });
            if (params.shadow) {
                if (isHorizontal) {
                    $cubeShadowEl.transform(("translate3d(0px, " + ((swiperWidth / 2) + params.shadowOffset) + "px, " + (-swiperWidth / 2) + "px) rotateX(90deg) rotateZ(0deg) scale(" + (params.shadowScale) + ")"));
                } else {
                    var shadowAngle = Math.abs(wrapperRotate) - (Math.floor(Math.abs(wrapperRotate) / 90) * 90);
                    var multiplier = 1.5 - ((Math.sin((shadowAngle * 2 * Math.PI) / 360) / 2) + (Math.cos((shadowAngle * 2 * Math.PI) / 360) / 2));
                    var scale1 = params.shadowScale;
                    var scale2 = params.shadowScale / multiplier;
                    var offset = params.shadowOffset;
                    $cubeShadowEl.transform(("scale3d(" + scale1 + ", 1, " + scale2 + ") translate3d(0px, " + ((swiperHeight / 2) + offset) + "px, " + (-swiperHeight / 2 / scale2) + "px) rotateX(-90deg)"));
                }
            }
            var zFactor = (Browser.isSafari || Browser.isUiWebView) ? (-swiperSize / 2) : 0;
            $wrapperEl.transform(("translate3d(0px,0," + zFactor + "px) rotateX(" + (swiper.isHorizontal() ? 0 : wrapperRotate) + "deg) rotateY(" + (swiper.isHorizontal() ? -wrapperRotate : 0) + "deg)"));
        }, setTransition: function setTransition(duration) {
            var swiper = this;
            var $el = swiper.$el;
            var slides = swiper.slides;
            slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);
            if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {
                $el.find('.swiper-cube-shadow').transition(duration);
            }
        },
    };
    var EffectCube = {
        name: 'effect-cube',
        params: {cubeEffect: {slideShadows: true, shadow: true, shadowOffset: 20, shadowScale: 0.94,},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                cubeEffect: {
                    setTranslate: Cube.setTranslate.bind(swiper),
                    setTransition: Cube.setTransition.bind(swiper),
                },
            });
        },
        on: {
            beforeInit: function beforeInit() {
                var swiper = this;
                if (swiper.params.effect !== 'cube') {
                    return;
                }
                swiper.classNames.push(((swiper.params.containerModifierClass) + "cube"));
                swiper.classNames.push(((swiper.params.containerModifierClass) + "3d"));
                var overwriteParams = {
                    slidesPerView: 1,
                    slidesPerColumn: 1,
                    slidesPerGroup: 1,
                    watchSlidesProgress: true,
                    resistanceRatio: 0,
                    spaceBetween: 0,
                    centeredSlides: false,
                    virtualTranslate: true,
                };
                Utils.extend(swiper.params, overwriteParams);
                Utils.extend(swiper.originalParams, overwriteParams);
            }, setTranslate: function setTranslate() {
                var swiper = this;
                if (swiper.params.effect !== 'cube') {
                    return;
                }
                swiper.cubeEffect.setTranslate();
            }, setTransition: function setTransition(duration) {
                var swiper = this;
                if (swiper.params.effect !== 'cube') {
                    return;
                }
                swiper.cubeEffect.setTransition(duration);
            },
        },
    };
    var Flip = {
        setTranslate: function setTranslate() {
            var swiper = this;
            var slides = swiper.slides;
            for (var i = 0; i < slides.length; i += 1) {
                var $slideEl = slides.eq(i);
                var progress = $slideEl[0].progress;
                if (swiper.params.flipEffect.limitRotation) {
                    progress = Math.max(Math.min($slideEl[0].progress, 1), -1);
                }
                var offset = $slideEl[0].swiperSlideOffset;
                var rotate = -180 * progress;
                var rotateY = rotate;
                var rotateX = 0;
                var tx = -offset;
                var ty = 0;
                if (!swiper.isHorizontal()) {
                    ty = tx;
                    tx = 0;
                    rotateX = -rotateY;
                    rotateY = 0;
                } else if (swiper.rtl) {
                    rotateY = -rotateY;
                }
                $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;
                if (swiper.params.flipEffect.slideShadows) {
                    var shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
                    var shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');
                    if (shadowBefore.length === 0) {
                        shadowBefore = $$1(("<div class=\"swiper-slide-shadow-" + (swiper.isHorizontal() ? 'left' : 'top') + "\"></div>"));
                        $slideEl.append(shadowBefore);
                    }
                    if (shadowAfter.length === 0) {
                        shadowAfter = $$1(("<div class=\"swiper-slide-shadow-" + (swiper.isHorizontal() ? 'right' : 'bottom') + "\"></div>"));
                        $slideEl.append(shadowAfter);
                    }
                    if (shadowBefore.length) {
                        shadowBefore[0].style.opacity = Math.max(-progress, 0);
                    }
                    if (shadowAfter.length) {
                        shadowAfter[0].style.opacity = Math.max(progress, 0);
                    }
                }
                $slideEl.transform(("translate3d(" + tx + "px, " + ty + "px, 0px) rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg)"));
            }
        }, setTransition: function setTransition(duration) {
            var swiper = this;
            var slides = swiper.slides;
            var activeIndex = swiper.activeIndex;
            var $wrapperEl = swiper.$wrapperEl;
            slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);
            if (swiper.params.virtualTranslate && duration !== 0) {
                var eventTriggered = false;
                slides.eq(activeIndex).transitionEnd(function onTransitionEnd() {
                    if (eventTriggered) {
                        return;
                    }
                    if (!swiper || swiper.destroyed) {
                        return;
                    }
                    eventTriggered = true;
                    swiper.animating = false;
                    var triggerEvents = ['webkitTransitionEnd', 'transitionend'];
                    for (var i = 0; i < triggerEvents.length; i += 1) {
                        $wrapperEl.trigger(triggerEvents[i]);
                    }
                });
            }
        },
    };
    var EffectFlip = {
        name: 'effect-flip',
        params: {flipEffect: {slideShadows: true, limitRotation: true,},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                flipEffect: {
                    setTranslate: Flip.setTranslate.bind(swiper),
                    setTransition: Flip.setTransition.bind(swiper),
                },
            });
        },
        on: {
            beforeInit: function beforeInit() {
                var swiper = this;
                if (swiper.params.effect !== 'flip') {
                    return;
                }
                swiper.classNames.push(((swiper.params.containerModifierClass) + "flip"));
                swiper.classNames.push(((swiper.params.containerModifierClass) + "3d"));
                var overwriteParams = {
                    slidesPerView: 1,
                    slidesPerColumn: 1,
                    slidesPerGroup: 1,
                    watchSlidesProgress: true,
                    spaceBetween: 0,
                    virtualTranslate: true,
                };
                Utils.extend(swiper.params, overwriteParams);
                Utils.extend(swiper.originalParams, overwriteParams);
            }, setTranslate: function setTranslate() {
                var swiper = this;
                if (swiper.params.effect !== 'flip') {
                    return;
                }
                swiper.flipEffect.setTranslate();
            }, setTransition: function setTransition(duration) {
                var swiper = this;
                if (swiper.params.effect !== 'flip') {
                    return;
                }
                swiper.flipEffect.setTransition(duration);
            },
        },
    };
    var Coverflow = {
        setTranslate: function setTranslate() {
            var swiper = this;
            var swiperWidth = swiper.width;
            var swiperHeight = swiper.height;
            var slides = swiper.slides;
            var $wrapperEl = swiper.$wrapperEl;
            var slidesSizesGrid = swiper.slidesSizesGrid;
            var params = swiper.params.coverflowEffect;
            var isHorizontal = swiper.isHorizontal();
            var transform = swiper.translate;
            var center = isHorizontal ? -transform + (swiperWidth / 2) : -transform + (swiperHeight / 2);
            var rotate = isHorizontal ? params.rotate : -params.rotate;
            var translate = params.depth;
            for (var i = 0, length = slides.length; i < length; i += 1) {
                var $slideEl = slides.eq(i);
                var slideSize = slidesSizesGrid[i];
                var slideOffset = $slideEl[0].swiperSlideOffset;
                var offsetMultiplier = ((center - slideOffset - (slideSize / 2)) / slideSize) * params.modifier;
                var rotateY = isHorizontal ? rotate * offsetMultiplier : 0;
                var rotateX = isHorizontal ? 0 : rotate * offsetMultiplier;
                var translateZ = -translate * Math.abs(offsetMultiplier);
                var translateY = isHorizontal ? 0 : params.stretch * (offsetMultiplier);
                var translateX = isHorizontal ? params.stretch * (offsetMultiplier) : 0;
                if (Math.abs(translateX) < 0.001) {
                    translateX = 0;
                }
                if (Math.abs(translateY) < 0.001) {
                    translateY = 0;
                }
                if (Math.abs(translateZ) < 0.001) {
                    translateZ = 0;
                }
                if (Math.abs(rotateY) < 0.001) {
                    rotateY = 0;
                }
                if (Math.abs(rotateX) < 0.001) {
                    rotateX = 0;
                }
                var slideTransform = "translate3d(" + translateX + "px," + translateY + "px," + translateZ + "px)  rotateX(" + rotateX + "deg) rotateY(" + rotateY + "deg)";
                $slideEl.transform(slideTransform);
                $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;
                if (params.slideShadows) {
                    var $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');
                    var $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');
                    if ($shadowBeforeEl.length === 0) {
                        $shadowBeforeEl = $$1(("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'left' : 'top') + "\"></div>"));
                        $slideEl.append($shadowBeforeEl);
                    }
                    if ($shadowAfterEl.length === 0) {
                        $shadowAfterEl = $$1(("<div class=\"swiper-slide-shadow-" + (isHorizontal ? 'right' : 'bottom') + "\"></div>"));
                        $slideEl.append($shadowAfterEl);
                    }
                    if ($shadowBeforeEl.length) {
                        $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;
                    }
                    if ($shadowAfterEl.length) {
                        $shadowAfterEl[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;
                    }
                }
            }
            if (Support.pointerEvents || Support.prefixedPointerEvents) {
                var ws = $wrapperEl[0].style;
                ws.perspectiveOrigin = center + "px 50%";
            }
        }, setTransition: function setTransition(duration) {
            var swiper = this;
            swiper.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);
        },
    };
    var EffectCoverflow = {
        name: 'effect-coverflow',
        params: {coverflowEffect: {rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: true,},},
        create: function create() {
            var swiper = this;
            Utils.extend(swiper, {
                coverflowEffect: {
                    setTranslate: Coverflow.setTranslate.bind(swiper),
                    setTransition: Coverflow.setTransition.bind(swiper),
                },
            });
        },
        on: {
            beforeInit: function beforeInit() {
                var swiper = this;
                if (swiper.params.effect !== 'coverflow') {
                    return;
                }
                swiper.classNames.push(((swiper.params.containerModifierClass) + "coverflow"));
                swiper.classNames.push(((swiper.params.containerModifierClass) + "3d"));
                swiper.params.watchSlidesProgress = true;
                swiper.originalParams.watchSlidesProgress = true;
            }, setTranslate: function setTranslate() {
                var swiper = this;
                if (swiper.params.effect !== 'coverflow') {
                    return;
                }
                swiper.coverflowEffect.setTranslate();
            }, setTransition: function setTransition(duration) {
                var swiper = this;
                if (swiper.params.effect !== 'coverflow') {
                    return;
                }
                swiper.coverflowEffect.setTransition(duration);
            },
        },
    };
    var components = [Device$2, Support$2, Browser$2, Resize, Observer$1, Virtual$1, Keyboard$1, Mousewheel$1, Navigation$1, Pagination$1, Scrollbar$1, Parallax$1, Zoom$1, Lazy$1, Controller$1, A11y, History$1, HashNavigation$1, Autoplay$1, EffectFade, EffectCube, EffectFlip, EffectCoverflow];
    if (typeof Swiper$1.use === 'undefined') {
        Swiper$1.use = Swiper$1.Class.use;
        Swiper$1.installModule = Swiper$1.Class.installModule;
    }
    Swiper$1.use(components);
    return Swiper$1;
})));

(function (factory) {
    if (typeof define == 'function' && define.amd)
        define('picker', ['jquery'], factory)
    else if (typeof exports == 'object')
        module.exports = factory(require('jquery'))
    else this.Picker = factory(jQuery)
}(function ($) {
    var $window = $(window)
    var $document = $(document)
    var $html = $(document.documentElement)
    var supportsTransitions = document.documentElement.style.transition != null

    function PickerConstructor(ELEMENT, NAME, COMPONENT, OPTIONS) {
        if (!ELEMENT) return PickerConstructor
        var
            IS_DEFAULT_THEME = false, STATE = {id: ELEMENT.id || 'P' + Math.abs(~~(Math.random() * new Date()))},
            SETTINGS = COMPONENT ? $.extend(true, {}, COMPONENT.defaults, OPTIONS) : OPTIONS || {},
            CLASSES = $.extend({}, PickerConstructor.klasses(), SETTINGS.klass), $ELEMENT = $(ELEMENT),
            PickerInstance = function () {
                return this.start()
            }, P = PickerInstance.prototype = {
                constructor: PickerInstance, $node: $ELEMENT, start: function () {
                    if (STATE && STATE.start) return P
                    STATE.methods = {}
                    STATE.start = true
                    STATE.open = false
                    STATE.type = ELEMENT.type
                    ELEMENT.autofocus = ELEMENT == getActiveElement()
                    ELEMENT.readOnly = !SETTINGS.editable
                    ELEMENT.id = ELEMENT.id || STATE.id
                    if (ELEMENT.type != 'text') {
                        ELEMENT.type = 'text'
                    }
                    P.component = new COMPONENT(P, SETTINGS)
                    P.$root = $('<div class="' + CLASSES.picker + '" id="' + ELEMENT.id + '_root" />')
                    prepareElementRoot()
                    P.$holder = $(createWrappedComponent()).appendTo(P.$root)
                    prepareElementHolder()
                    if (SETTINGS.formatSubmit) {
                        prepareElementHidden()
                    }
                    prepareElement()
                    if (SETTINGS.containerHidden) $(SETTINGS.containerHidden).append(P._hidden)
                    else $ELEMENT.after(P._hidden)
                    if (SETTINGS.container) $(SETTINGS.container).append(P.$root)
                    else $ELEMENT.after(P.$root)
                    P.on({
                        start: P.component.onStart,
                        render: P.component.onRender,
                        stop: P.component.onStop,
                        open: P.component.onOpen,
                        close: P.component.onClose,
                        set: P.component.onSet
                    }).on({
                        start: SETTINGS.onStart,
                        render: SETTINGS.onRender,
                        stop: SETTINGS.onStop,
                        open: SETTINGS.onOpen,
                        close: SETTINGS.onClose,
                        set: SETTINGS.onSet
                    })
                    IS_DEFAULT_THEME = isUsingDefaultTheme(P.$holder[0])
                    if (ELEMENT.autofocus) {
                        P.open()
                    }
                    return P.trigger('start').trigger('render')
                }, render: function (entireComponent) {
                    if (entireComponent) {
                        P.$holder = $(createWrappedComponent())
                        prepareElementHolder()
                        P.$root.html(P.$holder)
                    } else P.$root.find('.' + CLASSES.box).html(P.component.nodes(STATE.open))
                    return P.trigger('render')
                }, stop: function () {
                    if (!STATE.start) return P
                    P.close()
                    if (P._hidden) {
                        P._hidden.parentNode.removeChild(P._hidden)
                    }
                    P.$root.remove()
                    $ELEMENT.removeClass(CLASSES.input).removeData(NAME)
                    setTimeout(function () {
                        $ELEMENT.off('.' + STATE.id)
                    }, 0)
                    ELEMENT.type = STATE.type
                    ELEMENT.readOnly = false
                    P.trigger('stop')
                    STATE.methods = {}
                    STATE.start = false
                    return P
                }, open: function (dontGiveFocus) {
                    if (STATE.open) return P
                    $ELEMENT.addClass(CLASSES.active)
                    aria(ELEMENT, 'expanded', true)
                    setTimeout(function () {
                        P.$root.addClass(CLASSES.opened)
                        aria(P.$root[0], 'hidden', false)
                    }, 0)
                    if (dontGiveFocus !== false) {
                        STATE.open = true
                        if (IS_DEFAULT_THEME) {
                            $('body').css('overflow', 'hidden').css('padding-right', '+=' + getScrollbarWidth())
                        }
                        focusPickerOnceOpened()
                        $document.on('click.' + STATE.id + ' focusin.' + STATE.id, function (event) {
                            var target = getRealEventTarget(event, ELEMENT)
                            if (!event.isSimulated && target != ELEMENT && target != document && event.which != 3) {
                                P.close(target === P.$holder[0])
                            }
                        }).on('keydown.' + STATE.id, function (event) {
                            var
                                keycode = event.keyCode, keycodeToMove = P.component.key[keycode],
                                target = getRealEventTarget(event, ELEMENT)
                            if (keycode == 27) {
                                P.close(true)
                            } else if (target == P.$holder[0] && (keycodeToMove || keycode == 13)) {
                                event.preventDefault()
                                if (keycodeToMove) {
                                    PickerConstructor._.trigger(P.component.key.go, P, [PickerConstructor._.trigger(keycodeToMove)])
                                } else if (!P.$root.find('.' + CLASSES.highlighted).hasClass(CLASSES.disabled)) {
                                    P.set('select', P.component.item.highlight)
                                    if (SETTINGS.closeOnSelect) {
                                        P.close(true)
                                    }
                                }
                            } else if ($.contains(P.$root[0], target) && keycode == 13) {
                                event.preventDefault()
                                target.click()
                            }
                        })
                    }
                    return P.trigger('open')
                }, close: function (giveFocus) {
                    if (giveFocus) {
                        if (SETTINGS.editable) {
                            ELEMENT.focus()
                        } else {
                            P.$holder.off('focus.toOpen').focus()
                            setTimeout(function () {
                                P.$holder.on('focus.toOpen', handleFocusToOpenEvent)
                            }, 0)
                        }
                    }
                    $ELEMENT.removeClass(CLASSES.active)
                    aria(ELEMENT, 'expanded', false)
                    setTimeout(function () {
                        P.$root.removeClass(CLASSES.opened + ' ' + CLASSES.focused)
                        aria(P.$root[0], 'hidden', true)
                    }, 0)
                    if (!STATE.open) return P
                    STATE.open = false
                    if (IS_DEFAULT_THEME) {
                        $('body').css('overflow', '').css('padding-right', '-=' + getScrollbarWidth())
                    }
                    $document.off('.' + STATE.id)
                    return P.trigger('close')
                }, clear: function (options) {
                    return P.set('clear', null, options)
                }, set: function (thing, value, options) {
                    var thingItem, thingValue, thingIsObject = $.isPlainObject(thing),
                        thingObject = thingIsObject ? thing : {}
                    options = thingIsObject && $.isPlainObject(value) ? value : options || {}
                    if (thing) {
                        if (!thingIsObject) {
                            thingObject[thing] = value
                        }
                        for (thingItem in thingObject) {
                            thingValue = thingObject[thingItem]
                            if (thingItem in P.component.item) {
                                if (thingValue === undefined) thingValue = null
                                P.component.set(thingItem, thingValue, options)
                            }
                            if ((thingItem == 'select' || thingItem == 'clear') && SETTINGS.updateInput) {
                                $ELEMENT.val(thingItem == 'clear' ? '' : P.get(thingItem, SETTINGS.format)).trigger('change')
                            }
                        }
                        P.render()
                    }
                    return options.muted ? P : P.trigger('set', thingObject)
                }, get: function (thing, format) {
                    thing = thing || 'value'
                    if (STATE[thing] != null) {
                        return STATE[thing]
                    }
                    if (thing == 'valueSubmit') {
                        if (P._hidden) {
                            return P._hidden.value
                        }
                        thing = 'value'
                    }
                    if (thing == 'value') {
                        return ELEMENT.value
                    }
                    if (thing in P.component.item) {
                        if (typeof format == 'string') {
                            var thingValue = P.component.get(thing)
                            return thingValue ? PickerConstructor._.trigger(P.component.formats.toString, P.component, [format, thingValue]) : ''
                        }
                        return P.component.get(thing)
                    }
                }, on: function (thing, method, internal) {
                    var thingName, thingMethod, thingIsObject = $.isPlainObject(thing),
                        thingObject = thingIsObject ? thing : {}
                    if (thing) {
                        if (!thingIsObject) {
                            thingObject[thing] = method
                        }
                        for (thingName in thingObject) {
                            thingMethod = thingObject[thingName]
                            if (internal) {
                                thingName = '_' + thingName
                            }
                            STATE.methods[thingName] = STATE.methods[thingName] || []
                            STATE.methods[thingName].push(thingMethod)
                        }
                    }
                    return P
                }, off: function () {
                    var i, thingName, names = arguments;
                    for (i = 0, namesCount = names.length; i < namesCount; i += 1) {
                        thingName = names[i]
                        if (thingName in STATE.methods) {
                            delete STATE.methods[thingName]
                        }
                    }
                    return P
                }, trigger: function (name, data) {
                    var _trigger = function (name) {
                        var methodList = STATE.methods[name]
                        if (methodList) {
                            methodList.map(function (method) {
                                PickerConstructor._.trigger(method, P, [data])
                            })
                        }
                    }
                    _trigger('_' + name)
                    _trigger(name)
                    return P
                }
            }

        function createWrappedComponent() {
            return PickerConstructor._.node('div', PickerConstructor._.node('div', PickerConstructor._.node('div', PickerConstructor._.node('div', P.component.nodes(STATE.open), CLASSES.box), CLASSES.wrap), CLASSES.frame), CLASSES.holder, 'tabindex="-1"')
        }

        function prepareElement() {
            $ELEMENT.data(NAME, P).addClass(CLASSES.input).val($ELEMENT.data('value') ? P.get('select', SETTINGS.format) : ELEMENT.value).on('focus.' + STATE.id + ' click.' + STATE.id, function (event) {
                event.preventDefault()
                P.open()
            })
            if (!SETTINGS.editable) {
                $ELEMENT.on('keydown.' + STATE.id, handleKeydownEvent)
            }
            aria(ELEMENT, {haspopup: true, expanded: false, readonly: false, owns: ELEMENT.id + '_root'})
        }

        function prepareElementRoot() {
            aria(P.$root[0], 'hidden', true)
        }

        function prepareElementHolder() {
            P.$holder.on({
                keydown: handleKeydownEvent, 'focus.toOpen': handleFocusToOpenEvent, blur: function () {
                    $ELEMENT.removeClass(CLASSES.target)
                }, focusin: function (event) {
                    P.$root.removeClass(CLASSES.focused)
                    event.stopPropagation()
                }, 'mousedown click': function (event) {
                    var target = getRealEventTarget(event, ELEMENT)
                    if (target != P.$holder[0]) {
                        event.stopPropagation()
                        if (event.type == 'mousedown' && !$(target).is('input, select, textarea, button, option')) {
                            event.preventDefault()
                            P.$holder.eq(0).focus()
                        }
                    }
                }
            }).on('click', '[data-pick], [data-nav], [data-clear], [data-close]', function () {
                var $target = $(this), targetData = $target.data(),
                    targetDisabled = $target.hasClass(CLASSES.navDisabled) || $target.hasClass(CLASSES.disabled),
                    activeElement = getActiveElement()
                activeElement = activeElement && ((activeElement.type || activeElement.href) ? activeElement : null);
                if (targetDisabled || activeElement && !$.contains(P.$root[0], activeElement)) {
                    P.$holder.eq(0).focus()
                }
                if (!targetDisabled && targetData.nav) {
                    P.set('highlight', P.component.item.highlight, {nav: targetData.nav})
                } else if (!targetDisabled && 'pick' in targetData) {
                    P.set('select', targetData.pick)
                    if (SETTINGS.closeOnSelect) {
                        P.close(true)
                    }
                } else if (targetData.clear) {
                    P.clear()
                    if (SETTINGS.closeOnClear) {
                        P.close(true)
                    }
                } else if (targetData.close) {
                    P.close(true)
                }
            })
        }

        function prepareElementHidden() {
            var name
            if (SETTINGS.hiddenName === true) {
                name = ELEMENT.name
                ELEMENT.name = ''
            } else {
                name = [typeof SETTINGS.hiddenPrefix == 'string' ? SETTINGS.hiddenPrefix : '', typeof SETTINGS.hiddenSuffix == 'string' ? SETTINGS.hiddenSuffix : '_submit']
                name = name[0] + ELEMENT.name + name[1]
            }
            P._hidden = $('<input ' + 'type=hidden ' + 'name="' + name + '"' + ($ELEMENT.data('value') || ELEMENT.value ? ' value="' + P.get('select', SETTINGS.formatSubmit) + '"' : '') + '>')[0]
            $ELEMENT.on('change.' + STATE.id, function () {
                P._hidden.value = ELEMENT.value ? P.get('select', SETTINGS.formatSubmit) : ''
            })
        }

        function focusPickerOnceOpened() {
            if (IS_DEFAULT_THEME && supportsTransitions) {
                P.$holder.find('.' + CLASSES.frame).one('transitionend', function () {
                    P.$holder.eq(0).focus()
                })
            } else {
                setTimeout(function () {
                    P.$holder.eq(0).focus()
                }, 0)
            }
        }

        function handleFocusToOpenEvent(event) {
            event.stopPropagation()
            $ELEMENT.addClass(CLASSES.target)
            P.$root.addClass(CLASSES.focused)
            P.open()
        }

        function handleKeydownEvent(event) {
            var keycode = event.keyCode, isKeycodeDelete = /^(8|46)$/.test(keycode)
            if (keycode == 27) {
                P.close(true)
                return false
            }
            if (keycode == 32 || isKeycodeDelete || !STATE.open && P.component.key[keycode]) {
                event.preventDefault()
                event.stopPropagation()
                if (isKeycodeDelete) {
                    P.clear().close()
                } else {
                    P.open()
                }
            }
        }

        return new PickerInstance()
    }

    PickerConstructor.klasses = function (prefix) {
        prefix = prefix || 'picker'
        return {
            picker: prefix,
            opened: prefix + '--opened',
            focused: prefix + '--focused',
            input: prefix + '__input',
            active: prefix + '__input--active',
            target: prefix + '__input--target',
            holder: prefix + '__holder',
            frame: prefix + '__frame',
            wrap: prefix + '__wrap',
            box: prefix + '__box'
        }
    }

    function isUsingDefaultTheme(element) {
        var theme, prop = 'position'
        if (element.currentStyle) {
            theme = element.currentStyle[prop]
        } else if (window.getComputedStyle) {
            theme = getComputedStyle(element)[prop]
        }
        return theme == 'fixed'
    }

    function getScrollbarWidth() {
        if ($html.height() <= $window.height()) {
            return 0
        }
        var $outer = $('<div style="visibility:hidden;width:100px" />').appendTo('body')
        var widthWithoutScroll = $outer[0].offsetWidth
        $outer.css('overflow', 'scroll')
        var $inner = $('<div style="width:100%" />').appendTo($outer)
        var widthWithScroll = $inner[0].offsetWidth
        $outer.remove()
        return widthWithoutScroll - widthWithScroll
    }

    function getRealEventTarget(event, ELEMENT) {
        var path = []
        if (event.path) {
            path = event.path
        }
        if (event.originalEvent && event.originalEvent.path) {
            path = event.originalEvent.path
        }
        if (path && path.length > 0) {
            if (ELEMENT && path.indexOf(ELEMENT) >= 0) {
                return ELEMENT
            } else {
                return path[0]
            }
        }
        return event.target
    }

    PickerConstructor._ = {
        group: function (groupObject) {
            var
                loopObjectScope, nodesList = '', counter = PickerConstructor._.trigger(groupObject.min, groupObject)
            for (; counter <= PickerConstructor._.trigger(groupObject.max, groupObject, [counter]); counter += groupObject.i) {
                loopObjectScope = PickerConstructor._.trigger(groupObject.item, groupObject, [counter])
                nodesList += PickerConstructor._.node(groupObject.node, loopObjectScope[0], loopObjectScope[1], loopObjectScope[2])
            }
            return nodesList
        }, node: function (wrapper, item, klass, attribute) {
            if (!item) return ''
            item = $.isArray(item) ? item.join('') : item
            klass = klass ? ' class="' + klass + '"' : ''
            attribute = attribute ? ' ' + attribute : ''
            return '<' + wrapper + klass + attribute + '>' + item + '</' + wrapper + '>'
        }, lead: function (number) {
            return (number < 10 ? '0' : '') + number
        }, trigger: function (callback, scope, args) {
            return typeof callback == 'function' ? callback.apply(scope, args || []) : callback
        }, digits: function (string) {
            return (/\d/).test(string[1]) ? 2 : 1
        }, isDate: function (value) {
            return {}.toString.call(value).indexOf('Date') > -1 && this.isInteger(value.getDate())
        }, isInteger: function (value) {
            return {}.toString.call(value).indexOf('Number') > -1 && value % 1 === 0
        }, ariaAttr: ariaAttr
    }
    PickerConstructor.extend = function (name, Component) {
        $.fn[name] = function (options, action) {
            var componentData = this.data(name)
            if (options == 'picker') {
                return componentData
            }
            if (componentData && typeof options == 'string') {
                return PickerConstructor._.trigger(componentData[options], componentData, [action])
            }
            return this.each(function () {
                var $this = $(this)
                if (!$this.data(name)) {
                    new PickerConstructor(this, name, Component, options)
                }
            })
        }
        $.fn[name].defaults = Component.defaults
    }

    function aria(element, attribute, value) {
        if ($.isPlainObject(attribute)) {
            for (var key in attribute) {
                ariaSet(element, key, attribute[key])
            }
        } else {
            ariaSet(element, attribute, value)
        }
    }

    function ariaSet(element, attribute, value) {
        element.setAttribute((attribute == 'role' ? '' : 'aria-') + attribute, value)
    }

    function ariaAttr(attribute, data) {
        if (!$.isPlainObject(attribute)) {
            attribute = {attribute: data}
        }
        data = ''
        for (var key in attribute) {
            var attr = (key == 'role' ? '' : 'aria-') + key, attrVal = attribute[key]
            data += attrVal == null ? '' : attr + '="' + attribute[key] + '"'
        }
        return data
    }

    function getActiveElement() {
        try {
            return document.activeElement
        } catch (err) {
        }
    }

    return PickerConstructor
}));

!function (e) {
    "function" == typeof define && define.amd ? define(["./picker", "jquery"], e) : "object" == typeof exports ? module.exports = e(require("./picker.js"), require("jquery")) : e(Picker, jQuery)
}(function (e, f) {
    var t, g = e._;

    function a(t, a) {
        function e() {
            return r.currentStyle ? "rtl" == r.currentStyle.direction : "rtl" == getComputedStyle(t.$root[0]).direction
        }

        var n, i = this, r = t.$node[0], o = r.value, s = t.$node.data("value"), l = s || o,
            c = s ? a.formatSubmit : a.format;
        i.settings = a, i.$node = t.$node, i.queue = {
            min: "measure create",
            max: "measure create",
            now: "now create",
            select: "parse create validate",
            highlight: "parse navigate create validate",
            view: "parse create validate viewset",
            disable: "deactivate",
            enable: "activate"
        }, i.item = {}, i.item.clear = null, i.item.disable = (a.disable || []).slice(0), i.item.enable = -(!0 === (n = i.item.disable)[0] ? n.shift() : -1), i.set("min", a.min).set("max", a.max).set("now"), l ? i.set("select", l, {
            format: c,
            defaultValue: !0
        }) : i.set("select", null).set("highlight", i.item.now), i.key = {
            40: 7, 38: -7, 39: function () {
                return e() ? -1 : 1
            }, 37: function () {
                return e() ? 1 : -1
            }, go: function (e) {
                var t = i.item.highlight, a = new Date(t.year, t.month, t.date + e);
                i.set("highlight", a, {interval: e}), this.render()
            }
        }, t.on("render", function () {
            t.$root.find("." + a.klass.selectMonth).on("change", function () {
                var e = this.value;
                e && (t.set("highlight", [t.get("view").year, e, t.get("highlight").date]), t.$root.find("." + a.klass.selectMonth).trigger("focus"))
            }), t.$root.find("." + a.klass.selectYear).on("change", function () {
                var e = this.value;
                e && (t.set("highlight", [e, t.get("view").month, t.get("highlight").date]), t.$root.find("." + a.klass.selectYear).trigger("focus"))
            })
        }, 1).on("open", function () {
            var e = "";
            i.disabled(i.get("now")) && (e = ":not(." + a.klass.buttonToday + ")"), t.$root.find("button" + e + ", select").attr("disabled", !1)
        }, 1).on("close", function () {
            t.$root.find("button, select").attr("disabled", !0)
        }, 1)
    }

    function n(e, t, a) {
        var n = e.match(/[^\x00-\x7F]+|\w+/)[0];
        return a.mm || a.m || (a.m = t.indexOf(n) + 1), n.length
    }

    function i(e) {
        return e.match(/\w+/)[0].length
    }

    a.prototype.set = function (t, a, n) {
        var i = this, e = i.item;
        return null === a ? ("clear" == t && (t = "select"), e[t] = a) : (e["enable" == t ? "disable" : "flip" == t ? "enable" : t] = i.queue[t].split(" ").map(function (e) {
            return a = i[e](t, a, n)
        }).pop(), "select" == t ? i.set("highlight", e.select, n) : "highlight" == t ? i.set("view", e.highlight, n) : t.match(/^(flip|min|max|disable|enable)$/) && (e.select && i.disabled(e.select) && i.set("select", e.select, n), e.highlight && i.disabled(e.highlight) && i.set("highlight", e.highlight, n))), i
    }, a.prototype.get = function (e) {
        return this.item[e]
    }, a.prototype.create = function (e, t, a) {
        var n, i = this;
        return (t = void 0 === t ? e : t) == -1 / 0 || t == 1 / 0 ? n = t : t = f.isPlainObject(t) && g.isInteger(t.pick) ? t.obj : f.isArray(t) ? (t = new Date(t[0], t[1], t[2]), g.isDate(t) ? t : i.create().obj) : g.isInteger(t) || g.isDate(t) ? i.normalize(new Date(t), a) : i.now(e, t, a), {
            year: n || t.getFullYear(),
            month: n || t.getMonth(),
            date: n || t.getDate(),
            day: n || t.getDay(),
            obj: n || t,
            pick: n || t.getTime()
        }
    }, a.prototype.createRange = function (e, t) {
        function a(e) {
            return !0 === e || f.isArray(e) || g.isDate(e) ? n.create(e) : e
        }

        var n = this;
        return g.isInteger(e) || (e = a(e)), g.isInteger(t) || (t = a(t)), g.isInteger(e) && f.isPlainObject(t) ? e = [t.year, t.month, t.date + e] : g.isInteger(t) && f.isPlainObject(e) && (t = [e.year, e.month, e.date + t]), {
            from: a(e),
            to: a(t)
        }
    }, a.prototype.withinRange = function (e, t) {
        return e = this.createRange(e.from, e.to), t.pick >= e.from.pick && t.pick <= e.to.pick
    }, a.prototype.overlapRanges = function (e, t) {
        var a = this;
        return e = a.createRange(e.from, e.to), t = a.createRange(t.from, t.to), a.withinRange(e, t.from) || a.withinRange(e, t.to) || a.withinRange(t, e.from) || a.withinRange(t, e.to)
    }, a.prototype.now = function (e, t, a) {
        return t = new Date, a && a.rel && t.setDate(t.getDate() + a.rel), this.normalize(t, a)
    }, a.prototype.navigate = function (e, t, a) {
        var n, i, r, o, s = f.isArray(t), l = f.isPlainObject(t), c = this.item.view;
        if (s || l) {
            for (o = l ? (i = t.year, r = t.month, t.date) : (i = +t[0], r = +t[1], +t[2]), a && a.nav && c && c.month !== r && (i = c.year, r = c.month), i = (n = new Date(i, r + (a && a.nav ? a.nav : 0), 1)).getFullYear(), r = n.getMonth(); new Date(i, r, o).getMonth() !== r;) --o;
            t = [i, r, o]
        }
        return t
    }, a.prototype.normalize = function (e) {
        return e.setHours(0, 0, 0, 0), e
    }, a.prototype.measure = function (e, t) {
        return g.isInteger(t) ? t = this.now(e, t, {rel: t}) : t ? "string" == typeof t && (t = this.parse(e, t)) : t = "min" == e ? -1 / 0 : 1 / 0, t
    }, a.prototype.viewset = function (e, t) {
        return this.create([t.year, t.month, 1])
    }, a.prototype.validate = function (e, a, t) {
        var n, i, r, o, s = this, l = a, c = t && t.interval ? t.interval : 1, d = -1 === s.item.enable, u = s.item.min,
            h = s.item.max, m = d && s.item.disable.filter(function (e) {
                if (f.isArray(e)) {
                    var t = s.create(e).pick;
                    t < a.pick ? n = !0 : t > a.pick && (i = !0)
                }
                return g.isInteger(e)
            }).length;
        if ((!t || !t.nav && !t.defaultValue) && (!d && s.disabled(a) || d && s.disabled(a) && (m || n || i) || !d && (a.pick <= u.pick || a.pick >= h.pick))) for (d && !m && (!i && 0 < c || !n && c < 0) && (c *= -1); s.disabled(a) && (1 < Math.abs(c) && (a.month < l.month || a.month > l.month) && (a = l, c = 0 < c ? 1 : -1), a.pick <= u.pick ? (r = !0, c = 1, a = s.create([u.year, u.month, u.date + (a.pick === u.pick ? 0 : -1)])) : a.pick >= h.pick && (o = !0, c = -1, a = s.create([h.year, h.month, h.date + (a.pick === h.pick ? 0 : 1)])), !r || !o);) a = s.create([a.year, a.month, a.date + c]);
        return a
    }, a.prototype.disabled = function (t) {
        var a = this, e = a.item.disable.filter(function (e) {
            return g.isInteger(e) ? t.day === (a.settings.firstDay ? e : e - 1) % 7 : f.isArray(e) || g.isDate(e) ? t.pick === a.create(e).pick : f.isPlainObject(e) ? a.withinRange(e, t) : void 0
        });
        return e = e.length && !e.filter(function (e) {
            return f.isArray(e) && "inverted" == e[3] || f.isPlainObject(e) && e.inverted
        }).length, -1 === a.item.enable ? !e : e || t.pick < a.item.min.pick || t.pick > a.item.max.pick
    }, a.prototype.parse = function (e, n, t) {
        var i = this, r = {};
        return n && "string" == typeof n ? (t && t.format || ((t = t || {}).format = i.settings.format), i.formats.toArray(t.format).map(function (e) {
            var t = i.formats[e], a = t ? g.trigger(t, i, [n, r]) : e.replace(/^!/, "").length;
            t && (r[e] = n.substr(0, a)), n = n.substr(a)
        }), [r.yyyy || r.yy, (r.mm || r.m) - 1, r.dd || r.d]) : n
    }, a.prototype.formats = {
        d: function (e, t) {
            return e ? g.digits(e) : t.date
        }, dd: function (e, t) {
            return e ? 2 : g.lead(t.date)
        }, ddd: function (e, t) {
            return e ? i(e) : this.settings.weekdaysShort[t.day]
        }, dddd: function (e, t) {
            return e ? i(e) : this.settings.weekdaysFull[t.day]
        }, m: function (e, t) {
            return e ? g.digits(e) : t.month + 1
        }, mm: function (e, t) {
            return e ? 2 : g.lead(t.month + 1)
        }, mmm: function (e, t) {
            var a = this.settings.monthsShort;
            return e ? n(e, a, t) : a[t.month]
        }, mmmm: function (e, t) {
            var a = this.settings.monthsFull;
            return e ? n(e, a, t) : a[t.month]
        }, yy: function (e, t) {
            return e ? 2 : ("" + t.year).slice(2)
        }, yyyy: function (e, t) {
            return e ? 4 : t.year
        }, toArray: function (e) {
            return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)
        }, toString: function (e, t) {
            var a = this;
            return a.formats.toArray(e).map(function (e) {
                return g.trigger(a.formats[e], a, [0, t]) || e.replace(/^!/, "")
            }).join("")
        }
    }, a.prototype.isDateExact = function (e, t) {
        return g.isInteger(e) && g.isInteger(t) || "boolean" == typeof e && "boolean" == typeof t ? e === t : (g.isDate(e) || f.isArray(e)) && (g.isDate(t) || f.isArray(t)) ? this.create(e).pick === this.create(t).pick : !(!f.isPlainObject(e) || !f.isPlainObject(t)) && (this.isDateExact(e.from, t.from) && this.isDateExact(e.to, t.to))
    }, a.prototype.isDateOverlap = function (e, t) {
        var a = this.settings.firstDay ? 1 : 0;
        return g.isInteger(e) && (g.isDate(t) || f.isArray(t)) ? (e = e % 7 + a) === this.create(t).day + 1 : g.isInteger(t) && (g.isDate(e) || f.isArray(e)) ? (t = t % 7 + a) === this.create(e).day + 1 : !(!f.isPlainObject(e) || !f.isPlainObject(t)) && this.overlapRanges(e, t)
    }, a.prototype.flipEnable = function (e) {
        var t = this.item;
        t.enable = e || (-1 == t.enable ? 1 : -1)
    }, a.prototype.deactivate = function (e, t) {
        var n = this, i = n.item.disable.slice(0);
        return "flip" == t ? n.flipEnable() : !1 === t ? (n.flipEnable(1), i = []) : !0 === t ? (n.flipEnable(-1), i = []) : t.map(function (e) {
            for (var t, a = 0; a < i.length; a += 1) if (n.isDateExact(e, i[a])) {
                t = !0;
                break
            }
            t || (g.isInteger(e) || g.isDate(e) || f.isArray(e) || f.isPlainObject(e) && e.from && e.to) && i.push(e)
        }), i
    }, a.prototype.activate = function (e, t) {
        var r = this, o = r.item.disable, s = o.length;
        return "flip" == t ? r.flipEnable() : !0 === t ? (r.flipEnable(1), o = []) : !1 === t ? (r.flipEnable(-1), o = []) : t.map(function (e) {
            var t, a, n, i;
            for (n = 0; n < s; n += 1) {
                if (a = o[n], r.isDateExact(a, e)) {
                    t = o[n] = null, i = !0;
                    break
                }
                if (r.isDateOverlap(a, e)) {
                    f.isPlainObject(e) ? (e.inverted = !0, t = e) : f.isArray(e) ? (t = e)[3] || t.push("inverted") : g.isDate(e) && (t = [e.getFullYear(), e.getMonth(), e.getDate(), "inverted"]);
                    break
                }
            }
            if (t) for (n = 0; n < s; n += 1) if (r.isDateExact(o[n], e)) {
                o[n] = null;
                break
            }
            if (i) for (n = 0; n < s; n += 1) if (r.isDateOverlap(o[n], e)) {
                o[n] = null;
                break
            }
            t && o.push(t)
        }), o.filter(function (e) {
            return null != e
        })
    }, a.prototype.nodes = function (l) {
        function e(e) {
            return g.node("div", " ", d.klass["nav" + (e ? "Next" : "Prev")] + (e && h.year >= p.year && h.month >= p.month || !e && h.year <= f.year && h.month <= f.month ? " " + d.klass.navDisabled : ""), "data-nav=" + (e || -1) + " " + g.ariaAttr({
                role: "button",
                controls: c.$node[0].id + "_table"
            }) + ' title="' + (e ? d.labelMonthNext : d.labelMonthPrev) + '"')
        }

        function t() {
            var t = d.showMonthsShort ? d.monthsShort : d.monthsFull;
            return d.selectMonths ? g.node("select", g.group({
                min: 0,
                max: 11,
                i: 1,
                node: "option",
                item: function (e) {
                    return [t[e], 0, "value=" + e + (h.month == e ? " selected" : "") + (h.year == f.year && e < f.month || h.year == p.year && e > p.month ? " disabled" : "")]
                }
            }), d.klass.selectMonth, (l ? "" : "disabled") + " " + g.ariaAttr({controls: c.$node[0].id + "_table"}) + ' title="' + d.labelMonthSelect + '"') : g.node("div", t[h.month], d.klass.month)
        }

        function a() {
            var t = h.year, e = !0 === d.selectYears ? 5 : ~~(d.selectYears / 2);
            if (e) {
                var a = f.year, n = p.year, i = t - e, r = t + e;
                if (i < a && (r += a - i, i = a), n < r) {
                    var o = i - a, s = r - n;
                    i -= s < o ? s : o, r = n
                }
                return g.node("select", g.group({
                    min: i, max: r, i: 1, node: "option", item: function (e) {
                        return [e, 0, "value=" + e + (t == e ? " selected" : "")]
                    }
                }), d.klass.selectYear, (l ? "" : "disabled") + " " + g.ariaAttr({controls: c.$node[0].id + "_table"}) + ' title="' + d.labelYearSelect + '"')
            }
            return g.node("div", t, d.klass.year)
        }

        var n, i, c = this, d = c.settings, r = c.item, o = r.now, s = r.select, u = r.highlight, h = r.view,
            m = r.disable, f = r.min, p = r.max,
            y = (n = (d.showWeekdaysFull ? d.weekdaysFull : d.weekdaysShort).slice(0), i = d.weekdaysFull.slice(0), d.firstDay && (n.push(n.shift()), i.push(i.shift())), g.node("thead", g.node("tr", g.group({
                min: 0,
                max: 6,
                i: 1,
                node: "th",
                item: function (e) {
                    return [n[e], d.klass.weekdays, 'scope=col title="' + i[e] + '"']
                }
            }))));
        return g.node("div", (d.selectYears ? a() + t() : t() + a()) + e() + e(1), d.klass.header) + g.node("table", y + g.node("tbody", g.group({
            min: 0,
            max: 5,
            i: 1,
            node: "tr",
            item: function (e) {
                var t = d.firstDay && 0 === c.create([h.year, h.month, 1]).day ? -7 : 0;
                return [g.group({
                    min: 7 * e - h.day + t + 1, max: function () {
                        return this.min + 7 - 1
                    }, i: 1, node: "td", item: function (e) {
                        e = c.create([h.year, h.month, e + (d.firstDay ? 1 : 0)]);
                        var t, a = s && s.pick == e.pick, n = u && u.pick == e.pick,
                            i = m && c.disabled(e) || e.pick < f.pick || e.pick > p.pick,
                            r = g.trigger(c.formats.toString, c, [d.format, e]);
                        return [g.node("div", e.date, ((t = [d.klass.day]).push(h.month == e.month ? d.klass.infocus : d.klass.outfocus), o.pick == e.pick && t.push(d.klass.now), a && t.push(d.klass.selected), n && t.push(d.klass.highlighted), i && t.push(d.klass.disabled), t.join(" ")), "data-pick=" + e.pick + " " + g.ariaAttr({
                            role: "gridcell",
                            label: r,
                            selected: !(!a || c.$node.val() !== r) || null,
                            activedescendant: !!n || null,
                            disabled: !!i || null
                        })), "", g.ariaAttr({role: "presentation"})]
                    }
                })]
            }
        })), d.klass.table, 'id="' + c.$node[0].id + '_table" ' + g.ariaAttr({
            role: "grid",
            controls: c.$node[0].id,
            readonly: !0
        })) + g.node("div", g.node("button", d.today, d.klass.buttonToday, "type=button data-pick=" + o.pick + (l && !c.disabled(o) ? "" : " disabled") + " " + g.ariaAttr({controls: c.$node[0].id})) + g.node("button", d.clear, d.klass.buttonClear, "type=button data-clear=1" + (l ? "" : " disabled") + " " + g.ariaAttr({controls: c.$node[0].id})) + g.node("button", d.close, d.klass.buttonClose, "type=button data-close=true " + (l ? "" : " disabled") + " " + g.ariaAttr({controls: c.$node[0].id})), d.klass.footer)
    }, a.defaults = {
        labelMonthNext: "Next month",
        labelMonthPrev: "Previous month",
        labelMonthSelect: "Select a month",
        labelYearSelect: "Select a year",
        monthsFull: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
        monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        weekdaysFull: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
        weekdaysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        today: "Today",
        clear: "Clear",
        close: "Close",
        closeOnSelect: !0,
        closeOnClear: !0,
        updateInput: !0,
        format: "d mmmm, yyyy",
        klass: {
            table: (t = e.klasses().picker + "__") + "table",
            header: t + "header",
            navPrev: t + "nav--prev",
            navNext: t + "nav--next",
            navDisabled: t + "nav--disabled",
            month: t + "month",
            year: t + "year",
            selectMonth: t + "select--month",
            selectYear: t + "select--year",
            weekdays: t + "weekday",
            day: t + "day",
            disabled: t + "day--disabled",
            selected: t + "day--selected",
            highlighted: t + "day--highlighted",
            now: t + "day--today",
            infocus: t + "day--infocus",
            outfocus: t + "day--outfocus",
            footer: t + "footer",
            buttonClear: t + "button--clear",
            buttonToday: t + "button--today",
            buttonClose: t + "button--close"
        }
    }, e.extend("pickadate", a)
});

var takvimvarmi = false;

function getTodayString() {
    var strNow = "It is now: " + new Date().toLocaleDateString() + ", ";
    strNow += new Date().toLocaleTimeString();
    return strNow;
}

var arrWeekdays = new Array('PZT', 'SAL', 'ÇAR', 'PER', 'CUM', 'CMT', 'PAZ');
var arrMonths = new Array(['Ocak', 31], ['Şubat', 28], ['Mart', 31], ['Nisan', 30], ['Mayıs', 31], ['Haziran', 30], ['Temmuz', 31], ['Ağustos', 31], ['Eylül', 30], ['Ekim', 31], ['Kasım', 30], ['Aralık', 31]);

function isLeapYear(year) {
    endvalue = false;
    if (!isNaN(year)) {
        if (year % 4 === 0) {
            endvalue = true;
            if (year % 100 === 0) {
                endvalue = false;
                if (year % 400 === 0) {
                    endvalue = true;
                }
            }
        }
    }
    return endvalue;
}

function makeMonthTable(calendarYear, monthIndex) {
    if (isNaN(calendarYear) || (calendarYear.toString().length != 4)) {
        return "bad year number";
    }
    if (isNaN(monthIndex) || (monthIndex < 0) || (monthIndex > 11)) {
        return "bad month number";
    }
    var start_date = new Date(calendarYear, monthIndex, 0);
    var start_weekday = start_date.getDay();
    var endDay = arrMonths[monthIndex][1];
    if ((monthIndex == 1) && (isLeapYear(calendarYear))) {
        endDay = 29
    }
    strMonthTable = "<div class='is_fulltable-item'>\n";
    strMonthTable += "<h5 class='is_fulltable-header'>" + arrMonths[monthIndex][0].toUpperCase() + " " + calendarYear + "</h5> ";
    strMonthTable += "<table class='table'><thead><tr>";
    for (var i = 0; i < 7; i++) {
        strMonthTable += "<th scope='col'><span>" + arrWeekdays[i].toUpperCase() + "</span></th>";
    }
    strMonthTable += "</tr></thead><tbody>\n"
    var day = 1;
    var count = 0;
    while (day <= endDay) {
        strMonthTable += "<tr>";
        for (var i = 0; i < 7; i++) {
            var strId = '';
            var strDayNumber = '';
            var strClass = '';
            if ((count >= start_weekday) && (day <= endDay)) {
                console.log(new Date().getFullYear() + '/' + new Date().getMonth() + '/' + new Date().getDate());
                if (Date.parse(new Date().getFullYear() + '/' + parseInt(new Date().getMonth() + 1) + '/' + new Date().getDate()) > Date.parse(calendarYear + '/' + (parseInt(monthIndex) + 1) + '/' + day)) {
                    strClass = " class='is_fulltable-d'";
                }
                strDayNumber = day;
                var monthnumber = "";
                var daynumber = "";
                if (day < 10) {
                    daynumber = "0" + day;
                } else {
                    daynumber = day;
                }
                if (parseInt(monthIndex + 1) < 10) {
                    monthnumber = "0" + parseInt(monthIndex + 1)
                } else {
                    monthnumber = parseInt(monthIndex + 1)
                }
                strId = " id='" + calendarYear + "-" + monthnumber + "-" + daynumber + "'";
                day++;
            }
            strMonthTable += "<td " + strId + " " + strClass + "><span>" + strDayNumber + "</span></td>";
            count++;
        }
        strMonthTable += "</tr>\n";
    }
    strMonthTable += "</tbody></table></div>\n";
    return strMonthTable;
}

function highlightDay(oDate, CSS_Class) {
    var dDay = oDate.getDate();
    var dMonth = oDate.getMonth();
    var dYear = oDate.getFullYear();
    var strId = dYear + "_" + dMonth + "_" + dDay;
    var dCel = document.getElementById(strId);
    if (dCel) {
        dCel.className = CSS_Class;
    }
}

function makeYearCalendar(calendarYear) {
    strYearCalendar = "";
    for (var i = 0; i < 12; i++) {
        strYearCalendar += makeMonthTable(calendarYear, i);
    }
    return strYearCalendar;
}

function takvimGetirPriority(yil) {
    if ($("#dgiris_tarih").attr("data-page") == "detail") {
        if (takvimvarmi == false || takvimvarmi === false) {
            var today = new Date();
            var currentDay = today.getDate();
            var currentWeekDay = today.getDay();
            var currentMonth = today.getMonth();
            var d = new Date();
            var monthCount = d.getMonth();
            var currentYearFull = d.getFullYear();
            if (yil === "" || isNaN(yil) || yil.toString().length != 4) {
                var currentYear = today.getFullYear();
                var ilkTiklama = true;
            } else {
                var currentYear = yil;
                var ilkTiklama = false;
            }
            var eksiyil = parseInt(currentYear - 1);
            var yeniyil = parseInt(parseInt(currentYear) + 1);
            if (today.getFullYear() - eksiyil > 0) {
                eksiyil = parseInt(today.getFullYear());
            }
            if (yeniyil - today.getFullYear() >= 2) {
                yeniyil = parseInt(parseInt(today.getFullYear()) + 2);
            }
            $("#gecmistarih").attr("onclick", "takvimGetirPriority('" + eksiyil + "')");
            $("#gelecektarih").attr("onclick", "takvimGetirPriority('" + yeniyil + "')");
            var birthday = new Date(currentYear, 3, 2);
            var divCalendar = document.getElementById('calendar');
            divCalendar.innerHTML = '<div style="position: absolute;color:#fff;background: rgba(0,0,0,0.7);font-weight:bold;font-size:1.2em;width: 100%;height: 100%;padding: 10%;z-index: 99;" class="doluluk_loading"><center>Lütfen Bekleyiniz...</center></div>';
            divCalendar.innerHTML += makeYearCalendar(currentYear);
            if (currentYearFull == currentYear) {
                $nextYear = $(makeYearCalendar(currentYear + 1));
                $(divCalendar).append($nextYear);
            }
            highlightDay(today, 'today');
            highlightDay(birthday, 'birthday');
            var villa_id = parseInt($("#data_villa").text());
            var status;
            var tarihler = [];
            var from_$input = $('#mgiris_tarih').pickadate(), from_picker = from_$input.pickadate('picker')
            var to_$input = $('#mcikis_tarih').pickadate(), to_picker = to_$input.pickadate('picker');
            $.ajax({
                type: "GET",
                url: url + "/villa_status/" + villa_id + "/" + currentYear + "?priority=true&" + 'version=' + Math.floor(Date.now() / 1000),
                success: function (sonc) {
                    $(".doluluk_loading").remove();
                    var data = $.parseJSON(sonc);
                    if (data != "") {
                        data.forEach(function (date) {
                            if (date.status == "2") {
                                if (date.start != true && date.end != true) {
                                    var res = date.tarih.split("-");
                                    var ay = parseInt(parseInt(res[1]) - 1);
                                    tarihler.push([res[0], ay, res[2]]);
                                }
                            }
                            var item = $("#" + date.tarih);
                            if (!item.hasClass("is_fulltable-d")) {
                                if (date.status == "3") {
                                    status = "is_fulltable-o";
                                    var yazilacakstartbeklemede = "is_fulltable-left-o";
                                    var yazilacakendbeklemede = "is_fulltable-right-o";
                                } else if (date.status == "2") {
                                    status = "is_fulltable-f";
                                    var yazilacakstartdolu = "is_fulltable-left-f";
                                    var yazilacakenddolu = "is_fulltable-right-f";
                                }
                                item.addClass(status);
                                if (date.start == true) {
                                    item.addClass("is_fulltable-left");
                                    if (item.hasClass("is_fulltable-right") && item.hasClass("is_fulltable-f")) {
                                        item.addClass(yazilacakenddolu);
                                    }
                                    if (item.hasClass("is_fulltable-right") && item.hasClass("is_fulltable-o")) {
                                        item.addClass(yazilacakendbeklemede);
                                    }
                                }
                                if (date.end == true) {
                                    item.addClass("is_fulltable-right");
                                    if (item.hasClass("is_fulltable-left") && item.hasClass("is_fulltable-f")) {
                                        item.addClass(yazilacakstartdolu);
                                    }
                                    if (item.hasClass("is_fulltable-left") && item.hasClass("is_fulltable-o")) {
                                        item.addClass(yazilacakstartbeklemede);
                                    }
                                }
                            }
                        });
                    }
                    from_picker.set("disable", tarihler);
                    to_picker.set("disable", tarihler);
                }
            });
            if (currentYearFull == currentYear) {
                if (ilkTiklama == true) {
                    $(document).find('#doluluk-takvimi').find('.is_fulltable-item:lt(' + monthCount + ')').remove();
                    $(document).find('#doluluk-takvimi').find('.is_fulltable-item:gt(' + -(12 - monthCount + 1) + ' )').remove();
                }
            }
        }
    }
}

function takvimGetir(yil) {
    if ($("#dgiris_tarih").attr("data-page") == "detail") {
        if (takvimvarmi == false || takvimvarmi === false) {
            var today = new Date();
            var currentDay = today.getDate();
            var currentWeekDay = today.getDay();
            var currentMonth = today.getMonth();
            var d = new Date();
            var monthCount = d.getMonth();
            var currentYearFull = d.getFullYear();
            if (yil === "" || isNaN(yil) || yil.toString().length != 4) {
                var currentYear = today.getFullYear();
                var ilkTiklama = true;
            } else {
                var currentYear = yil;
                var ilkTiklama = false;
            }
            var eksiyil = parseInt(currentYear - 1);
            var yeniyil = parseInt(parseInt(currentYear) + 1);
            if (today.getFullYear() - eksiyil > 0) {
                eksiyil = parseInt(today.getFullYear());
            }
            if (yeniyil - today.getFullYear() >= 2) {
                yeniyil = parseInt(parseInt(today.getFullYear()) + 2);
            }
            $("#gecmistarih").attr("onclick", "takvimGetirPriority('" + eksiyil + "')");
            $("#gelecektarih").attr("onclick", "takvimGetirPriority('" + yeniyil + "')");
            var birthday = new Date(currentYear, 3, 2);
            var divCalendar = document.getElementById('calendar');
            divCalendar.innerHTML = '<div style="position: absolute;color:#fff;background: rgba(0,0,0,0.7);font-weight:bold;font-size:1.2em;width: 100%;height: 100%;padding: 10%;z-index: 99;" class="doluluk_loading"><center>Lütfen Bekleyiniz...</center></div>';
            divCalendar.innerHTML += makeYearCalendar(currentYear);
            if (currentYearFull == currentYear) {
                $nextYear = $(makeYearCalendar(currentYear + 1));
                $(divCalendar).append($nextYear);
            }
            highlightDay(today, 'today');
            highlightDay(birthday, 'birthday');
            var villa_id = parseInt($("#data_villa").text());
            var status;
            var tarihler = [];
            var from_$input = $('#mgiris_tarih').pickadate(), from_picker = from_$input.pickadate('picker')
            var to_$input = $('#mcikis_tarih').pickadate(), to_picker = to_$input.pickadate('picker');
            $.ajax({
                type: "GET", url: url + "/villa_status/" + villa_id + "/" + currentYear + '?version=' + Math.floor(Date.now() / 1000), success: function (sonc) {
                    $(".doluluk_loading").remove();
                    var data = $.parseJSON(sonc);
                    if (data != "") {
                        data.forEach(function (date) {
                            if (date.status == "2") {
                                if (date.start != true && date.end != true) {
                                    var res = date.tarih.split("-");
                                    var ay = parseInt(parseInt(res[1]) - 1);
                                    tarihler.push([res[0], ay, res[2]]);
                                }
                            }
                            var item = $("#" + date.tarih);
                            if (!item.hasClass("is_fulltable-d")) {
                                if (date.status == "3") {
                                    status = "is_fulltable-o";
                                    var yazilacakstartbeklemede = "is_fulltable-left-o";
                                    var yazilacakendbeklemede = "is_fulltable-right-o";
                                } else if (date.status == "2") {
                                    status = "is_fulltable-f";
                                    var yazilacakstartdolu = "is_fulltable-left-f";
                                    var yazilacakenddolu = "is_fulltable-right-f";
                                }
                                item.addClass(status);
                                if (date.start == true) {
                                    item.addClass("is_fulltable-left");
                                    if (item.hasClass("is_fulltable-right") && item.hasClass("is_fulltable-f")) {
                                        item.addClass(yazilacakenddolu);
                                    }
                                    if (item.hasClass("is_fulltable-right") && item.hasClass("is_fulltable-o")) {
                                        item.addClass(yazilacakendbeklemede);
                                    }
                                }
                                if (date.end == true) {
                                    item.addClass("is_fulltable-right");
                                    if (item.hasClass("is_fulltable-left") && item.hasClass("is_fulltable-f")) {
                                        item.addClass(yazilacakstartdolu);
                                    }
                                    if (item.hasClass("is_fulltable-left") && item.hasClass("is_fulltable-o")) {
                                        item.addClass(yazilacakstartbeklemede);
                                    }
                                }
                            }
                        });
                    }
                    from_picker.set("disable", tarihler);
                    to_picker.set("disable", tarihler);
                }
            });
            if (currentYearFull == currentYear) {
                if (ilkTiklama == true) {
                    $(document).find('#doluluk-takvimi').find('.is_fulltable-item:lt(' + monthCount + ')').remove();
                    $(document).find('#doluluk-takvimi').find('.is_fulltable-item:gt(' + -(12 - monthCount + 1) + ' )').remove();
                }
            }
        }
    }
}

function initSwiper(data_id, mySwiper) {
    $("#" + data_id).find('.swiper-pagination,.swiper-button-next,.swiper-button-prev,.swiper-scrollbar').addClass('active' + data_id);
    mySwiper = new Swiper('.' + data_id, {
        loop: false,
        lazy: true,
        preloadImages: false,
        speed: 400,
        pagination: '.swiper-pagination.active' + data_id,
        nextButton: '.swiper-button-next.active' + data_id,
        prevButton: '.swiper-button-prev.active' + data_id,
        scrollbar: '.swiper-scrollbar.active' + data_id,
        preventClicksPropagation: false
    });
}

function rezervasyonButtonControl(device) {
    var total = parseInt($("#" + device + "total_person").text());
    if (total <= 1) {
        $(".Dropdown").css("border", "1px solid red");
        $("#kisi_uyari").show();
        return false;
    } else {
        $(".Dropdown").css("border", "none");
        $("#kisi_uyari").hide();
       // $("#rezervasyonForm").submit();
       $("#OnRezervasyonM1").modal('show');
    }
}

$(".arttir").click(function () {

    var input = $(this).parent().find('input');
    var degisken = input.val();
    degisken = parseInt(degisken);
    if (degisken < 20) {
        degisken += 1;
    }
    input.val(degisken);
});


$(".eksilt").click(function () {

    var input = $(this).parent().find('input');
    var degisken = input.val();
    degisken = parseInt(degisken);
    if (degisken > 0) {
        degisken -= 1;
    }
    input.val(degisken);
});


function arttir(x, max, device, pos) {

    var allTotal = $('#' + device + '-adult-button').data('max');
    allTotal = parseInt(allTotal);

    var child = $('input[name="child"]').val();
    var adult = $('input[name="adult"]').val();

    var eklenen = parseInt(child) + parseInt(adult);

    max = parseInt(max);


    var total = parseInt($("#" + device + "total_person").text());
    var postotal = parseInt($("#" + device + "total_" + pos).text());

    var sayi = parseInt($(x).prev().val());


    if (pos == "baby") {
        if (sayi < max) {
            sayi++;
            $(x).prev().attr("value", sayi);
            if (pos != "baby") {
                total++;
                $("#" + device + "total_person").text(total);
            }
            postotal++;
            $("#" + device + "total_" + pos).text(postotal);

            if (total <= 1) {
                $(".Dropdown").css("border", "1px solid red");
                $("#kisi_uyari").show();
                return false;
            } else {
                $(".Dropdown").css("border", "none");
                $("#kisi_uyari").hide();
            }
        }
    } else {
        if (eklenen < allTotal) {
            sayi++;
            $(x).prev().attr("value", sayi);
            if (pos != "baby") {
                total++;
                $("#" + device + "total_person").text(total);
            }
            postotal++;
            $("#" + device + "total_" + pos).text(postotal);

            if (total <= 1) {
                $(".Dropdown").css("border", "1px solid red");
                $("#kisi_uyari").show();
                return false;
            } else {
                $(".Dropdown").css("border", "none");
                $("#kisi_uyari").hide();
            }
        }
    }

}

function eksilt(x, min, device, pos) {
    min = parseInt(min);
    var sayi = parseInt($(x).next().val());
    var total = parseInt($("#" + device + "total_person").text());
    var postotal = parseInt($("#" + device + "total_" + pos).text());
    if (sayi > min) {
        sayi--;
        $(x).next().attr("value", sayi);
        if (pos != "baby") {
            total--;
            $("#" + device + "total_person").text(total);
        }
        postotal--
        $("#" + device + "total_" + pos).text(postotal);
        if (total <= 1) {
            $(".Dropdown").css("border", "1px solid red");
            $("#kisi_uyari").show();
            return false;
        } else {
            $(".Dropdown").css("border", "none");
            $("#kisi_uyari").hide();
        }
    }
}

$(document).ready(function () {
    $(".Villa_Search_M-G-buton").click(function () {
        $(".Villa_Search_M-G").slideToggle();
    });
    var mySwiper, sliders = [], reachedEnd = false, slideChanged = false;
    var mySwiper = new Swiper('.swiper-container', {
        observer: true,
        observeParents: true,
        loop: false,
        nested: true,
        lazy: true,
        init: true,
        preloadImages: false,
        speed: 400,
        initialSlide: 0,
        updateOnWindowResize: true,
        touchEventsTarget: '.swiper-container',

        navigation: {nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev',},
        on: {
            activeIndexChange: function () {
                slideChanged = true;
            },
            orientationchange: function () {
                this.navigation.update();
            },
            slideChange: function () {

            }, reachEnd: function () {

            }, touchEnd: function () {
                if (this.realIndex + 2 >= this.slides.length) {
                }
                // setTimeout(function () {

                let secilenKat = $(document).find('.Villa_detay-floor-head').find('.selected-zemin').find('a').attr('href');
                let secilenOda = $(document).find(secilenKat).find('.selected-kat').find('a').attr('href');

                if ($(document).find(secilenKat).find(secilenOda).find('.swiper-button-next').hasClass('swiper-button-disabled')) {

                    $next = $(document).find('a[href="' + secilenOda + '"]').closest('.kat-secenek').next('.kat-secenek');
                    if ($next.length == 0) {
                        $next_zemin = $(document).find('.selected-zemin').next('.nav-item');
                        if ($next_zemin.length == 0) {
                            $(document).find('.Villa_detay-floor-head').find('.nav-item').removeClass('selected-zemin');
                            $(document).find('.Villa_detay-floor-head').find('.nav-item:first-child').find('a').trigger('click');
                            $(document).find('.Villa_detay-floor-head').find('.nav-item:first-child').addClass('selected-zemin')
                            let ilkZeminKat = $(document).find('.Villa_detay-floor-head').find('.nav-item:first-child').find('a').attr('href');
                            $(document).find(ilkZeminKat).find('.kat-secenek').removeClass('selected-kat');
                            $(document).find(ilkZeminKat).find('.kat-secenek:first-child').addClass('selected-kat');
                            $(document).find(ilkZeminKat).find('.kat-secenek:first-child').find('a').trigger('click');


                        } else {
                            $(document).find('.Villa_detay-floor-head').find('.nav-item').removeClass('selected-zemin');
                            $next_zemin.addClass('selected-zemin');
                            let seciliKat = $next_zemin.find('a').attr('href');
                            $(document).find(seciliKat).find('.kat-secenek').removeClass('selected-kat')
                            $(document).find(seciliKat).find('.kat-secenek:first').addClass('selected-kat');
                            $next_zemin.find('a').trigger('click');
                        }
                    } else {
                        $next.find('a').trigger('click');
                        $(document).find('.selected-kat').removeClass('kat-secenek');
                        $next.addClass('kat-secenek');
                    }

                }
                // }, 300);
            }, slideChange: function () {
                reachedEnd = true;
            }, imagesReady: function () {
                reachedEnd = false;


            }, touchStart: function () {


            }, fromEdge: function () {


            }
        }
    });

    $("ul.nav-tabs a").click(function (e) {
        e.preventDefault();
        reachedEnd = false;
        $tabPane = $($(this).attr('href'));
        setTimeout(function () {
            try {
                $($tabPane.find('.kat-secenek').first().find('a').attr('href')).find('.swiper-container')[0].swiper.update();
            } catch (err) {

            }
        }, 200);
        $(this).tab('show');
    });
    $('.kat-secenek').on('shown.bs.tab', function (e) {
        var paneTarget = $(e.target).attr('href');
        var $thePane = $('.tab-pane' + paneTarget);
        var paneIndex = $thePane.index();
        $thePane.find('.swiper-container')[0].swiper.update()
        if ($thePane.find('.swiper-container').length > 0 && 0 === $thePane.find('.swiper-slide-active').length) {
        }
    });

    $(document).find('.kat-secenek:first-child').addClass('selected-kat');
    $(document).find('.Villa_detay-floor-head').find('.nav-item:first-child').addClass('selected-zemin');

    $(document).on('click', '.kat-secenek', function () {
        $(document).find('.kat-secenek').removeClass('selected-kat');
        $(this).addClass('selected-kat');

    })
    $(document).on('click', '.Villa_detay-floor-head .nav-item', function () {
        $(document).find('.Villa_detay-floor-head').find('.nav-item').removeClass('selected-zemin');
        $(this).addClass('selected-zemin')

    })

    $('.swiper-container-floor-x').each(function () {
        $(this).on({
            mouseenter: function (e) {
                var data_id = $(this).attr("data-id");
                initSwiper(data_id, mySwiper);
            }
        });
    });
    $('.swiper-button-next').on('click', function () {


    })
    var swiper2, swiper3, swiper4, swiper5, swiper8;
    var w = $(window).width(), h = $(window).height();
    $('.selectpicke').selectpicker();
    if (w < 769) {
    } else {
        $('.selectpicke').selectpicker();
    }
    $(window).resize(function () {
        var w = $(window).width(), h = $(window).height();
    });
    var $videoSrc, $videoSrc2;
    $('.video-btn').click(function () {
        $videoSrc = $(this).data("src");
    });
    $('.video-btn2').click(function () {
        $videoSrc = $(this).data("src");
    });
    $('#myModal').on('shown.bs.modal', function (e) {
        $("#video").attr('src', $videoSrc + "?rel=0&showinfo=0&modestbranding=1&autoplay=1");
    })
    $('#myModal').on('hide.bs.modal', function (e) {
        $("#video").attr('src', $videoSrc);
    })
    $('#myModalSSS').on('shown.bs.modal', function (e) {
        $("#videoSSS").attr('src', $videoSrc + "?rel=0&showinfo=0&modestbranding=1&autoplay=1");
    })
    $('#myModalSSS').on('hide.bs.modal', function (e) {
        $("#videoSSS").attr('src', $videoSrc);
    })
    $("#villaListele").css("display", "none");
    var url = $('meta[name="base_url"]').attr('content');
    var page = $('meta[name="page"]').attr('content');
    var searchTimer = 0;

    $('#searchinput').on('propertychange  input paste', function (e) {
        clearTimeout(searchTimer);
        //e.stopImmediatePropagation();

        let $this = $(this);
        var textString = $this.val();
        var listelenecek = $("#villaListele");
        listelenecek.html("");
        if (textString != "" && textString.length > 2) {
            !$(document).find('.icon.icon-search.blinking_icon').length && $(document).find('.icon.icon-search').addClass('blinking_icon')
            searchTimer = setTimeout(function () {
                if (textString != "" && textString.length > 2) {
                    listelenecek.css("display", "block");
                    $.ajax({
                        type: "GET", url: url + "/realtime_search/" + textString, success: function (sonc) {
                            listelenecek.html(sonc.view);
                            listelenecek.addClass("Navtop-livesearch");
                            $("#villaListele").parent().fadeIn();
                        }
                    }).always(function () {
                        $(document).find('.icon.icon-search').removeClass('blinking_icon')
                    });
                }
            }, 250);
        } else {
            listelenecek.css("display", "none");
        }


    });
    $('#searchinput').on('keydown', function (e) {
        if (e.which == 13) {
            e.preventDefault();
            var liste = $("#villaListele a");
            if (liste.children().length === 1) {
                liste.children(0).addClass("Navtop-livesearch-focus").click();
            }
        }
    });
    var scrollBottom = $(document).height() - $(window).height() - $(window).scrollTop();
    if ($(document).scrollTop() > 530) {
        $(".Rezervasyon").addClass('Rezervasyon-fixed');
        $(".Rezervasyon-slogan").slideUp();
        if (scrollBottom < 500) {
            $(".Rezervasyon").removeClass('Rezervasyon-fixed');
        }
    } else {
        $(".Rezervasyon").removeClass('Rezervasyon-fixed');
        $(".Rezervasyon-slogan").slideDown();
    }
    $(window).scroll(function () {
        if (w > 991) {
            if ($(document).scrollTop() > 150) {
                $(".Rez-right").addClass('Rez-right-fix');
            } else {
                $(".Rez-right").removeClass('Rez-right-fix');
            }
        }
    });
    if (w > 991) {
        if ($(document).scrollTop() > 250) {
            $(".Villa_detay-menu").slideDown();
            $(".Villa_detay-menu").addClass('Villa_detay-menu-active');
            $(".Navtop-detay").slideUp(10);
        } else {
            $(".Navtop-detay").removeClass('Navtop-search-active');
            $(".Villa_detay-menu").slideUp();
            $(".Navtop-detay").slideDown(10);
        }
    }
    if (w < 992) {
        swiper2 = new Swiper('.swiper-container-belgeler', {
            loop: false,
            slidesPerView: 2.3,
            speed: 1000,
            spaceBetween: 10,
            keyboard: {enabled: true},
            clickable: true,
            grabCursor: true,
            navigation: false
        });
        swiper2 = new Swiper('.swiper-container-teklif', {
            loop: false,
            slidesPerView: 1,
            speed: 1000,
            draggable: false,
            onlyExternal: true,
            allowTouchMove: false,
            simulateTouch: false,
            spaceBetween: 10,
            navigation: {nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev'}
        });
    }
    swiper2 = new Swiper('.swiper-container-belgeler', {
        loop: false,
        on: {
            click: function () {
                this.slideToClickedSlide()
            }
        },
        slidesPerView: 4,
        speed: 1000,
        spaceBetween: 50,
        autoHeight: true,
        autoWidth: true,
        keyboard: {enabled: true},
        clickable: true,
        grabCursor: true,
        navigation: {nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev'}
    });
    swiper3 = new Swiper('.swiper-container-pv', {
        loop: false,
        spaceBetween: 15,
        slidesPerView: 1.04,
        keyboard: {enabled: true},
        clickable: true,
        grabCursor: true,
        pagination: {el: '.swiper-pagination',},
    });
    swiper4 = new Swiper('.swiper-container-fv', {
        loop: false,
        spaceBetween: 20,
        slidesPerView: 1.04,
        keyboard: {enabled: true},
        clickable: true,
        grabCursor: true,
        pagination: {el: '.swiper-pagination'}
    });
    swiper5 = new Swiper('.swiper-container-kv', {
        loop: false,
        spaceBetween: 15,
        slidesPerView: 2.1,
        keyboard: {enabled: true},
        clickable: true,
        grabCursor: true,
        pagination: {el: '.swiper-pagination',},
    });
    $('.Villa_detay-menu a  , .Villa_detayM-rez_fix, .Rez-right .Rez-left-gonder, .scrollTop').click(function (event) {
        if (this.hash !== "") {
            event.preventDefault();
            var hash = this.hash;
            $('div').removeClass("focus");
            $(".nav-menuX").removeClass('active');
            $(hash).addClass("focus");
            $(this).addClass('active');
            setTimeout(function () {
                $(hash).removeClass("focus");
            }, 2000);
            $('html').animate({scrollTop: $(hash).offset().top - 100}, 1000);
            $(".navbar-collapse").collapse('hide');
        }
    });
    $(window).scroll(function () {
        if ($(document).scrollTop() > 540) {
            $(".Villa_detayM-rez_fix").addClass('flex');
            $(".Villa_detayM-whatsapp").addClass('Villa_detayM-whatsapp-active');
        } else {
            $(".Villa_detayM-rez_fix").removeClass('flex');
            $(".Villa_detayM-whatsapp").removeClass('Villa_detayM-whatsapp-active');
        }
        if ($(document).scrollTop() > 50) {
            $(".Navtop").addClass('Navtop-back');
        } else {
            $(".Navtop").removeClass('Navtop-back');
        }
        if (w > 991) {
            if ($(document).scrollTop() > 400) {
                $(".Villa_Search").addClass('Villa_Search-fixed');
                $(".Navtop-search").addClass('Navtop-search-active');
                if ($('#dgiris_tarih').val() != "" || $('#dcikis_tarih').val() != "") {
                    $(".desktop_takvim_label").css("visibility", "hidden");
                }
            } else {
                $(".desktop_takvim_label").css("visibility", "visible");
                $(".Villa_Search").removeClass('Villa_Search-fixed');
                $(".Navtop-search").removeClass('Navtop-search-active')
            }
        }
        var scrollBottom = $(document).height() - $(window).height() - $(window).scrollTop();
        if ($(document).scrollTop() > 530) {
            $(".Rezervasyon").addClass('Rezervasyon-fixed');
            $(".Rezervasyon-slogan").slideUp();
            if (scrollBottom < 500) {
                $(".Rezervasyon").removeClass('Rezervasyon-fixed');
            }
        } else {
            $(".Rezervasyon").removeClass('Rezervasyon-fixed');
            $(".Rezervasyon-slogan").slideDown();
        }
        var scrollBottom = $(document).height() - $(window).height() - $(window).scrollTop();
        if (scrollBottom < 580) {
            $(".Favoriler-right").addClass('Favoriler-right-absu');
        } else {
            $(".Favoriler-right").removeClass('Favoriler-right-absu');
        }
        if (w > 991) {
            if ($(document).scrollTop() > 500) {
                $(".Villa_detay-menu").slideDown();
                $(".Villa_detay-menu").addClass('Villa_detay-menu-active');
                $(".Navtop-detay").slideUp();
            } else {
                $(".Navtop-detay").slideDown();
                $(".Villa_detay-menu").slideUp();
                $(".Villa_detay-menu").removeClass('Villa_detay-menu-active');
            }
        }
        if ($(document).scrollTop() > 500) {
            $(".Rez-right .Rez-left-gonder ").slideUp();
        } else {
            $(".Rez-right .Rez-left-gonder ").slideDown();
        }
    });
    $('#slick').slick({autoplay: true, autoplaySpeed: 6000, speed: 1500, fade: true, arrows: true});
    $('svg').tooltip();
    $(".btn-menu ").click(function () {
        $(".overlay").fadeToggle(200);
        $(this).toggleClass('btn-menu-open').toggleClass('btn-menu-close');
        $(".vsecenek ").removeClass('vsecenek-active');
        $(".overlay ").removeClass('overlay-pasif');
        $(".vsecenek-geri").removeClass('Close');
        $(".Navtop ").toggleClass('laci');
        $("body ").toggleClass('ov');
        $("#main").toggleClass('ov');
        $(".Villa_detayM-whatsapp").fadeToggle(200);
        setTimeout(function () {
        }, 400);
    });
    $(".Search-icon ").click(function () {
        $(".Search-menu").slideToggle(200);
        $(this).toggleClass('Search-icon-open');
        $(".btn-menu ").toggleClass('Close');
    });
    $(".G_search-buton ").click(function () {
        $(".G_search-menu").slideDown();
        $(".G_search-buton").slideUp();
    });
    $(".G_search-menu-buton").click(function () {
        $(".G_search-menu").slideUp();
        $(".G_search-buton").slideDown();
    });
    $(".Search-button a").click(function () {
        $(".Search-overlay").fadeToggle(200);
        $(this).toggleClass('Search-open').toggleClass('Search-close');
    });
    $("#secenek").click(function () {
        $(".vsecenek ").toggleClass('vsecenek-active');
        $(".overlay ").toggleClass('overlay-pasif');
        $(".vsecenek-geri").removeClass('Close');
    });
    $(".vsecenek-geri").click(function () {
        $(".vsecenek ").removeClass('vsecenek-active');
        $(".overlay ").removeClass('overlay-pasif');
        $(this).addClass('Close');
    });
    $('.nav-item div.dropdown').hover(function () {
        $(this).find('.dropdown-menu').stop(true, true).delay(0).slideDown(400);
    }, function () {
        $(this).find('.dropdown-menu').stop(true, true).delay(0).slideUp(400);
    });
    $(".Teklif-item-property-in input").click(function () {
        if ($(this).is(":checked")) {
            $(this).parent().parent().addClass("Teklif-item-property-active");
        } else {
            $(this).parent().parent().removeClass("Teklif-item-property-active");
        }
    });
    $(".step").click(function () {
        if ($(this).attr("data-tur") == "aile") {
            $(".balayi").css("display", "none");
            $(".aile").css("display", "block");
        } else {
            $(".aile").css("display", "none");
            $(".balayi").css("display", "block");
        }
        if ($(this).attr('data-climate') != "undefined" && $(this).attr('data-climate') != null && $(this).attr('data-climate') !== null && $(this).attr('data-climate') != "") {
            $(".climate").css("display", "none");
            switch ($(this).attr('data-climate')) {
                case"spring":
                    $(".spring").css("display", "flex");
                    break;
                case"summer":
                    $(".summer").css("display", "flex");
                    break;
                case"winter":
                    $(".winter").css("display", "flex");
                    break;
                case"autumn":
                    $(".autumn").css("display", "flex");
                    break;
            }
        }
        if ($(this).attr('data-date') != "undefined" && $(this).attr('data-date') != null && $(this).attr('data-date') !== null && $(this).attr('data-date') != "") {
            if ($(this).attr("data-date") == "tarih_var") {
                $(this).parent().parent().parent().removeClass("part-active").addClass("part-passive");
                $(".part3").prependTo("form");
                $(".part3").addClass('part-passive').removeClass("part-active");
                $(".part4").prependTo("form");
                $(".part4").addClass('part-passive').removeClass("part-active");
                $(".part5").before($(".part2"));
                $(".part2").addClass("part-active").removeClass("part-middle_active").removeClass('part-passive');
            } else {
                $(this).parent().parent().parent().removeClass("part-active").addClass("part-passive");
                $(".part2").prependTo('form');
                $(".part2").addClass('part-passive').removeClass("part-active");
                $(".part5").before($(".part3"));
                $(".part3").after($(".part4"));
                $(".part3").removeClass("part-middle_active").removeClass('part-passive').addClass("part-active");
                $(".part4").removeClass('part-passive').addClass("part-middle_active");
            }
        } else {
            $(this).parent().parent().parent().removeClass("part-active").addClass("part-passive");
            $(this).parent().parent().parent().next().addClass("part-active").removeClass("part-middle_active");
            $(this).parent().parent().parent().next().next().addClass("part-middle_active").removeClass("part-passive");
        }
    });
    $(".step-back").click(function () {
        $(this).parent().parent().parent().removeClass("part-active").addClass("part-middle_active");
        $(this).parent().parent().parent().prev().addClass("part-active").removeClass("part-passive");
    });
    var separator = ' - ', dateFormat = 'YYYY/MM/DD';
    var options = {
        autoUpdateInput: false,
        autoApply: true,
        locale: {format: dateFormat, separator: separator, applyLabel: 'tamam', cancelLabel: 'iptal'},
        minDate: moment().add(1, 'days'),
        maxDate: moment().add(359, 'days'),
        opens: "right"
    };
    $(window).scroll(function () {
        if ($(this).scrollTop() > 100) {
            $('#UpTotop').fadeIn();
        } else {
            $('#UpTotop').fadeOut();
        }
    });
    $('#UpTotop').click(function () {
        $('body,html').animate({scrollTop: 0}, 800)
    });
    var $elem = $('body');
    'use strict';
    (function ($) {
        var container = [];
        $('#gallery').find('figure').each(function () {
            var $link = $(this).find('a'), item = {
                src: $link.attr('href'),
                w: $link.data('width'),
                h: $link.data('height'),
                title: $link.data('caption')
            };
            container.push(item);
        });
        $('#gallery a, .galleryxyz').click(function (event) {
            event.preventDefault();
            var $pswp = $('.pswp')[0],
                options = {index: $(this).parent('figure').index(), bgOpacity: 0.85, showHideOpacity: true};
            var gallery = new PhotoSwipe($pswp, PhotoSwipeUI_Default, container, options);
            gallery.init();
        });
    }(jQuery));
    (function ($) {
        var container = [];
        $('#gallerybelgeler').find('figure').each(function () {
            var $link = $(this).find('a'), item = {
                src: $link.attr('href'),
                w: $link.data('width'),
                h: $link.data('height'),
                title: $link.data('caption')
            };
            container.push(item);
        });
        $('#gallerybelgeler a').click(function (event) {
            event.preventDefault();
            var $pswp = $('.pswp')[0],
                options = {index: $(this).parent('figure').data('index'), bgOpacity: 0.85, showHideOpacity: true};
            var gallery = new PhotoSwipe($pswp, PhotoSwipeUI_Default, container, options);
            gallery.init();
        });
    }(jQuery));
    var str = $("#yazi").text();
    var res = str.substr(0, 50);
    searchCheck();
    var $checkboxes = $('input[type="checkbox"]');
    $checkboxes.change(function () {
        searchCheck();
    });
});

function searchControl() {
    var $checkboxes = $('.category_check:input[type="checkbox"]');
    var countCheckedCheckboxes = $checkboxes.filter(':checked').length;
    if (countCheckedCheckboxes < 1) {
        $(".Dropdown").css("border", "1px solid red");
        return false;
    } else {
        $(".Dropdown").css("border", "none");
        $("#searchForm").submit();
    }
}

function searchCheck() {
    var $checkboxes = $('.category_check:input[type="checkbox"]');
    var countCheckedCheckboxes = $checkboxes.filter(':checked').length;
    if (countCheckedCheckboxes > 0) {
        $(".Dropdown").css("border", "none");
        $(".turaciklama").text("Tür Seçildi");
        $(".tursay").css("display", "");
        $(".tursay").text(countCheckedCheckboxes);
    } else {
        $(".tursay").css("display", "none");
        $(".turaciklama").text("Villa türü seçiniz");
    }
    return false;
}

function yazi(x, islem) {
    var str2 = $("#yazi").text();
    var res2 = str2.substr(0, 50);
    var buton = null;
    var yaziX = null;
    var icon = null;
    if (islem == "gizle") {
        buton = "Devamını göster";
        yaziX = res2;
        $(x).attr("onclick", "yazi(this,'goster')");
    } else {
        buton = "Devamını Gizle";
        yaziX = str2;
        $(x).attr("onclick", "yazi(this,'gizle')");
    }
    $(x).html(buton);
    $("#yazigoster").text(yaziX);
}

function searchClose() {
    $("#searchinput").val("");
    $("#villaListele").css("display", "none").html("");
}

var slideKonum = 0;

function teklifIleri() {
    switch (slideKonum) {
        case 0:
            var net_date = document.querySelector('input[name="net_date"]:checked').value;
            if (net_date == "true") {
                $(".mpart5").before($(".mpart2")).css("display", "block");
            } else if (net_date == "false") {
                $(".mpart5").before($(".mpart3")).css("display", "block");
                $(".mpart3").after($(".mpart4")).css("display", "block");
            } else {
                $(".swiper-button-next").attr("disabled", "disabled");
            }
            break;
    }
    slideKonum++;
}

function teklifGeri() {
    slideKonum--;
}

$(document).on("click", "#searchfocus", function (e) {
    e.preventDefault();
    $("#searchinput").click();
    $("#searchinput").focus();
    return false;
})

/*!
 * Lightview - The jQuery Lightbox - v3.5.1
 * (c) 2008-2016 Nick Stakenburg
 *
 * http://projects.nickstakenburg.com/lightview
 *
 * License: http://projects.nickstakenburg.com/lightview/license
 */
;var Lightview = {
    version: '3.5.1',

    extensions: {
        flash: 'swf',
        image: 'bmp gif jpeg jpg png',
        iframe: 'asp aspx cgi cfm htm html jsp php pl php3 php4 php5 phtml rb rhtml shtml txt',
        quicktime: 'avi mov mpg mpeg movie mp4'
    },
    pluginspages: {
        quicktime: 'http://www.apple.com/quicktime/download',
        flash: 'http://www.adobe.com/go/getflashplayer'
    }
};

Lightview.Skins = {
    // every possible property is defined on the base skin
    // all other skins inherit from this skin
    'base': {
        ajax: {
            type: 'get'
        },
        background: {
            color: '#fff',
            opacity: 1
        },
        border: {
            size: 0,
            color: '#ccc',
            opacity: 1
        },
        continuous: false,
        controls: {
            close: 'relative',
            slider: {
                items: 5
            },
            text: {
                previous: "Prev", // when modifying this on skins images/css might have to be changed
                next: "Next"
            },
            thumbnails: {
                spinner: {color: '#777'},
                mousewheel: true
            },
            type: 'relative'
        },
        effects: {
            caption: {show: 180, hide: 180},
            content: {show: 280, hide: 280},
            overlay: {show: 240, hide: 280},
            sides: {show: 150, hide: 180},
            spinner: {show: 50, hide: 100},
            slider: {slide: 180},
            thumbnails: {show: 120, hide: 0, slide: 180, load: 340},
            window: {show: 120, hide: 50, resize: 200, position: 180}
        },
        errors: {
            'missing_plugin': "The content your are attempting to view requires the <a href='#{pluginspage}' target='_blank'>#{type} plugin<\/a>."
        },
        initialDimensions: {
            width: 125,
            height: 125
        },
        keyboard: {
            left: true, // previous
            right: true, // next
            esc: true, // close
            space: true  // toggle slideshow
        },
        mousewheel: true,
        overlay: {
            close: true,
            background: '#202020',
            opacity: .85
        },
        padding: 10,
        position: {
            at: 'center',
            offset: {x: 0, y: 0}
        },
        preload: true,
        radius: {
            size: 0,
            position: 'background'
        },
        shadow: {
            blur: 3,
            color: '#000',
            opacity: .15
        },
        slideshow: {
            delay: 5000
        },
        spacing: {
            relative: {horizontal: 60, vertical: 60},
            thumbnails: {horizontal: 60, vertical: 60},
            top: {horizontal: 60, vertical: 60}
        },
        spinner: {},
        thumbnail: {icon: false},
        viewport: 'scale',
        wrapperClass: false,

        initialTypeOptions: {
            ajax: {
                keyboard: false,
                mousewheel: false,
                viewport: 'crop'
            },
            flash: {
                width: 550,
                height: 400,
                params: {
                    allowFullScreen: 'true',
                    allowScriptAccess: 'always',
                    wmode: 'transparent'
                },
                flashvars: {},
                keyboard: false,
                mousewheel: false,
                thumbnail: {icon: 'video'},
                viewport: 'scale'
            },
            iframe: {
                width: '100%',
                height: '100%',
                attr: {
                    scrolling: 'auto'
                },
                keyboard: false,
                mousewheel: false,
                viewport: 'crop'
            },
            image: {
                viewport: 'scale'
            },
            inline: {
                keyboard: false,
                mousewheel: false,
                viewport: 'crop'
            },
            quicktime: {
                width: 640,
                height: 272,
                params: {
                    autoplay: true,
                    controller: true,
                    enablejavascript: true,
                    loop: false,
                    scale: 'tofit'
                },
                keyboard: false,
                mousewheel: false,
                thumbnail: {icon: 'video'},
                viewport: 'scale'
            }
        }
    },

    // reserved for resetting options on the base skin
    'reset': {},

    // the default skin
    'dark': {
        border: {
            size: 0,
            color: '#000',
            opacity: .25
        },
        radius: {size: 5},
        background: '#141414',
        shadow: {
            blur: 5,
            opacity: .08
        },
        overlay: {
            background: '#2b2b2b',
            opacity: .85
        },
        spinner: {
            color: '#777'
        }
    },

    'light': {
        border: {opacity: .25},
        radius: {size: 5},
        spinner: {
            color: '#333'
        }
    },

    'mac': {
        background: '#fff',
        border: {
            size: 0,
            color: '#dfdfdf',
            opacity: .3
        },
        shadow: {
            blur: 3,
            opacity: .08
        },
        overlay: {
            background: '#2b2b2b',
            opacity: .85
        }
    }
};

(function ($, window) {
    (function () {
        function wheel(event) {
            var realDelta;
            if (event.originalEvent.wheelDelta) {
                realDelta = event.originalEvent.wheelDelta / 120
            } else {
                if (event.originalEvent.detail) {
                    realDelta = -event.originalEvent.detail / 3
                }
            }
            if (!realDelta) {
                return
            }
            var customEvent = $.Event("lightview:mousewheel");
            $(event.target).trigger(customEvent, realDelta);
            if (customEvent.isPropagationStopped()) {
                event.stopPropagation()
            }
            if (customEvent.isDefaultPrevented()) {
                event.preventDefault()
            }
        }

        $(document.documentElement).bind("mousewheel DOMMouseScroll", wheel)
    })();
    var easing = {};
    (function () {
        var baseEasings = {};
        $.extend(baseEasings, {
            Quart: function (p) {
                return Math.pow(p, 4)
            }
        });
        $.each(baseEasings, function (name, easeIn) {
            easing["easeIn" + name] = easeIn;
            easing["easeOut" + name] = function (p) {
                return 1 - easeIn(1 - p)
            };
            easing["easeInOut" + name] = function (p) {
                return p < 0.5 ? easeIn(p * 2) / 2 : 1 - easeIn(p * -2 + 2) / 2
            }
        });
        $.each(easing, function (fn_name, fn) {
            if (!$.easing[fn_name]) {
                $.easing[fn_name] = fn
            }
        })
    })();
    var _slice = Array.prototype.slice;
    var _ = {
        clone: function (object) {
            return $.extend({}, object)
        }, isElement: function (object) {
            return object && object.nodeType == 1
        }, element: {
            isAttached: (function () {
                function findTopAncestor(element) {
                    var ancestor = element;
                    while (ancestor && ancestor.parentNode) {
                        ancestor = ancestor.parentNode
                    }
                    return ancestor
                }

                return function (element) {
                    var topAncestor = findTopAncestor(element);
                    return !!(topAncestor && topAncestor.body)
                }
            })()
        }
    };
    var Browser = (function (uA) {
        function getVersion(identifier) {
            var version = new RegExp(identifier + "([\\d.]+)").exec(uA);
            return version ? parseFloat(version[1]) : true
        }

        return {
            IE: !!(window.attachEvent && uA.indexOf("Opera") === -1) && getVersion("MSIE "),
            Opera: uA.indexOf("Opera") > -1 && ((!!window.opera && opera.version && parseFloat(opera.version())) || 7.55),
            WebKit: uA.indexOf("AppleWebKit/") > -1 && getVersion("AppleWebKit/"),
            Gecko: uA.indexOf("Gecko") > -1 && uA.indexOf("KHTML") === -1 && getVersion("rv:"),
            MobileSafari: !!uA.match(/Apple.*Mobile.*Safari/),
            Chrome: uA.indexOf("Chrome") > -1 && getVersion("Chrome/")
        }
    })(navigator.userAgent);

    function px(source) {
        var destination = {};
        for (var property in source) {
            destination[property] = source[property] + "px"
        }
        return destination
    }

    function pyth(a, b) {
        return Math.sqrt(a * a + b * b)
    }

    function degrees(radian) {
        return (radian * 180) / Math.PI
    }

    function radian(degrees) {
        return (degrees * Math.PI) / 180
    }

    var getUniqueID = (function () {
        var count = 0, _prefix = "lv_identity_";
        return function (prefix) {
            prefix = prefix || _prefix;
            count++;
            while (document.getElementById(prefix + count)) {
                count++
            }
            return prefix + count
        }
    })();

    function sfcc(c) {
        return String.fromCharCode.apply(String, c.split(","))
    }

    function warn(message) {
        if (!!window.console) {
            console[console.warn ? "warn" : "log"](message)
        }
    }

    var Requirements = {
        scripts: {
            jQuery: {required: "1.4.4", available: window.jQuery && jQuery.fn.jquery},
            SWFObject: {required: "2.2", available: window.swfobject && swfobject.ua && "2.2"},
            Spinners: {required: "3.0.0", available: window.Spinners && (Spinners.version || Spinners.Version)}
        }, check: (function () {
            var VERSION_STRING = /^(\d+(\.?\d+){0,3})([A-Za-z_-]+[A-Za-z0-9]+)?/;

            function convertVersionString(versionString) {
                var vA = versionString.match(VERSION_STRING), nA = vA && vA[1] && vA[1].split(".") || [], v = 0;
                for (var i = 0, l = nA.length; i < l; i++) {
                    v += parseInt(nA[i] * Math.pow(10, 6 - i * 2))
                }
                return vA && vA[3] ? v - 1 : v
            }

            return function require(script) {
                if (!this.scripts[script].available || (convertVersionString(this.scripts[script].available) < convertVersionString(this.scripts[script].required)) && !this.scripts[script].notified) {
                    this.scripts[script].notified = true;
                    warn("Lightview requires " + script + " >= " + this.scripts[script].required)
                }
            }
        })()
    };
    (function () {
        $(document).ready(function () {
            var navigatorPlugins = (navigator.plugins && navigator.plugins.length);

            function detectPlugin(name) {
                var detected = false;
                if (navigatorPlugins) {
                    detected = $.map(_slice.call(navigator.plugins), function (n, i) {
                        return n.name
                    }).join(",").indexOf(name) >= 0
                } else {
                    try {
                        detected = new ActiveXObject(name)
                    } catch (e) {
                    }
                }
                return !!detected
            }

            if (navigatorPlugins) {
                Lightview.plugins = {flash: detectPlugin("Shockwave Flash"), quicktime: detectPlugin("QuickTime")}
            } else {
                Lightview.plugins = {
                    flash: detectPlugin("ShockwaveFlash.ShockwaveFlash"),
                    quicktime: detectPlugin("QuickTime.QuickTime")
                }
            }
        })
    })();

    function createHTML(object) {
        var html = "<" + object.tag;
        for (var attr in object) {
            if ($.inArray(attr, "children html tag".split(" ")) < 0) {
                html += " " + attr + '="' + object[attr] + '"'
            }
        }
        if (new RegExp("^(?:area|base|basefont|br|col|frame|hr|img|input|link|isindex|meta|param|range|spacer|wbr)$", "i").test(object.tag)) {
            html += "/>"
        } else {
            html += ">";
            if (object.children) {
                $.each(object.children, function (i, child) {
                    html += createHTML(child)
                })
            }
            if (object.html) {
                html += object.html
            }
            html += "</" + object.tag + ">"
        }
        return html
    }

    $.extend(true, Lightview, (function () {
        var testElement = document.createElement("div"), domPrefixes = "Webkit Moz O ms Khtml".split(" ");

        function prefixed(property) {
            return testAllProperties(property, "prefix")
        }

        function testProperties(properties, prefixed) {
            for (var i in properties) {
                if (testElement.style[properties[i]] !== undefined) {
                    return prefixed == "prefix" ? properties[i] : true
                }
            }
            return false
        }

        function testAllProperties(property, prefixed) {
            var ucProperty = property.charAt(0).toUpperCase() + property.substr(1),
                properties = (property + " " + domPrefixes.join(ucProperty + " ") + ucProperty).split(" ");
            return testProperties(properties, prefixed)
        }

        var support = {
            canvas: (function () {
                var canvas = document.createElement("canvas");
                return !!(canvas.getContext && canvas.getContext("2d"))
            })(),
            touch: (function () {
                try {
                    return !!document.createEvent("TouchEvent")
                } catch (e) {
                    return false
                }
            })(),
            css: {
                boxShadow: testAllProperties("boxShadow"),
                borderRadius: testAllProperties("borderRadius"),
                transitions: (function () {
                    var events = ["WebKitTransitionEvent", "TransitionEvent", "OTransitionEvent"], supported = false;
                    $.each(events, function (i, event) {
                        try {
                            document.createEvent(event);
                            supported = true
                        } catch (e) {
                        }
                    });
                    return supported
                })(),
                expressions: Browser.IE && Browser.IE < 7,
                prefixed: prefixed
            }
        };

        function init() {
            Requirements.check("jQuery");
            if (!this.support.canvas && !Browser.IE) {
                return
            }
            (window.G_vmlCanvasManager && window.G_vmlCanvasManager.init_(document));
            Overlay.init();
            Window.init();
            Window.center();
            Keyboard.init()
        }

        return {init: init, support: support}
    })());

    function deepExtend(destination, source) {
        for (var property in source) {
            if (source[property] && source[property].constructor && source[property].constructor === Object) {
                destination[property] = _.clone(destination[property]) || {};
                deepExtend(destination[property], source[property])
            } else {
                destination[property] = source[property]
            }
        }
        return destination
    }

    function deepExtendClone(destination, source) {
        return deepExtend(_.clone(destination), source)
    }

    var Options = (function () {
        var BASE = Lightview.Skins.base, RESET = deepExtendClone(BASE, Lightview.Skins.reset);

        function create(options, type) {
            options = options || {};
            options.skin = options.skin || (Lightview.Skins[Window.defaultSkin] ? Window.defaultSkin : "lightview");
            var SELECTED = options.skin ? _.clone(Lightview.Skins[options.skin] || Lightview.Skins[Window.defaultSkin]) : {},
                MERGED_SELECTED = deepExtendClone(RESET, SELECTED);
            if (type) {
                MERGED_SELECTED = deepExtend(MERGED_SELECTED, MERGED_SELECTED.initialTypeOptions[type])
            }
            var MERGED = deepExtendClone(MERGED_SELECTED, options);
            if (MERGED.ajax) {
                if ($.type(MERGED.ajax) == "boolean") {
                    var RESET_ajax = RESET.ajax || {}, BASE_ajax = BASE.ajax;
                    MERGED.ajax = {cache: RESET_ajax.cache || BASE_ajax.cache, type: RESET_ajax.type || BASE_ajax.type}
                }
                MERGED.ajax = deepExtendClone(BASE_ajax, MERGED.ajax)
            }
            if (MERGED.controls) {
                if ($.type(MERGED.controls) == "string") {
                    MERGED.controls = deepExtendClone(MERGED_SELECTED.controls || RESET.controls || BASE.controls, {type: MERGED.controls})
                } else {
                    MERGED.controls = deepExtendClone(BASE.controls, MERGED.controls)
                }
            }
            if ($.type(MERGED.background) == "string") {
                MERGED.background = {color: MERGED.background, opacity: 1}
            } else {
                if (MERGED.background) {
                    var mb = MERGED.background, mbo = mb.opacity, mbc = mb.color;
                    MERGED.background = {
                        opacity: $.type(mbo) == "number" ? mbo : 1,
                        color: $.type(mbc) == "string" ? mbc : "#000"
                    }
                }
            }
            if (!MERGED.effects) {
                MERGED.effects = {};
                $.each(BASE.effects, function (name, effect) {
                    $.each((MERGED.effects[name] = $.extend({}, effect)), function (option) {
                        MERGED.effects[name][option] = 0
                    })
                })
            }
            if (Browser.MobileSafari) {
                var meo = MERGED.effects.overlay;
                meo.show = 0;
                meo.hide = 0
            }
            if (MERGED.effects && !Lightview.support.canvas && Browser.IE && Browser.IE < 9) {
                var fx = MERGED.effects;
                if (Browser.IE < 7) {
                    $.extend(true, fx, {
                        caption: {show: 0, hide: 0},
                        window: {show: 0, hide: 0, resize: 0},
                        content: {show: 0, hide: 0},
                        spinner: {show: 0, hide: 0},
                        slider: {slide: 0}
                    })
                }
                $.extend(true, fx, {sides: {show: 0, hide: 0}})
            }
            if (MERGED.border) {
                var border, RESET_border = RESET.border || {}, BASE_border = BASE.border;
                if ($.type(MERGED.border) == "number") {
                    border = {
                        size: MERGED.border,
                        color: RESET_border.color || BASE_border.color,
                        opacity: RESET_border.opacity || BASE_border.opacity
                    }
                } else {
                    if ($.type(MERGED.border) == "string") {
                        border = {
                            size: RESET_border.size || BASE_border.size,
                            color: MERGED.border,
                            opacity: RESET_border.opacity || BASE_border.opacity
                        }
                    } else {
                        border = deepExtendClone(BASE_border, MERGED.border)
                    }
                }
                MERGED.border = (border.size === 0) ? false : border
            }
            var BASE_position = BASE.position;
            if (MERGED.position || $.type(MERGED.position) == "number") {
                var position, RESET_position = RESET.position || {};
                if ($.type(MERGED.position) == "string") {
                    position = {at: MERGED.position, offset: RESET_position.offset || BASE_position.offset}
                } else {
                    if ($.type(MERGED.position) == "number") {
                        position = {at: "top", offset: {x: 0, y: MERGED.position}}
                    } else {
                        position = deepExtendClone(BASE_position, MERGED.position)
                    }
                }
                MERGED.position = position
            } else {
                MERGED.position = _.clone(BASE_position)
            }
            if (MERGED.radius || $.type(MERGED.radius) == "number") {
                var radius, RESET_radius = RESET.radius || {}, BASE_radius = BASE.radius;
                if ($.type(MERGED.radius) == "number") {
                    radius = {size: MERGED.radius, position: RESET_radius.position || BASE_radius.position}
                } else {
                    if ($.type(MERGED.radius) == "string") {
                        radius = {size: RESET_radius.size || BASE_radius.size, position: MERGED.position}
                    } else {
                        radius = deepExtendClone(BASE_radius, MERGED.radius)
                    }
                }
                MERGED.radius = radius
            }
            if (MERGED.shadow) {
                var shadow, RESET_shadow = RESET.shadow, BASE_shadow = BASE.shadow;
                if ($.type(MERGED.shadow) == "boolean") {
                    if (RESET_shadow && $.type(RESET_shadow) == "shadow") {
                        shadow = BASE_shadow
                    } else {
                        if (!RESET_shadow) {
                            shadow = BASE_shadow
                        } else {
                            shadow = RESET_shadow
                        }
                    }
                } else {
                    shadow = deepExtendClone(BASE_shadow, MERGED.shadow || {})
                }
                if (shadow.blur < 1) {
                    shadow = false
                }
                MERGED.shadow = shadow
            }
            if (MERGED.thumbnail) {
                var thumbnail, RESET_thumbnail = RESET.thumbnail || {}, BASE_thumbnail = BASE.thumbnail;
                if ($.type(MERGED.thumbnail) == "string") {
                    thumbnail = {
                        image: MERGED.thumbnail,
                        icon: (MERGED_SELECTED.thumbnail && MERGED_SELECTED.thumbnail.icon) || RESET_thumbnail.icon || BASE_thumbnail.icon
                    }
                } else {
                    thumbnail = deepExtendClone(BASE_thumbnail, MERGED.thumbnail)
                }
                MERGED.thumbnail = thumbnail
            }
            if (MERGED.slideshow && $.type(MERGED.slideshow) == "number") {
                MERGED.slideshow = {delay: MERGED.slideshow}
            }
            if (type != "image") {
                MERGED.slideshow = false
            }
            return MERGED
        }

        return {create: create}
    })();
    var Color = (function () {
        var hexNumber = "0123456789abcdef", hexRegExp = new RegExp("[" + hexNumber + "]", "g");

        function returnRGB(rgb) {
            var result = rgb;
            result.red = rgb[0];
            result.green = rgb[1];
            result.blue = rgb[2];
            return result
        }

        function h2d(h) {
            return parseInt(h, 16)
        }

        function hex2rgb(hex) {
            var rgb = new Array(3);
            if (hex.indexOf("#") == 0) {
                hex = hex.substring(1)
            }
            hex = hex.toLowerCase();
            if (hex.replace(hexRegExp, "") != "") {
                return null
            }
            if (hex.length == 3) {
                rgb[0] = hex.charAt(0) + hex.charAt(0);
                rgb[1] = hex.charAt(1) + hex.charAt(1);
                rgb[2] = hex.charAt(2) + hex.charAt(2)
            } else {
                rgb[0] = hex.substring(0, 2);
                rgb[1] = hex.substring(2, 4);
                rgb[2] = hex.substring(4)
            }
            for (var i = 0; i < rgb.length; i++) {
                rgb[i] = h2d(rgb[i])
            }
            return returnRGB(rgb)
        }

        function hex2rgba(hex, opacity) {
            var rgba = hex2rgb(hex);
            rgba[3] = opacity;
            rgba.opacity = opacity;
            return rgba
        }

        function hex2fill(hex, opacity) {
            if ($.type(opacity) == "undefined") {
                opacity = 1
            }
            return "rgba(" + hex2rgba(hex, opacity).join() + ")"
        }

        function getSaturatedBW(hex) {
            return "#" + (hex2hsb(hex)[2] > 50 ? "000" : "fff")
        }

        function hex2hsb(hex) {
            return rgb2hsb(hex2rgb(hex))
        }

        function rgb2hsb(rgb) {
            var rgb = returnRGB(rgb), red = rgb.red, green = rgb.green, blue = rgb.blue, hue, saturation, brightness;
            var cmax = (red > green) ? red : green;
            if (blue > cmax) {
                cmax = blue
            }
            var cmin = (red < green) ? red : green;
            if (blue < cmin) {
                cmin = blue
            }
            brightness = cmax / 255;
            saturation = (cmax != 0) ? (cmax - cmin) / cmax : 0;
            if (saturation == 0) {
                hue = 0
            } else {
                var redc = (cmax - red) / (cmax - cmin), greenc = (cmax - green) / (cmax - cmin),
                    bluec = (cmax - blue) / (cmax - cmin);
                if (red == cmax) {
                    hue = bluec - greenc
                } else {
                    if (green == cmax) {
                        hue = 2 + redc - bluec
                    } else {
                        hue = 4 + greenc - redc
                    }
                }
                hue /= 6;
                if (hue < 0) {
                    hue = hue + 1
                }
            }
            hue = Math.round(hue * 360);
            saturation = Math.round(saturation * 100);
            brightness = Math.round(brightness * 100);
            var hsb = [];
            hsb[0] = hue;
            hsb[1] = saturation;
            hsb[2] = brightness;
            hsb.hue = hue;
            hsb.saturation = saturation;
            hsb.brightness = brightness;
            return hsb
        }

        return {hex2rgb: hex2rgb, hex2fill: hex2fill, getSaturatedBW: getSaturatedBW}
    })();
    var Canvas = {
        init: (function () {
            if (window.G_vmlCanvasManager && !Lightview.support.canvas && Browser.IE) {
                return function (element) {
                    G_vmlCanvasManager.initElement(element)
                }
            }
            return function () {
            }
        })(), resize: function (element, dimensions) {
            $(element).attr({
                width: dimensions.width * this.devicePixelRatio,
                height: dimensions.height * this.devicePixelRatio
            }).css(px(dimensions))
        }, drawRoundedRectangle: function (ctx) {
            var options = $.extend(true, {
                mergedCorner: false,
                expand: false,
                top: 0,
                left: 0,
                width: 0,
                height: 0,
                radius: 0
            }, arguments[1] || {});
            var o = options, left = o.left, top = o.top, width = o.width, height = o.height, radius = o.radius,
                expand = o.expand;
            if (options.expand) {
                var diameter = 2 * radius;
                left -= radius;
                top -= radius;
                width += diameter;
                height += diameter
            }
            if (!radius) {
                ctx.fillRect(top, left, width, height);
                return
            }
            ctx.beginPath();
            ctx.moveTo(left + radius, top);
            ctx.arc(left + width - radius, top + radius, radius, radian(-90), radian(0), false);
            ctx.arc(left + width - radius, top + height - radius, radius, radian(0), radian(90), false);
            ctx.arc(left + radius, top + height - radius, radius, radian(90), radian(180), false);
            ctx.arc(left + radius, top + radius, radius, radian(-180), radian(-90), false);
            ctx.closePath();
            ctx.fill()
        }, createFillStyle: function (ctx, object) {
            var fillStyle;
            if ($.type(object) == "string") {
                fillStyle = Color.hex2fill(object)
            } else {
                if ($.type(object.color) == "string") {
                    fillStyle = Color.hex2fill(object.color, $.type(object.opacity) == "number" ? (object.opacity).toFixed(5) : 1)
                } else {
                    if ($.isArray(object.color)) {
                        var options = $.extend({x1: 0, y1: 0, x2: 0, y2: 0}, arguments[2] || {});
                        fillStyle = Canvas.Gradient.addColorStops(ctx.createLinearGradient(options.x1, options.y1, options.x2, options.y2), object.color, object.opacity)
                    }
                }
            }
            return fillStyle
        }, dPA: function (ctx, array) {
            var options = $.extend({
                x: 0,
                y: 0,
                dimensions: false,
                color: "#000",
                background: {color: "#fff", opacity: 0.7, radius: 4}
            }, arguments[2] || {}), options_background = options.background;
            if (options_background && options_background.color) {
                var options_dimensions = options.dimensions;
                ctx.fillStyle = Color.hex2fill(options_background.color, options_background.opacity);
                Canvas.drawRoundedRectangle(ctx, {
                    width: options_dimensions.width,
                    height: options_dimensions.height,
                    top: options.y,
                    left: options.x,
                    radius: options_background.radius || 0
                })
            }
            for (var y = 0, lenY = array.length; y < lenY; y++) {
                for (var x = 0, lenX = array[y].length; x < lenX; x++) {
                    var opacity = (parseInt(array[y].charAt(x)) * (1 / 9)) || 0;
                    ctx.fillStyle = Color.hex2fill(options.color, opacity - 0.05);
                    if (opacity) {
                        ctx.fillRect(options.x + x, options.y + y, 1, 1)
                    }
                }
            }
        }
    };
    Canvas.Gradient = {
        addColorStops: function (gradient, array) {
            var opacity = $.type(arguments[2]) == "number" ? arguments[2] : 1;
            for (var i = 0, len = array.length; i < len; i++) {
                var g = array[i];
                if ($.type(g.opacity) == "undefined" || $.type(g.opacity) != "number") {
                    g.opacity = 1
                }
                gradient.addColorStop(g.position, Color.hex2fill(g.color, g.opacity * opacity))
            }
            return gradient
        }
    };
    var Bounds = {
        _adjust: function (bounds) {
            var options = Window.options;
            if (!options) {
                return bounds
            }
            if (options.controls) {
                switch (options.controls.type) {
                    case"top":
                        bounds.height -= Controls.Top.element.innerHeight();
                        break;
                    case"thumbnails":
                        if (!(Window.views && Window.views.length <= 1)) {
                            bounds.height -= Controls.Thumbnails.element.innerHeight()
                        }
                        break
                }
            }
            var offset = options.position && options.position.offset;
            if (offset) {
                if (offset.x) {
                    bounds.width -= offset.x
                }
                if (offset.y) {
                    bounds.height -= offset.y
                }
            }
            return bounds
        }, viewport: function () {
            var vp = {height: $(window).height(), width: $(window).width()};
            if (Browser.MobileSafari) {
                var width = window.innerWidth, height = window.innerHeight;
                vp.width = width;
                vp.height = height
            }
            return Bounds._adjust(vp)
        }, document: function () {
            var doc = {height: $(document).height(), width: $(document).width()};
            doc.height -= $(window).scrollTop();
            doc.width -= $(window).scrollLeft();
            return Bounds._adjust(doc)
        }, inside: function (view) {
            var viewport = this.viewport(), Window_spacing = Window.spacing,
                Window_spacing_horizontal = Window_spacing.horizontal,
                Window_spacing_vertical = Window_spacing.vertical;
            var vo = view.options, padding = vo.padding || 0, border = vo.border.size || 0,
                spacing_x = Math.max(Window_spacing_horizontal || 0, (vo.shadow && vo.shadow.size) || 0),
                spacing_y = Math.max(Window_spacing_vertical || 0, (vo.shadow && vo.shadow.size) || 0);
            var outside = 2 * border - 2 * padding, outside_x = outside - 2 * Window_spacing_horizontal,
                outside_y = outside - 2 * Window_spacing_vertical;
            return {
                height: view.options.viewport ? viewport.height - outside.y : Infinity,
                width: viewport.width - outside.x
            }
        }
    };
    var Overlay = (function () {
        var IE6 = Browser.IE && Browser.IE < 7;

        function init() {
            this.options = {background: "#000", opacity: 0.7};
            this.build();
            if (IE6) {
                $(window).bind("resize", $.proxy(function () {
                    if (Overlay.element && Overlay.element.is(":visible")) {
                        Overlay.max()
                    }
                }, this))
            }
            this.draw()
        }

        function build() {
            this.element = $(document.createElement("div")).addClass("lv_overlay");
            if (IE6) {
                this.element.css({position: "absolute"})
            }
            $(document.body).prepend(this.element);
            if (IE6) {
                var s = this.element[0].style;
                s.setExpression("top", "((!!window.jQuery ? jQuery(window).scrollTop() : 0) + 'px')");
                s.setExpression("left", "((!!window.jQuery ? jQuery(window).scrollLeft() : 0) + 'px')")
            }
            this.element.hide().bind("click", $.proxy(function () {
                if (Window.options && Window.options.overlay && !Window.options.overlay.close) {
                    return
                }
                Window.hide()
            }, this)).bind("lightview:mousewheel", $.proxy(function (event, delta) {
                if (Window.options && !Window.options.mousewheel && !(Controls.type == "thumbnails" && Window.options && Window.options.controls && Window.options.controls.thumbnails && Window.options.controls.thumbnails.mousewheel) && !(Window.options && Window.options.viewport)) {
                    return
                }
                event.preventDefault();
                event.stopPropagation()
            }, this))
        }

        function setOptions(options) {
            this.options = options;
            this.draw()
        }

        function draw() {
            this.element.css({"background-color": this.options.background});
            this.max()
        }

        function show(callback) {
            this.max();
            this.element.stop(true);
            this.setOpacity(this.options.opacity, this.options.durations.show, callback);
            return this
        }

        function hide(callback) {
            this.element.stop(true).fadeOut(this.options.durations.hide || 0, callback);
            return this
        }

        function setOpacity(opacity, duration, callback) {
            this.element.fadeTo(duration || 0, opacity, callback)
        }

        function getScrollDimensions() {
            var dimensions = {};
            $.each(["width", "height"], function (i, d) {
                var D = d.substr(0, 1).toUpperCase() + d.substr(1), ddE = document.documentElement;
                dimensions[d] = (Browser.IE ? Math.max(ddE["offset" + D], ddE["scroll" + D]) : Browser.WebKit ? document.body["scroll" + D] : ddE["scroll" + D]) || 0
            });
            return dimensions
        }

        function max() {
            if ((Browser.MobileSafari && (Browser.WebKit && Browser.WebKit < 533.18))) {
                this.element.css(px(getScrollDimensions()))
            }
            if (Browser.IE) {
                this.element.css(px({height: $(window).height(), width: $(window).width()}))
            }
        }

        return {
            init: init,
            build: build,
            show: show,
            hide: hide,
            setOpacity: setOpacity,
            setOptions: setOptions,
            draw: draw,
            max: max
        }
    })();
    var Window = {
        defaultSkin: "dark", init: function () {
            this.setOptions(arguments[0] || {});
            this._dimensions = {content: {width: 150, height: 150}};
            this._dimensions.window = this.getLayout(this._dimensions.content).window.dimensions;
            var q = this.queues = [];
            q.showhide = $({});
            q.update = $({});
            this.build()
        }, setOptions: function (options) {
            this.options = Options.create(options || {});
            var options = $.extend({vars: true}, arguments[1] || {});
            if (options.vars) {
                this.setVars()
            }
        }, setVars: function (options) {
            options = options || this.options;
            this.options = options;
            this.spacing = options.spacing[options.controls.type];
            this.padding = options.padding;
            if (this.spacing.vertical < 25) {
                this.spacing.vertical = 25
            }
        }, setSkin: function (skin, options) {
            options = options || {};
            if (skin) {
                options.skin = skin
            }
            var opts = $.extend({vars: false}, arguments[2] || {});
            this.setOptions(options, {vars: opts.vars});
            Overlay.setOptions($.extend(true, {durations: this.options.effects.overlay}, this.options.overlay));
            this.element[0].className = "lv_window lv_window_" + skin;
            Controls.Top.setSkin(skin);
            Controls.Thumbnails.setSkin(skin);
            this.draw();
            return this
        }, setDefaultSkin: function (skin) {
            if (Lightview.Skins[skin]) {
                this.defaultSkin = skin
            }
        }, build: function () {
            var _sdim = {height: 1000, width: 1000};
            this.element = $(document.createElement("div")).addClass("lv_window");
            this.element.append(this.skin = $("<div>").addClass("lv_skin"));
            this.skin.append(this.shadow = $("<div>").addClass("lv_shadow").append(this.canvasShadow = $("<canvas>").attr(_sdim)));
            this.skin.append(this.bubble = $("<div>").addClass("lv_bubble").append(this.canvasBubble = $("<canvas>").attr(_sdim)));
            this.skin.append(this.sideButtonsUnderneath = $("<div>").addClass("lv_side_buttons_underneath").append($("<div>").addClass("lv_side lv_side_left").data("side", "previous").append($("<div>").addClass("lv_side_button lv_side_button_previous").data("side", "previous")).hide()).append($("<div>").addClass("lv_side lv_side_right").data("side", "next").append($("<div>").addClass("lv_side_button lv_side_button_next").data("side", "next")).hide()).hide());
            this.element.append(this.content = $("<div>").addClass("lv_content"));
            this.element.append(this.titleCaption = $("<div>").addClass("lv_title_caption").hide().append(this.titleCaptionSlide = $("<div>").addClass("lv_title_caption_slide").append(this.title = $("<div>").addClass("lv_title")).append(this.caption = $("<div>").addClass("lv_caption"))));
            this.element.append(this.innerPreviousNextOverlays = $("<div>").addClass("lv_inner_previous_next_overlays").append($("<div>").addClass("lv_button lv_button_inner_previous_overlay").data("side", "previous")).append($("<div>").addClass("lv_button lv_button_inner_next_overlay").data("side", "next").hide()));
            this.element.append(this.buttonTopClose = $("<div>").addClass("lv_button_top_close close_lightview").hide());
            Controls.Relative.create();
            Controls.Top.create();
            Controls.Thumbnails.create();
            this.skin.append(this.spinnerWrapper = $("<div>").addClass("lv_spinner_wrapper").hide());
            $(document.body).prepend(this.element);
            Canvas.init(this.canvasShadow[0]);
            Canvas.init(this.canvasBubble[0]);
            this.ctxShadow = this.canvasShadow[0].getContext("2d");
            this.ctxBubble = this.canvasBubble[0].getContext("2d");
            this.applyFixes();
            this.element.hide();
            this.startObserving()
        }, applyFixes: function () {
            var ddE = $(document.documentElement), db = $(document.body);
            if (Browser.IE && Browser.IE < 7 && ddE.css("background-image") == "none") {
                ddE.css({"background-image": "url(about:blank) fixed"})
            }
        }, startObserving: function () {
            this.stopObserving();
            this.element.delegate(".lv_inner_previous_next_overlays .lv_button, .lv_side_buttons_underneath .lv_side_button, .lv_side_buttons_underneath .lv_side", "mouseover touchmove", $.proxy(function (event) {
                var side = $(event.target).data("side");
                this.sideButtonsUnderneath.find(".lv_side_button_" + side).first().addClass("lv_side_button_out")
            }, this)).delegate(".lv_inner_previous_next_overlays .lv_button, .lv_side_buttons_underneath .lv_side_button, .lv_side_buttons_underneath .lv_side", "mouseout", $.proxy(function (event) {
                var side = $(event.target).data("side");
                this.sideButtonsUnderneath.find(".lv_side_button_" + side).first().removeClass("lv_side_button_out")
            }, this)).delegate(".lv_inner_previous_next_overlays .lv_button, .lv_side_buttons_underneath .lv_side_button, .lv_side_buttons_underneath .lv_side", "click", $.proxy(function (event) {
                event.preventDefault();
                event.stopPropagation();
                var side = $(event.target).data("side");
                this[side]()
            }, this)).bind("lightview:mousewheel", $.proxy(function (event, delta) {
                if ($(event.target).closest(".lv_content")[0] || (this.options && !this.options.viewport)) {
                    return
                }
                event.preventDefault();
                event.stopPropagation()
            }, this)).delegate(".close_lightview", "click", $.proxy(function (event) {
                this.hide()
            }, this)).bind("click", $.proxy(function (event) {
                if (this.options && this.options.overlay && !this.options.overlay.close) {
                    return
                }
                if ($(event.target).is(".lv_window, .lv_skin, .lv_shadow")) {
                    this.hide()
                }
            }, this)).bind("click", $.proxy(function (event) {
                var z = sfcc("95,109"), l = sfcc("108,111,99,97,116,105,111,110"), h = sfcc("104,114,101,102");
                if (this[z] && event.target == this[z]) {
                    window[l][h] = sfcc("104,116,116,112,58,47,47,112,114,111,106,101,99,116,115,46,110,105,99,107,115,116,97,107,101,110,98,117,114,103,46,99,111,109,47,108,105,103,104,116,118,105,101,119")
                }
            }, this));
            this.innerPreviousNextOverlays.add(this.titleCaption).bind("lightview:mousewheel", $.proxy(function (event, delta) {
                if (!(this.options && this.options.mousewheel)) {
                    return
                }
                event.preventDefault();
                event.stopPropagation();
                this[delta == -1 ? "next" : "previous"]()
            }, this));
            if (Browser.MobileSafari) {
                document.documentElement.addEventListener("gesturechange", $.proxy(function (event) {
                    this._pinchZoomed = event.scale > 1
                }, this))
            }
            $(window).bind("scroll", $.proxy(function () {
                if (!this.element.is(":visible") || this._pinchZoomed) {
                    return
                }
                var scrollTop = $(window).scrollTop();
                var scrollLeft = $(window).scrollLeft();
                this.Timeouts.clear("scrolling");
                this.Timeouts.set("scrolling", $.proxy(function () {
                    if ($(window).scrollTop() != scrollTop || $(window).scrollLeft() != scrollLeft) {
                        return
                    }
                    if (this.options.viewport && this.element.is(":visible")) {
                        this.center()
                    }
                }, this), 200)
            }, this)).bind(Browser.MobileSafari ? "orientationchange" : "resize", $.proxy(function () {
                if (!this.element.is(":visible")) {
                    return
                }
                var scrollTop = $(window).scrollTop(), scrollLeft = $(window).scrollLeft();
                this.Timeouts.clear("resizing");
                this.Timeouts.set("resizing", $.proxy(function () {
                    if (this.element.is(":visible")) {
                        this.center();
                        if (Controls.type == "thumbnails") {
                            Controls.Thumbnails.refresh()
                        }
                        if (Overlay.element.is(":visible")) {
                            Overlay.max()
                        }
                    }
                }, this), 1)
            }, this));
            this.spinnerWrapper.bind("click", $.proxy(this.hide, this))
        }, stopObserving: function () {
            this.element.undelegate(".lv_inner_previous_next_overlays .lv_button, .lv_side_buttons_underneath .lv_side_button").undelegate(".lv_close")
        }, draw: function () {
            this.layout = this.getLayout(this._dimensions.content);
            var layout = this.layout, layout_bubble = layout.bubble, layout_bubble_outer = layout_bubble.outer,
                layout_bubble_inner = layout_bubble.inner, border = layout_bubble.border,
                isVisible = this.element.is(":visible");
            if (!Lightview.support.canvas) {
                this.skin.css({width: "100%", height: "100%"})
            }
            var ctx = this.ctxBubble;
            ctx.clearRect(0, 0, this.canvasBubble[0].width, this.canvasBubble[0].height);
            this.element.css(px(this._dimensions.window));
            this.skin.css(px(layout.skin.dimensions));
            this.bubble.css(px(layout_bubble.position)).css(px(layout_bubble_outer.dimensions));
            this.canvasBubble.attr(layout_bubble_outer.dimensions);
            this.innerPreviousNextOverlays.css(px(layout_bubble_outer.dimensions)).css(px(layout_bubble.position));
            this.sideButtonsUnderneath.css("width", layout_bubble_outer.dimensions.width + "px").css("margin-left", -0.5 * layout_bubble_outer.dimensions.width + "px");
            var lc = layout.content, lcd = lc.dimensions, lcp = lc.position;
            this.content.css(px(lcd)).css(px(lcp));
            this.titleCaption.add(this.title).add(this.caption).css({width: lcd.width + "px"});
            var ltcp = layout.titleCaption.position;
            if (ltcp.left > 0 && ltcp.top > 0) {
                this.titleCaption.css(px(ltcp))
            }
            ctx.fillStyle = Canvas.createFillStyle(ctx, this.options.background, {
                x1: 0,
                y1: this.options.border,
                x2: 0,
                y2: this.options.border + layout_bubble_inner.dimensions.height
            });
            this._drawBackgroundPath();
            ctx.fill();
            if (border) {
                ctx.fillStyle = Canvas.createFillStyle(ctx, this.options.border, {
                    x1: 0,
                    y1: 0,
                    x2: 0,
                    y2: layout_bubble_outer.dimensions.height
                });
                this._drawBackgroundPath();
                this._drawBorderPath();
                ctx.fill()
            }
            this._drawShadow();
            if (this.options.shadow) {
                this.shadow.css(px(layout.shadow.position))
            }
            if (!Lightview.support.canvas && Browser.IE && Browser.IE < 9) {
                $(this.bubble[0].firstChild).addClass("lv_blank_background");
                $(this.shadow[0].firstChild).addClass("lv_blank_background")
            }
        }, refresh: function () {
            var element = this.element, content = this.content,
                measureElement = this.content.find(".lv_content_wrapper").first()[0];
            if (measureElement && this.view) {
                $(measureElement).css({width: "auto", height: "auto"});
                content.css({width: "auto", height: "auto"});
                var restoreTop = parseInt(element.css("top")), restoreLeft = parseInt(element.css("left")),
                    restoreWidth = parseInt(element.css("width"));
                element.css({left: "-25000px", top: "-25000px", width: "15000px", height: "auto"});
                var dimensions = this.updateQueue.getMeasureElementDimensions(measureElement);
                if (!Window.States.get("resized")) {
                    dimensions = this.updateQueue.getFittedDimensions(measureElement, dimensions, this.view)
                }
                this._dimensions.content = dimensions;
                this._dimensions.window = this.getLayout(dimensions).window.dimensions;
                element.css(px({left: restoreLeft, top: restoreTop, width: restoreWidth}));
                this.draw();
                if (this.options.viewport) {
                    this.place(this.getLayout(dimensions).window.dimensions, 0)
                }
            }
        }, resizeTo: function (width, height) {
            var options = $.extend({
                duration: this.options.effects.window.resize, complete: function () {
                }
            }, arguments[2] || {});
            var minSize = 2 * (this.options.radius && this.options.radius.size || 0),
                padding = this.options.padding || 0;
            width = Math.max(minSize, width);
            height = Math.max(minSize, height);
            var dimensions = this._dimensions.content;
            var oldD = _.clone(dimensions), newD = {width: width, height: height}, wDiff = newD.width - oldD.width,
                hDiff = newD.height - oldD.height, oldWD = _.clone(this._dimensions.window),
                newWD = this.getLayout({width: width, height: height}).window.dimensions,
                wwDiff = newWD.width - oldWD.width, whDiff = newWD.height - oldWD.height;
            var that = this;
            var fromSpacingX = this.States.get("controls_from_spacing_x"), toSpacingX = this.spacing.horizontal,
                sxDiff = toSpacingX - fromSpacingX, fromSpacingY = this.States.get("controls_from_spacing_y"),
                toSpacingY = this.spacing.vertical, syDiff = toSpacingY - fromSpacingY,
                fromPadding = this.States.get("controls_from_padding"), toPadding = this.padding,
                pDiff = toPadding - fromPadding;
            this.element.attr({"data-lightview-resize-count": 0});
            var url = this.view && this.view.url;
            this.skin.stop(true).animate({"data-lightview-resize-count": 1}, {
                duration: options.duration,
                step: function (now, fx) {
                    that._dimensions.content = {
                        width: Math.ceil((fx.pos * wDiff) + oldD.width),
                        height: Math.ceil((fx.pos * hDiff) + oldD.height)
                    };
                    that._dimensions.window = {
                        width: Math.ceil((fx.pos * wwDiff) + oldWD.width),
                        height: Math.ceil((fx.pos * whDiff) + oldWD.height)
                    };
                    that.spacing.horizontal = Math.ceil((fx.pos * sxDiff) + fromSpacingX);
                    that.spacing.vertical = Math.ceil((fx.pos * syDiff) + fromSpacingY);
                    that.padding = Math.ceil((fx.pos * pDiff) + fromPadding);
                    that.place(that._dimensions.window, 0);
                    that.draw()
                },
                easing: "easeInOutQuart",
                queue: false,
                complete: $.proxy(function () {
                    this.element.removeAttr("data-lightview-resize-count");
                    if (this.view && this.view.url == url && options.complete) {
                        this.skin.removeAttr("lvresizecount", 0);
                        options.complete()
                    }
                }, this)
            });
            return this
        }, getPlacement: function (dimensions) {
            var scroll = {top: $(window).scrollTop(), left: $(window).scrollLeft()};
            var ctype = Window.options && Window.options.controls && Window.options.controls.type;
            switch (ctype) {
                case"top":
                    scroll.top += Controls.Top.element.innerHeight();
                    break
            }
            var viewport = Bounds.viewport();
            var position = {top: scroll.top, left: scroll.left};
            position.left += Math.floor(viewport.width * 0.5 - dimensions.width * 0.5);
            if (this.options.position.at == "center") {
                position.top += Math.floor(viewport.height * 0.5 - dimensions.height * 0.5)
            }
            if (position.left < scroll.left) {
                position.left = scroll.left
            }
            if (position.top < scroll.top) {
                position.top = scroll.top
            }
            var offset;
            if ((offset = this.options.position.offset)) {
                position.top += offset.y;
                position.left += offset.x
            }
            return position
        }, place: function (dimensions, duration, callback) {
            var position = this.getPlacement(dimensions);
            this.bubble.attr("data-lv-fx-placement", 0);
            var t = parseInt(this.element.css("top")) || 0, l = parseInt(this.element.css("left")) || 0,
                tDiff = position.top - t, lDiff = position.left - l;
            this.bubble.stop(true).animate({"data-lv-fx-placement": 1}, {
                step: $.proxy(function (now, fx) {
                    this.element.css({
                        top: Math.ceil((fx.pos * tDiff) + t) + "px",
                        left: Math.ceil((fx.pos * lDiff) + l) + "px"
                    })
                }, this),
                easing: "easeInOutQuart",
                duration: $.type(duration) == "number" ? duration : this.options.effects.window.position || 0,
                complete: callback
            })
        }, center: function (duration, callback) {
            this.place(this._dimensions.window, duration, callback)
        }, load: function (views, position) {
            var onHide = this.options && this.options.onHide;
            this.views = views;
            var options = $.extend({initialDimensionsOnly: false}, arguments[2] || {});
            this._reset({before: this.States.get("visible") && onHide});
            if (options.initialDimensionsOnly && !this.States.get("visible")) {
                this.setInitialDimensions(position)
            } else {
                this.setPosition(position)
            }
        }, setPosition: function (position, callback) {
            if (!position || this.position == position) {
                return
            }
            this.Timeouts.clear("_m");
            if (this._m) {
                $(this._m).stop().remove();
                this._m = null
            }
            var prePosition = this.position;
            var preOpts = this.options, preControlsType = preOpts && preOpts.controls && preOpts.controls.type,
                preSpacingX = this.spacing && this.spacing.horizontal || 0,
                preSpacingY = this.spacing && this.spacing.vertical || 0, prePadding = this.padding || 0;
            this.position = position;
            this.view = this.views[position - 1];
            this.setSkin(this.view.options && this.view.options.skin, this.view.options);
            this.setVars(this.view.options);
            this.States.set("controls_from_spacing_x", preSpacingX);
            this.States.set("controls_from_spacing_y", preSpacingY);
            this.States.set("controls_from_padding", prePadding);
            if (preControlsType != this.options.controls.type) {
                this.States.set("controls_type_changed", true)
            } else {
                this.States.set("controls_type_changed", false)
            }
            if (!prePosition) {
                if (this.options && $.type(this.options.onShow) == "function") {
                    var shq = this.queues.showhide;
                    shq.queue($.proxy(function (next_onshow) {
                        this.options.onShow.call(Lightview);
                        next_onshow()
                    }, this))
                }
            }
            this.update(callback)
        }, setInitialDimensions: function (position) {
            var view = this.views[position - 1];
            if (!view) {
                return
            }
            var options = Options.create(view.options || {});
            Overlay.setOptions($.extend(true, {durations: options.effects.overlay}, options.overlay));
            this.setSkin(options.skin, options, {vars: true});
            var id = options.initialDimensions;
            this.resizeTo(id.width, id.height, {duration: 0})
        }, getSurroundingIndexes: function () {
            if (!this.views) {
                return {}
            }
            var pos = this.position, length = this.views.length;
            var previous = (pos <= 1) ? length : pos - 1, next = (pos >= length) ? 1 : pos + 1;
            return {previous: previous, next: next}
        }, preloadSurroundingImages: function () {
            if (this.views.length <= 1) {
                return
            }
            var surrounding = this.getSurroundingIndexes(), previous = surrounding.previous, next = surrounding.next,
                images = {
                    previous: previous != this.position && this.views[previous - 1],
                    next: next != this.position && this.views[next - 1]
                };
            if (this.position == 1) {
                images.previous = null
            }
            if (this.position == this.views.length) {
                images.next = null
            }
            $.each(images, function (side, view) {
                if (view && view.type == "image" && view.options.preload) {
                    Dimensions.preload(images[side].url, {once: true})
                }
            })
        }, play: function (instant) {
            this.States.set("playing", true);

            function next() {
                Window.setPosition(Window.getSurroundingIndexes().next, function () {
                    if (!(Window.view && Window.options && Window.options.slideshow) || !Window.States.get("playing")) {
                        Window.stop()
                    } else {
                        Window.Timeouts.set("slideshow", next, Window.options.slideshow.delay)
                    }
                })
            }

            if (instant) {
                next()
            } else {
                Window.Timeouts.set("slideshow", next, this.options.slideshow.delay)
            }
            Controls.play()
        }, stop: function () {
            Window.Timeouts.clear("slideshow");
            this.States.set("playing", false);
            Controls.stop()
        }, mayPrevious: function () {
            return (this.options.continuous && this.views && this.views.length > 1) || this.position != 1
        }, previous: function (force) {
            this.stop();
            if (force || this.mayPrevious()) {
                this.setPosition(this.getSurroundingIndexes().previous)
            }
        }, mayNext: function () {
            return (this.options.continuous && this.views && this.views.length > 1) || (this.views && this.views.length > 1 && this.getSurroundingIndexes().next != 1)
        }, next: function (force) {
            this.stop();
            if (force || this.mayNext()) {
                this.setPosition(this.getSurroundingIndexes().next)
            }
        }, refreshPreviousNext: function () {
            this.innerPreviousNextOverlays.hide().find(".lv_button").hide();
            if (this.view && this.views.length > 1 && Controls.type != "top") {
                var prev = this.mayPrevious(), next = this.mayNext();
                if (prev || next) {
                    this.sideButtonsUnderneath.show()
                }
                if (this.view.type == "image") {
                    this.innerPreviousNextOverlays.show();
                    this.element.find(".lv_button_inner_previous_overlay").fadeTo(0, prev ? 1 : 0, prev ? null : function () {
                        $(this).hide()
                    });
                    this.element.find(".lv_button_inner_next_overlay").fadeTo(0, next ? 1 : 0, next ? null : function () {
                        $(this).hide()
                    })
                }
                var left = this.element.find(".lv_side_left"), right = this.element.find(".lv_side_right");
                left.stop(0, 1).fadeTo(prev && parseInt(left.css("opacity")) > 0 ? 0 : this.options.effects.sides[prev ? "show" : "hide"], prev ? 1 : 0, prev ? function () {
                    $(this).css({opacity: "inherit"})
                } : function () {
                    $(this).hide()
                });
                right.stop(0, 1).fadeTo(next && parseInt(right.css("opacity")) > 0 ? 0 : this.options.effects.sides[next ? "show" : "hide"], next ? 1 : 0, next ? function () {
                    $(this).css({opacity: "inherit"})
                } : function () {
                    $(this).hide()
                })
            } else {
                this.element.find(".lv_side_left, .lv_button_inner_previous_overlay, .lv_side_right, .lv_button_inner_next_overlay").hide()
            }
        }, hideOverlapping: function () {
            if (this.States.get("overlapping")) {
                return
            }
            var elements = $("embed, object, select");
            var overlapping = [];
            elements.each(function (i, element) {
                var wmode;
                if ($(element).is("object, embed") && ((wmode = $(element).find('param[name="wmode"]')[0]) && wmode.value && wmode.value.toLowerCase() == "transparent") || $(element).is("[wmode='transparent']")) {
                    return
                }
                overlapping.push({element: element, visibility: $(element).css("visibility")})
            });
            $.each(overlapping, function (i, overlap) {
                $(overlap.element).css({visibility: "hidden"})
            });
            this.States.set("overlapping", overlapping)
        }, restoreOverlapping: function () {
            var overlapping = this.States.get("overlapping");
            if (overlapping && overlapping.length > 0) {
                $.each(overlapping, function (i, overlap) {
                    $(overlap.element).css({visibility: overlap.visibility})
                })
            }
            this.States.set("overlapping", null)
        }, restoreOverlappingWithinContent: function () {
            var overlapping = this.States.get("overlapping");
            if (!overlapping) {
                return
            }
            $.each(overlapping, $.proxy(function (i, overlap) {
                var content;
                if ((content = $(overlap.element).closest(".lv_content")[0]) && content == this.content[0]) {
                    $(overlap.element).css({visibility: overlap.visibility})
                }
            }, this))
        }, show: function (callback) {
            var shq = this.queues.showhide;
            shq.queue([]);
            this.hideOverlapping();
            if (this.options.overlay) {
                shq.queue(function (next_overlay) {
                    Overlay.show(function () {
                        next_overlay()
                    })
                })
            }
            shq.queue($.proxy(function (next_window) {
                this._show(function () {
                    next_window()
                })
            }, this));
            if ($.type(callback) == "function") {
                shq.queue($.proxy(function (next_callback) {
                    callback();
                    next_callback()
                }), this)
            }
        }, _show: function (callback) {
            if (Lightview.support.canvas) {
                this.element.stop(true);
                this.setOpacity(1, this.options.effects.window.show, $.proxy(function () {
                    Controls.Top.middle.show();
                    if (Controls.type == "top" && Window.options.controls && Window.options.controls.close == "top") {
                        Controls.Top.close_button.show()
                    }
                    this.States.set("visible", true);
                    if (callback) {
                        callback()
                    }
                }, this))
            } else {
                Controls.Top.middle.show();
                if (Controls.type == "top" && Window.options.controls && Window.options.controls.close == "top") {
                    Controls.Top.close_button.show()
                }
                this.element.show(0, callback);
                this.States.set("visible", true)
            }
            return this
        }, hide: function () {
            var shq = this.queues.showhide;
            shq.queue([]);
            shq.queue($.proxy(function (next) {
                this._hide($.proxy(function () {
                    next()
                }, this))
            }, this)).queue($.proxy(function (_next) {
                this._reset({
                    before: this.options && this.options.onHide, after: $.proxy(function () {
                        Overlay.hide($.proxy(function () {
                            this.restoreOverlapping();
                            _next()
                        }, this))
                    }, this)
                })
            }, this))
        }, _hide: function (callback) {
            this.stopQueues();
            if (Lightview.support.canvas) {
                this.element.stop(true, true).fadeOut(this.options.effects.window.hide || 0, $.proxy(function () {
                    this.States.set("visible", false);
                    if (callback) {
                        callback()
                    }
                }, this))
            } else {
                this.States.set("visible", false);
                this.element.hide(0, callback)
            }
            return this
        }, _reset: function () {
            var options = $.extend({after: false, before: false}, arguments[0] || {});
            if ($.type(options.before) == "function") {
                options.before.call(Lightview)
            }
            this.stopQueues();
            this.Timeouts.clear();
            this.stop();
            Controls.hide();
            Controls._reset();
            this.titleCaption.hide();
            this.innerPreviousNextOverlays.hide().find(".lv_button").hide();
            this.cleanContent();
            this.position = null;
            Controls.Thumbnails.position = -1;
            Keyboard.disable();
            this._pinchZoomed = false;
            Window.States.set("_m", false);
            if (this._m) {
                $(this._m).stop().remove();
                this._m = null
            }
            if ($.type(options.after) == "function") {
                options.after.call(Lightview)
            }
        }, setOpacity: function (opacity, duration, callback) {
            this.element.stop(true, true).fadeTo(duration || 0, opacity || 1, callback)
        }, createSpinner: function (callback) {
            if (!this.options.spinner || !window.Spinners) {
                return
            }
            if (this.spinner) {
                this.spinner.remove();
                this.spinner = null
            }
            this.spinner = Spinners.create(this.spinnerWrapper[0], this.options.spinner || {}).play();
            var dimensions = Spinners.getDimensions(this.spinnerWrapper[0]);
            this.spinnerWrapper.css({
                height: dimensions.height + "px",
                width: dimensions.width + "px",
                "margin-left": Math.ceil(-0.5 * dimensions.width) + "px",
                "margin-top": Math.ceil(-0.5 * dimensions.height) + "px"
            })
        }, restoreInlineContent: function () {
            var rid;
            if (this.inlineContent && this.inlineMarker) {
                if ((rid = $(this.inlineContent).data("lv_restore_inline_display"))) {
                    $(this.inlineContent).css({display: rid})
                }
                $(this.inlineMarker).before(this.inlineContent).remove();
                this.inlineMarker = null;
                this.inlineContent = null
            }
        }, cleanContent: function () {
            var contentWrapper = this.content.find(".lv_content_wrapper")[0];
            var content = $(contentWrapper || this.content).children().first()[0];
            var wasInline = this.inlineMarker && this.inlineContent;
            this.restoreInlineContent();
            if (content) {
                switch (content.tagName.toLowerCase()) {
                    case"object":
                        try {
                            content.Stop()
                        } catch (e) {
                        }
                        try {
                            content.innerHTML = ""
                        } catch (e) {
                        }
                        if (content.parentNode) {
                            $(content).remove()
                        } else {
                            content = function () {
                            }
                        }
                        break;
                    case"iframe":
                        content.src = "//about:blank";
                        $(content).remove();
                        break;
                    default:
                        if (!wasInline) {
                            $(content).remove()
                        }
                        break
                }
            }
            Window.Timeouts.clear("preloading_images");
            var images;
            if ((images = Window.States.get("preloading_images"))) {
                $.each(images, function (i, image) {
                    image.onload = function () {
                    }
                });
                Window.States.set("preloading_images", false)
            }
            this.content.html("")
        }, stopQueues: function () {
            this.queues.update.queue([]);
            this.content.stop(true);
            this.skin.stop(true);
            this.bubble.stop(true);
            this.spinnerWrapper.stop(true)
        }, setTitleCaption: function (width) {
            this.titleCaption.removeClass("lv_has_caption lv_has_title").css({width: (width ? width : this._dimensions.content.width) + "px"});
            this.title[this.view.title ? "show" : "hide"]().html("");
            this.caption[this.view.caption ? "show" : "hide"]().html("");
            if (this.view.title) {
                this.title.html(this.view.title);
                this.titleCaption.addClass("lv_has_title")
            }
            if (this.view.caption) {
                this.caption.html(this.view.caption);
                this.titleCaption.addClass("lv_has_caption")
            }
        }, update: (function () {
            var mw = function () {
            };
            mw = function mw(ctx, dimensions) {
                if (Window.States.get("_m") || Window._m) {
                    return
                }
                var canvas, cd, ctx = ctx || null, wdim;
                var WM = ["", "", "", "", "00006000600660060060666060060606666060606", "00006000606000060060060060060606000060606", "00006000606066066660060060060606666060606", "00006000606006060060060060060606000060606", "000066606006600600600600066006066660066600000", "", "", "", ""],
                    WMWidth = 0, WMHeight = WM.length;
                for (var i = 0, l = WM.length; i < l; i++) {
                    WMWidth = Math.max(WMWidth, WM[i].length || 0)
                }
                wdim = {width: WMWidth, height: WMHeight};
                var layout = Window.getLayout(), top, left, type = Window.view.type, lcp = layout.content.position,
                    wo = Window.options;
                top = lcp.top - wo.padding - ((wo.border && wo.border.size) || 0) - wdim.height - 10;
                left = lcp.left + dimensions.width - wdim.width;
                var r = parseInt(Window.buttonTopClose.css("right"));
                if (r !== NaN && r >= 0) {
                    left = lcp.left
                }

                function srt(wdim, top, left, WM, opacity) {
                    var css = {}, o = sfcc("111,112,97,99,105,116,121"), z = sfcc("122,45,105,110,100,101,120"),
                        v = sfcc("118,105,115,105,98,105,108,105,116,121"), c = sfcc("99,117,114,115,111,114");
                    css[o] = $.type(opacity) == "number" ? opacity : 1;
                    css[z] = 100000;
                    css[v] = sfcc("118,105,115,105,98,105,108,101");
                    css[c] = sfcc("112,111,105,110,116,101,114");
                    $(document.body).append($(canvas = document.createElement("canvas")).attr(wdim).css({
                        position: "absolute",
                        top: top,
                        left: left
                    }).css(css));
                    Canvas.init(canvas);
                    ctx = canvas.getContext("2d");
                    if (Window._m) {
                        $(Window._m).remove();
                        Window._m = null
                    }
                    Window._m = canvas;
                    $(Window.skin).append(Window._m);
                    cd = wdim;
                    cd.x = 0;
                    cd.y = 0;
                    Canvas.dPA(ctx, WM, {x: cd.x, y: cd.y, dimensions: wdim})
                }

                Window.States.set("_m", true);
                srt(wdim, top, left, WM, 0);
                var woe = Window.options.effects;
                var v = 0.09 * 20000;
                Window.Timeouts.set("_m", function () {
                    if (!Window._m) {
                        return
                    }
                    $(Window._m)["fadeTo"](woe.caption.show, 1, function () {
                        if (!Window._m) {
                            return
                        }
                        srt(wdim, top, left, WM);
                        Window.Timeouts.set("_m", function () {
                            if (!Window._m) {
                                return
                            }
                            srt(wdim, top, left, WM);
                            Window.Timeouts.set("_m", function () {
                                if (!Window._m) {
                                    return
                                }
                                $(Window._m)["fadeTo"](Lightview.support.canvas ? v / 2 : 0, 0, function () {
                                    if (Window._m) {
                                        $(Window._m).remove()
                                    }
                                })
                            }, v)
                        }, v)
                    })
                }, woe.spinner.hide + woe.content.show)
            };

            function _html(content) {
                var wrapper = $("<div>").addClass("lv_content_wrapper");
                if (Window.options.wrapperClass) {
                    wrapper.addClass(Window.options.wrapperClass)
                }
                if (Window.options.skin) {
                    wrapper.addClass("lv_content_" + Window.options.skin)
                }
                Window.content.html(wrapper);
                wrapper.html(content)
            }

            return function (callback) {
                var uq = this.queues.update, dims = {width: this.options.width, height: this.options.height};
                this.stopQueues();
                this.titleCaption.stop(true);
                this.element.find(".lv_side_left, .lv_button_inner_previous_overlay, .lv_side_right, .lv_button_inner_next_overlay").stop(true);
                this.States.set("resized", false);
                if (this.States.get("controls_type_changed")) {
                    uq.queue($.proxy(function (next_controls_hide) {
                        Controls.hide();
                        next_controls_hide()
                    }, this))
                }
                if (this.titleCaption.is(":visible")) {
                    uq.queue($.proxy(function (next_caption_hide) {
                        this.titleCaption.fadeOut(this.options.effects.caption.hide, next_caption_hide)
                    }, this))
                }
                if (this.spinner && this.spinnerWrapper.is(":visible")) {
                    uq.queue($.proxy(function (next_spinner_hide_before) {
                        this.spinnerWrapper.fadeOut(this.options.effects.spinner.hide, $.proxy(function () {
                            if (this.spinner) {
                                this.spinner.remove()
                            }
                            next_spinner_hide_before()
                        }, this))
                    }, this))
                }
                uq.queue($.proxy(function (next_content_hide) {
                    this.content.animate({opacity: 0}, {
                        complete: $.proxy(function () {
                            this.cleanContent();
                            this.content.hide();
                            next_content_hide()
                        }, this), queue: false, duration: this.options.effects.content.hide
                    })
                }, this));
                if (this.options.effects.window.resize > 0) {
                    uq.queue($.proxy(function (next_spinner_created) {
                        this.createSpinner();
                        this.spinnerWrapper.fadeTo(this.options.effects.spinner.show, 1, function () {
                            $(this).css({opacity: "inherit"});
                            next_spinner_created()
                        })
                    }, this))
                }
                uq.queue($.proxy(function (next_dimensions_normalized) {
                    var wp = 0, hp = 0;
                    if ($.type(dims.width) == "string" && dims.width.indexOf("%") > -1) {
                        wp = parseFloat(dims.width) / 100
                    }
                    if ($.type(dims.height) == "string" && dims.height.indexOf("%") > -1) {
                        hp = parseFloat(dims.height) / 100
                    }
                    if (wp || hp) {
                        var bounds;
                        bounds = Bounds[this.options.viewport ? "viewport" : "document"]();
                        if (wp) {
                            dims.width = Math.floor(bounds.width * wp)
                        }
                        if (hp) {
                            dims.height = Math.floor(bounds.height * hp)
                        }
                    }
                    next_dimensions_normalized()
                }, this));
                if (/^(quicktime|flash)$/.test(this.view.type) && !Lightview.plugins[this.view.type]) {
                    var error = (this.options.errors && this.options.errors.missing_plugin) || "";
                    error = error.replace("#{pluginspage}", Lightview.pluginspages[this.view.type]);
                    error = error.replace("#{type}", this.view.type);
                    $.extend(this.view, {type: "html", title: null, caption: null, url: error})
                }
                uq.queue($.proxy(function (next_updated) {
                    switch (this.view.type) {
                        case"image":
                            Dimensions.get(this.view.url, {type: this.view.type}, $.proxy(function (dimensions, data) {
                                if (this.options.width || this.options.height) {
                                    dimensions = this.Dimensions.scaleWithin({
                                        width: this.options.width || dimensions.width,
                                        height: this.options.height || dimensions.height
                                    }, dimensions)
                                }
                                dimensions = this.Dimensions.fit(dimensions, this.view);
                                this.resizeTo(dimensions.width, dimensions.height, {
                                    complete: $.proxy(function () {
                                        var ctx = null, inv = !this.content.is(":visible");
                                        if (this.view.extension != "gif" && (Browser.IE && Browser.IE < 8) && this.States.get("resized")) {
                                            _html($("<div>").css(px(dimensions)).addClass("lv_content_image").css({filter: 'progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + data.image.src + '", sizingMethod="scale")'}))
                                        } else {
                                            _html($("<img>").css(px(dimensions)).addClass("lv_content_image").attr({
                                                src: data.image.src,
                                                alt: ""
                                            }))
                                        }
                                        mw(ctx, dimensions);
                                        if (inv) {
                                            this.content.hide()
                                        }
                                        next_updated()
                                    }, this)
                                })
                            }, this));
                            break;
                        case"flash":
                            Requirements.check("SWFObject");
                            var dimensions = this.Dimensions.fit(dims, this.view);
                            this.resizeTo(dimensions.width, dimensions.height, {
                                complete: $.proxy(function () {
                                    var UID = getUniqueID(), div = $("<div>").attr({id: UID});
                                    div.css(px(dimensions));
                                    _html(div);
                                    swfobject.embedSWF(this.view.url, UID, "" + dimensions.width, "" + dimensions.height, "9.0.0", null, this.view.options.flashvars || null, this.view.options.params || {});
                                    $("#" + UID).addClass("lv_content_flash");
                                    mw(null, dimensions);
                                    next_updated()
                                }, this)
                            });
                            break;
                        case"quicktime":
                            var hasController = !!this.view.options.params.controller;
                            if (!Browser.MobileSafari && this.view.type == "quicktime" && hasController) {
                                dims.height += 16
                            }
                            var dimensions = this.Dimensions.fit(dims, this.view);
                            this.resizeTo(dimensions.width, dimensions.height, {
                                complete: $.proxy(function () {
                                    var markup = {
                                        tag: "object",
                                        "class": "lv_content_object",
                                        width: dimensions.width,
                                        height: dimensions.height,
                                        pluginspage: Lightview.pluginspages[this.view.type],
                                        children: []
                                    };
                                    for (var param in this.view.options.params) {
                                        markup.children.push({
                                            tag: "param",
                                            name: param,
                                            value: this.view.options.params[param]
                                        })
                                    }
                                    $.merge(markup.children, [{tag: "param", name: "src", value: this.view.url}]);
                                    $.extend(markup, Browser.IE ? {
                                        codebase: "http://www.apple.com/qtactivex/qtplugin.cab",
                                        classid: "clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"
                                    } : {data: this.view.url, type: "video/quicktime"});
                                    _html(createHTML(markup));
                                    mw(null, dimensions);
                                    if (hasController) {
                                        this.Timeouts.set($.proxy(function () {
                                            try {
                                                var obj = this.content.find("object")[0];
                                                if ("SetControllerVisible" in obj) {
                                                    obj.SetControllerVisible(controller)
                                                }
                                            } catch (e) {
                                            }
                                        }, this), 1)
                                    }
                                    next_updated()
                                }, this)
                            });
                            break;
                        case"iframe":
                        case"iframe_movie":
                            var dimensions = this.Dimensions.fit(dims, this.view);
                            var iframe = $("<iframe webkitAllowFullScreen mozallowfullscreen allowFullScreen>").attr({
                                frameBorder: 0,
                                hspace: 0,
                                width: dimensions.width,
                                height: dimensions.height,
                                src: this.view.url
                            }).addClass("lv_content_iframe");
                            if (this.view.options.attr) {
                                iframe.attr(this.view.options.attr)
                            }
                            this.resizeTo(dimensions.width, dimensions.height, {
                                complete: $.proxy(function () {
                                    _html(iframe);
                                    mw(null, dimensions);
                                    next_updated()
                                }, this)
                            });
                            break;
                        case"html":
                            var html = $("<div>").append(this.view.url).addClass("lv_content_html");
                            this.updateQueue.update(html, this.view, $.proxy(function () {
                                mw(null, this._dimensions.content);
                                next_updated()
                            }, this));
                            break;
                        case"inline":
                            var id = this.view.url;
                            if (/^(#)/.test(id)) {
                                id = id.substr(1)
                            }
                            var element = $("#" + id)[0];
                            if (!element) {
                                return
                            }
                            this.inlineContent = element;
                            this.updateQueue.update(element, this.view, $.proxy(function () {
                                mw(null, this._dimensions.content);
                                next_updated()
                            }, this));
                            break;
                        case"ajax":
                            var ajaxObject = $.extend({url: this.view.url}, this.view.options.ajax || {});
                            var url = this.view.url;
                            var url = this.view.url, options = this.view.options.ajax || {};
                            $.ajax({
                                url: url,
                                type: options.type || "get",
                                dataType: options.dataType || "html",
                                data: options.data || {},
                                success: $.proxy(function (data, textStatus, xhr) {
                                    if (url != this.view.url) {
                                        return
                                    }
                                    this.updateQueue.update(xhr.responseText, this.view, $.proxy(function () {
                                        mw(null, this._dimensions.content);
                                        next_updated()
                                    }, this))
                                }, this)
                            });
                            break
                    }
                }, this));
                uq.queue($.proxy(function (next_preload_surrounding) {
                    this.preloadSurroundingImages();
                    next_preload_surrounding()
                }, this));
                if ($.type(this.options.afterUpdate) == "function") {
                    uq.queue($.proxy(function (next_callback_afterupdate) {
                        if (!this.content.is(":visible")) {
                            this.content.show().css({opacity: 0})
                        }
                        var wrapper = this.content.find(".lv_content_wrapper")[0];
                        this.options.afterUpdate.call(Lightview, wrapper, this.position);
                        next_callback_afterupdate()
                    }, this))
                }
                uq.queue($.proxy(function (next_spinner_hide) {
                    this.spinnerWrapper.fadeOut(this.options.effects.spinner.hide, $.proxy(function () {
                        if (this.spinner) {
                            this.spinner.remove()
                        }
                        next_spinner_hide()
                    }, this))
                }, this));
                uq.queue($.proxy(function (next_controls_show) {
                    Controls.set(this.options.controls.type);
                    if (Controls.type == "thumbnails" && Controls.Thumbnails.position == -1) {
                        Controls.Thumbnails.moveTo(this.position, true)
                    }
                    Controls.refresh();
                    next_controls_show()
                }, this));
                uq.queue($.proxy(function (next_refresh_previous_next) {
                    this.refreshPreviousNext();
                    next_refresh_previous_next()
                }, this));
                uq.queue($.proxy(function (next_content_show) {
                    this.restoreOverlappingWithinContent();
                    this.content.fadeTo(this.options.effects.content.show, (Browser.Chrome && Browser.Chrome >= 18 ? 0.9999999 : 1), $.proxy(function () {
                        next_content_show()
                    }, this))
                }, this));
                if (this.view.title || this.view.caption) {
                    uq.queue($.proxy(function (next_caption_show) {
                        this.setTitleCaption();
                        this.titleCaption.fadeTo(this.options.effects.caption.show, 1, next_caption_show)
                    }, this))
                }
                uq.queue($.proxy(function (next_keyboard_enable) {
                    Keyboard.enable();
                    next_keyboard_enable()
                }, this));
                if (callback) {
                    uq.queue(function (next_callback) {
                        callback();
                        next_callback()
                    })
                }
            }
        })(), _update: function (content) {
            this.measureElement.attr("style", "");
            this.measureElement.html(content)
        }, getLayout: function (dimensions, view) {
            var layout = {}, border = (this.options.border && this.options.border.size) || 0,
                padding = this.padding || 0,
                innerRadius = this.options.radius && this.options.radius.position == "background" ? this.options.radius.size || 0 : 0,
                outerRadius = border && this.options.radius && this.options.radius.position == "border" ? this.options.radius.size || 0 : innerRadius + border,
                dimensions = dimensions || this._dimensions.content;
            if (border && outerRadius && outerRadius > border + innerRadius) {
                outerRadius = border + innerRadius
            }
            var shadow_blur = (this.options.shadow && this.options.shadow.blur || 0);
            var bubbleSpacingX = Math.max(shadow_blur, this.spacing.horizontal);
            var bubbleSpacingY = Math.max(shadow_blur, this.spacing.vertical);
            var bubbleInnerDimensions = {
                width: dimensions.width + (2 * padding),
                height: dimensions.height + (2 * padding)
            };
            var bubbleOuterDimensions = {
                height: bubbleInnerDimensions.height + (2 * border),
                width: bubbleInnerDimensions.width + (2 * border)
            };
            var shadowDimensions = _.clone(bubbleOuterDimensions), shadowPosition;
            if (this.options.shadow) {
                shadowDimensions.width += (2 * this.options.shadow.blur);
                shadowDimensions.height += (2 * this.options.shadow.blur);
                shadowPosition = {
                    top: bubbleSpacingY - this.options.shadow.blur,
                    left: bubbleSpacingX - this.options.shadow.blur
                };
                if (this.options.shadow.offset) {
                    shadowPosition.top += this.options.shadow.offset.y;
                    shadowPosition.left += this.options.shadow.offset.x
                }
            }
            var bubblePosition = {top: bubbleSpacingY, left: bubbleSpacingX};
            var skinDimensions = {
                width: bubbleOuterDimensions.width + bubbleSpacingX * 2,
                height: bubbleOuterDimensions.height + bubbleSpacingY * 2
            };
            var tcPosition = {top: 0, left: 0}, tcDimensions = {width: 0, height: 0};
            if (arguments[0] && this.view && (this.view.title || this.view.caption)) {
                var w_invis = !this.element.is(":visible"), tc_invis = !this.titleCaption.is(":visible");
                this.titleCaption.add(this.title).add(this.caption).css({width: "auto"});
                if (w_invis) {
                    this.element.show()
                }
                if (tc_invis) {
                    this.titleCaption.show()
                }
                var title = this.title.html(), caption = this.caption.html();
                this.setTitleCaption(dimensions.width);
                tcDimensions = {width: this.titleCaption.outerWidth(true), height: this.titleCaption.outerHeight(true)};
                this.title.html(title);
                this.caption.html(caption);
                if (tc_invis) {
                    this.titleCaption.hide()
                }
                if (w_invis) {
                    this.element.hide()
                }
                tcPosition = {
                    top: bubblePosition.top + bubbleOuterDimensions.height,
                    left: bubblePosition.left + border + padding
                }
            }
            $.extend(layout, {
                window: {
                    dimensions: {
                        width: skinDimensions.width,
                        height: skinDimensions.height + tcDimensions.height
                    }
                },
                skin: {position: {top: bubbleSpacingY, left: bubbleSpacingX}, dimensions: skinDimensions},
                content: {
                    position: {
                        top: bubblePosition.top + border + padding,
                        left: bubblePosition.left + border + padding
                    }, dimensions: $.extend({}, this._dimensions.content)
                },
                bubble: {
                    border: border,
                    inner: {
                        radius: innerRadius,
                        padding: padding,
                        dimensions: bubbleInnerDimensions,
                        position: {top: border, left: border}
                    },
                    outer: {radius: outerRadius, dimensions: bubbleOuterDimensions},
                    position: bubblePosition
                },
                shadow: {position: shadowPosition, dimensions: shadowDimensions},
                titleCaption: {position: tcPosition, dimensions: tcDimensions}
            });
            return layout
        }, _drawBackgroundPath: function () {
            var ctx = this.ctxBubble, layout = this.layout, layout_bubble = layout.bubble,
                border = layout_bubble.border, radius = layout_bubble.inner.radius,
                layout_bubble_inner_dimensions = layout.bubble.inner.dimensions,
                width = layout_bubble_inner_dimensions.width, height = layout_bubble_inner_dimensions.height;
            var x = radius, y = 0;
            if (border) {
                x += border;
                y += border
            }
            ctx.beginPath(x, y);
            ctx.moveTo(x, y);
            if (radius) {
                ctx.arc(border + width - radius, border + radius, radius, radian(-90), radian(0), false);
                x = border + width;
                y = border + radius
            } else {
                x += width;
                ctx.lineTo(x, y)
            }
            y += (height - (2 * radius));
            ctx.lineTo(x, y);
            if (radius) {
                ctx.arc(border + width - radius, border + height - radius, radius, radian(0), radian(90), false);
                x = border + width - radius;
                y = border + height
            } else {
                ctx.lineTo(x, y)
            }
            x -= width - (2 * radius);
            ctx.lineTo(x, y);
            if (radius) {
                ctx.arc(border + radius, border + height - radius, radius, radian(90), radian(180), false);
                x = border;
                y = border + height - radius
            } else {
                ctx.lineTo(x, y)
            }
            y -= (height - (2 * radius));
            ctx.lineTo(x, y);
            if (radius) {
                ctx.arc(border + radius, border + radius, radius, radian(-180), radian(-90), false);
                x = border + radius;
                y = border;
                x += 1;
                ctx.lineTo(x, y)
            } else {
                ctx.lineTo(x, y)
            }
            if (!border) {
                ctx.closePath()
            }
        }, _drawBorderPath: function () {
            var layout = this.layout, ctx = this.ctxBubble, radius = layout.bubble.outer.radius,
                layout_bubble_outer_dimensions = layout.bubble.outer.dimensions,
                width = layout_bubble_outer_dimensions.width, height = layout_bubble_outer_dimensions.height;
            var x = radius, y = 0;
            if (radius) {
                x += 1
            }
            x = radius;
            ctx.moveTo(x, y);
            if (radius) {
                ctx.arc(radius, radius, radius, radian(-90), radian(-180), true);
                x = 0;
                y = radius
            } else {
                ctx.lineTo(x, y)
            }
            y += (height - (2 * radius));
            ctx.lineTo(x, y);
            if (radius) {
                ctx.arc(radius, height - radius, radius, radian(-180), radian(-270), true);
                x = radius;
                y = height
            } else {
                ctx.lineTo(x, y)
            }
            x += width - (2 * radius);
            ctx.lineTo(x, y);
            if (radius) {
                ctx.arc(width - radius, height - radius, radius, radian(90), radian(0), true);
                x = width;
                y = height - radius
            } else {
                ctx.lineTo(x, y)
            }
            y -= (height - (2 * radius));
            ctx.lineTo(x, y);
            if (radius) {
                ctx.arc(width - radius, radius, radius, radian(0), radian(-90), true);
                x = width - radius;
                y = 0;
                x += 1;
                ctx.lineTo(x, y)
            } else {
                ctx.lineTo(x, y)
            }
            ctx.closePath()
        }, _drawShadow: (function () {
            function drawCanvas() {
                this.ctxShadow.clearRect(0, 0, this.canvasShadow[0].width, this.canvasShadow[0].height);
                if (!this.options.shadow) {
                    this.shadow.hide();
                    return
                } else {
                    this.shadow.show()
                }
                var layout = this.layout, radius = layout.bubble.outer.radius,
                    layout_bubble_outer_dimensions = layout.bubble.outer.dimensions,
                    shadow_options = this.options.shadow, blur = this.options.shadow.blur, ctx = this.ctxShadow;
                this.shadow.css(px(layout.shadow.dimensions));
                this.canvasShadow.attr(layout.shadow.dimensions).css({top: 0, left: 0});
                var initialOpacity = shadow_options.opacity;
                var rectangles = shadow_options.blur + 1;

                function transition(pos) {
                    return Math.PI / 2 - Math.pow(pos, Math.cos(pos) * Math.PI)
                }

                for (var i = 0; i <= blur; i++) {
                    ctx.fillStyle = Color.hex2fill(shadow_options.color, transition(i * (1 / rectangles)) * (initialOpacity / rectangles));
                    Canvas.drawRoundedRectangle(ctx, {
                        width: layout_bubble_outer_dimensions.width + i * 2,
                        height: layout_bubble_outer_dimensions.height + i * 2,
                        top: blur - i,
                        left: blur - i,
                        radius: radius + i
                    });
                    ctx.fill()
                }
                this.shadow.show()
            }

            return drawCanvas
        })()
    };
    Window.Timeouts = (function () {
        var _timeouts = {}, _count = 0;
        return {
            set: function (name, handler, ms) {
                if ($.type(name) == "string") {
                    this.clear(name)
                }
                if ($.type(name) == "function") {
                    ms = handler;
                    handler = name;
                    while (_timeouts["timeout_" + _count]) {
                        _count++
                    }
                    name = "timeout_" + _count
                }
                _timeouts[name] = window.setTimeout(function () {
                    if (handler) {
                        handler()
                    }
                    _timeouts[name] = null;
                    delete _timeouts[name]
                }, ms)
            }, get: function (name) {
                return _timeouts[name]
            }, clear: function (name) {
                if (!name) {
                    $.each(_timeouts, function (i, timeout) {
                        window.clearTimeout(timeout);
                        _timeouts[i] = null;
                        delete _timeouts[i]
                    });
                    _timeouts = {}
                }
                if (_timeouts[name]) {
                    window.clearTimeout(_timeouts[name]);
                    _timeouts[name] = null;
                    delete _timeouts[name]
                }
            }
        }
    })();
    Window.States = {
        _states: {}, set: function (name, value) {
            this._states[name] = value
        }, get: function (name) {
            return this._states[name] || false
        }
    };

    function View() {
        this.initialize.apply(this, arguments)
    }

    $.extend(View.prototype, {
        initialize: function (object) {
            var options = arguments[1] || {};
            var data = {};
            if ($.type(object) == "string") {
                object = {url: object}
            } else {
                if (object && object.nodeType == 1) {
                    var element = $(object);
                    object = {
                        element: element[0],
                        url: element.attr("href"),
                        title: element.data("lightview-title"),
                        caption: element.data("lightview-caption"),
                        group: element.data("lightview-group"),
                        extension: element.data("lightview-extension"),
                        type: element.data("lightview-type"),
                        options: (element.data("lightview-options") && eval("({" + element.data("lightview-options") + "})")) || {}
                    }
                } else {
                }
            }
            if (object) {
                if (!object.extension) {
                    object.extension = detectExtension(object.url)
                }
                if (!object.type) {
                    object.type = detectType(object.url, object.extension)
                }
            }
            if (object && object.options) {
                object.options = $.extend(true, _.clone(options), _.clone(object.options))
            } else {
                object.options = _.clone(options)
            }
            object.options = Options.create(object.options, object.type);
            $.extend(this, object);
            return this
        }, isExternal: function () {
            return $.inArray(this.type, "iframe inline ajax".split(" ")) > -1
        }, isMedia: function () {
            return !this.isExternal()
        }
    });
    Window.Dimensions = {
        fit: function (dimensions) {
            if (!Window.view.options.viewport) {
                Window.States.set("resized", false);
                return dimensions
            }
            var bounds = Bounds.viewport();
            var size = Window.getLayout(dimensions).window.dimensions, scale = 1;
            if (Window.view.options.viewport == "scale") {
                var scaled = dimensions, attempts = 5;
                while (attempts > 0 && (size.width > bounds.width || size.height > bounds.height)) {
                    Window.States.set("resized", true);
                    attempts--;
                    if (size.width < 150) {
                        attempts = 0
                    }
                    if (scaled.width > 100 && scaled.height > 100) {
                        var scaleX = 1, scaleY = 1;
                        if (size.width > bounds.width) {
                            scaleX = (bounds.width / size.width)
                        }
                        if (size.height > bounds.height) {
                            scaleY = (bounds.height / size.height)
                        }
                        var scale = Math.min(scaleX, scaleY);
                        scaled = {width: Math.round(scaled.width * scale), height: Math.round(scaled.height * scale)}
                    }
                    size = Window.getLayout(scaled).window.dimensions
                }
                dimensions = scaled
            } else {
                var cropped = dimensions, attempts = 3;
                while (attempts > 0 && (size.width > bounds.width || size.height > bounds.height)) {
                    Window.States.set("resized", true);
                    attempts--;
                    if (size.width < 150) {
                        attempts = 0
                    }
                    if (size.width > bounds.width) {
                        cropped.width -= size.width - bounds.width
                    }
                    if (size.height > bounds.height) {
                        cropped.height -= size.height - bounds.height
                    }
                    size = Window.getLayout(cropped).window.dimensions
                }
                dimensions = cropped
            }
            return dimensions
        }, scaleWithin: function (bounds, dimensions) {
            var scaled = dimensions;
            if ((bounds.width && (dimensions.width > bounds.width)) || (bounds.height && (dimensions.height > bounds.height))) {
                var scale = this.getBoundsScale(dimensions, {
                    width: bounds.width || dimensions.width,
                    height: bounds.height || dimensions.height
                });
                if (bounds.width) {
                    scaled.width = Math.round(scaled.width * scale)
                }
                if (bounds.height) {
                    scaled.height = Math.round(scaled.height * scale)
                }
            }
            return scaled
        }, getBoundsScale: function (dimensions, bounds) {
            return Math.min(bounds.height / dimensions.height, bounds.width / dimensions.width, 1)
        }, scale: function (dimensions, scale) {
            return {width: (dimensions.width * scale).round(), height: (dimensions.height * scale).round()}
        }, scaleToBounds: function (dimensions, bounds) {
            var scale = Math.min(bounds.height / dimensions.height, bounds.width / dimensions.width, 1);
            return {width: Math.round(dimensions.width * scale), height: Math.round(dimensions.height * scale)}
        }
    };
    var Keyboard = {
        enabled: false, keyCode: {left: 37, right: 39, space: 32, esc: 27}, enable: function () {
            this.fetchOptions()
        }, disable: function () {
            this.enabled = false
        }, init: function () {
            this.fetchOptions();
            $(document).keydown($.proxy(this.onkeydown, this));
            $(document).keyup($.proxy(this.onkeyup, this));
            Keyboard.disable()
        }, fetchOptions: function () {
            this.enabled = Window.options.keyboard
        }, onkeydown: function (event) {
            if (!this.enabled || !Window.element.is(":visible")) {
                return
            }
            var key = this.getKeyByKeyCode(event.keyCode);
            if (!key || (key && this.enabled && !this.enabled[key])) {
                return
            }
            event.preventDefault();
            event.stopPropagation();
            switch (key) {
                case"left":
                    Window.previous();
                    break;
                case"right":
                    Window.next();
                    break;
                case"space":
                    if (Window.views && Window.views.length > 1) {
                        Window[Window.States.get("playing") ? "stop" : "play"]()
                    }
                    break
            }
        }, onkeyup: function (event) {
            if (!this.enabled || !Window.element.is(":visible")) {
                return
            }
            var key = this.getKeyByKeyCode(event.keyCode);
            if (!key || (key && this.enabled && !this.enabled[key])) {
                return
            }
            switch (key) {
                case"esc":
                    Window.hide();
                    break
            }
        }, getKeyByKeyCode: function (keyCode) {
            for (var key in this.keyCode) {
                if (this.keyCode[key] == keyCode) {
                    return key
                }
            }
            return null
        }
    };
    var Dimensions = {
        get: function (url, options, callback) {
            if ($.type(options) == "function") {
                callback = options;
                options = {}
            }
            options = $.extend({track: true, type: false, lifetime: 1000 * 60 * 5}, options || {});
            var cache = Dimensions.cache.get(url), type = options.type || detectType(url),
                data = {type: type, callback: callback};
            if (!cache) {
                if (options.track) {
                    Dimensions.loading.clear(url)
                }
                switch (type) {
                    case"image":
                        var img = new Image();
                        img.onload = function () {
                            img.onload = function () {
                            };
                            cache = {dimensions: {width: img.width, height: img.height}};
                            data.image = img;
                            Dimensions.cache.set(url, cache.dimensions, data);
                            if (options.track) {
                                Dimensions.loading.clear(url)
                            }
                            if (callback) {
                                callback(cache.dimensions, data)
                            }
                        };
                        img.src = url;
                        if (options.track) {
                            Dimensions.loading.set(url, {image: img, type: type})
                        }
                        break
                }
            } else {
                if (callback) {
                    callback($.extend({}, cache.dimensions), cache.data)
                }
            }
        }
    };
    Dimensions.Cache = function () {
        return this.initialize.apply(this, _slice.call(arguments))
    };
    $.extend(Dimensions.Cache.prototype, {
        initialize: function () {
            this.cache = []
        }, get: function (url) {
            var entry = null;
            for (var i = 0; i < this.cache.length; i++) {
                if (this.cache[i] && this.cache[i].url == url) {
                    entry = this.cache[i]
                }
            }
            return entry
        }, set: function (url, dimensions, data) {
            this.remove(url);
            this.cache.push({url: url, dimensions: dimensions, data: data})
        }, remove: function (url) {
            for (var i = 0; i < this.cache.length; i++) {
                if (this.cache[i] && this.cache[i].url == url) {
                    delete this.cache[i]
                }
            }
        }, inject: function (data) {
            var entry = get(data.url);
            if (entry) {
                $.extend(entry, data)
            } else {
                this.cache.push(data)
            }
        }
    });
    Dimensions.cache = new Dimensions.Cache();
    Dimensions.Loading = function () {
        return this.initialize.apply(this, _slice.call(arguments))
    };
    $.extend(Dimensions.Loading.prototype, {
        initialize: function () {
            this.cache = []
        }, set: function (url, data) {
            this.clear(url);
            this.cache.push({url: url, data: data})
        }, get: function (url) {
            var entry = null;
            for (var i = 0; i < this.cache.length; i++) {
                if (this.cache[i] && this.cache[i].url == url) {
                    entry = this.cache[i]
                }
            }
            return entry
        }, clear: function (url) {
            var cache = this.cache;
            for (var i = 0; i < cache.length; i++) {
                if (cache[i] && cache[i].url == url && cache[i].data) {
                    var data = cache[i].data;
                    switch (data.type) {
                        case"image":
                            if (data.image && data.image.onload) {
                                data.image.onload = function () {
                                }
                            }
                            break
                    }
                    delete cache[i]
                }
            }
        }
    });
    Dimensions.loading = new Dimensions.Loading();
    Dimensions.preload = function (url, options, callback) {
        if ($.type(options) == "function") {
            callback = options;
            options = {}
        }
        options = $.extend({once: false}, options || {});
        if (options.once && Dimensions.preloaded.get(url)) {
            return
        }
        var cache;
        if ((cache = Dimensions.preloaded.get(url)) && cache.dimensions) {
            if ($.type(callback) == "function") {
                callback($.extend({}, cache.dimensions), cache.data)
            }
            return
        }
        var entry = {url: url, data: {type: "image"}}, image = new Image();
        entry.data.image = image;
        image.onload = function () {
            image.onload = function () {
            };
            entry.dimensions = {width: image.width, height: image.height};
            if ($.type(callback) == "function") {
                callback(entry.dimensions, entry.data)
            }
        };
        Dimensions.preloaded.cache.add(entry);
        image.src = url
    };
    Dimensions.preloaded = {
        get: function (url) {
            return Dimensions.preloaded.cache.get(url)
        }, getDimensions: function (url) {
            var cache = this.get(url);
            return cache && cache.dimensions
        }
    };
    Dimensions.preloaded.cache = (function () {
        var cache = [];

        function get(url) {
            var entry = null;
            for (var i = 0, l = cache.length; i < l; i++) {
                if (cache[i] && cache[i].url && cache[i].url == url) {
                    entry = cache[i]
                }
            }
            return entry
        }

        function add(entry) {
            cache.push(entry)
        }

        return {get: get, add: add}
    })();

    function detectType(url, extension) {
        var type;
        var ext = (extension || detectExtension(url) || "").toLowerCase();
        $("flash image iframe quicktime".split(" ")).each(function (i, t) {
            if ($.inArray(ext, Lightview.extensions[t].split(" ")) > -1) {
                type = t
            }
        });
        if (type) {
            return type
        }
        if (url.substr(0, 1) == "#") {
            return "inline"
        }
        if (document.domain && document.domain != (url).replace(/(^.*\/\/)|(:.*)|(\/.*)/g, "")) {
            return "iframe"
        }
        return "image"
    }

    function detectExtension(url) {
        var ext = (url || "").replace(/\?.*/g, "").match(/\.([^.]{3,4})$/);
        return ext ? ext[1] : null
    }

    $(document.documentElement).delegate(".lightview[href]", "click", function (event, element) {
        event.stopPropagation();
        event.preventDefault();
        var element = event.currentTarget;
        Lightview.show(element)
    });

    function deferUntil(fn, condition) {
        var options = $.extend({lifetime: 1000 * 60 * 5, iteration: 10, fail: null}, arguments[2] || {});
        var time = 0;
        fn._interval = window.setInterval($.proxy(function () {
            time += options.iteration;
            if (!condition()) {
                if (time >= options.lifetime) {
                    window.clearInterval(fn._interval);
                    if (options.fail) {
                        options.fail()
                    }
                }
                return
            }
            window.clearInterval(fn._interval);
            fn()
        }, fn), options.iteration);
        return fn._interval
    }

    var Controls = {
        type: false, set: function (type) {
            this.type = type;
            if (Window.States.get("controls_type_changed")) {
                this.hide()
            }
            var prefix = "lv_button_top_close_controls_type_";
            $("relative top thumbnails".split(" ")).each(function (i, t) {
                Window.buttonTopClose.removeClass(prefix + t)
            });
            Window.buttonTopClose.addClass(prefix + type);
            switch (this.type) {
                case"relative":
                    this.Relative.show();
                    break;
                case"top":
                    this.Top.show();
                    break;
                case"thumbnails":
                    this.Thumbnails.show();
                    break
            }
        }, refresh: function () {
            this.Relative.Slider.populate(Window.views.length);
            this.Relative.Slider.setPosition(Window.position);
            this.Relative.refresh();
            this.Thumbnails.position = Window.position;
            this.Thumbnails.refresh();
            this.Top.refresh()
        }, hide: function () {
            this.Relative.hide();
            this.Top.hide();
            this.Thumbnails.hide()
        }, play: function () {
            this.Relative.play();
            this.Top.play()
        }, stop: function () {
            this.Relative.stop();
            this.Top.stop()
        }, _reset: function () {
            this.Thumbnails._reset()
        }
    };
    Controls.Thumbnails = {
        create: function () {
            this.position = -1;
            this._urls = null;
            this._skin = null;
            this._loading_images = [];
            $(document.body).append(this.element = $("<div>").addClass("lv_thumbnails").append(this.slider = $("<div>").addClass("lv_thumbnails_slider").append(this.slide = $("<div>").addClass("lv_thumbnails_slide"))).hide()).append(this.close = $("<div>").addClass("lv_controls_top_close").append(this.close_button = $("<div>").addClass("lv_controls_top_close_button")).hide());
            this.elements = Window.sideButtonsUnderneath.add(Window.sideButtonsUnderneath.find(".lv_side_left")).add(Window.sideButtonsUnderneath.find(".lv_side_right")).add(Window.innerPreviousNextOverlays);
            if (Browser.IE && Browser.IE < 7) {
                this.element.css({position: "absolute", top: "auto"});
                var s = this.element[0].style;
                s.setExpression("top", "((-1 * this.offsetHeight + (window.jQuery ? jQuery(window).height() + jQuery(window).scrollTop() : 0)) + 'px')")
            }
            this.startObserving()
        }, startObserving: function () {
            this.close_button.bind("click", function () {
                Window.hide()
            });
            this.element.bind("click", $.proxy(function (event) {
                if (this.options && this.options.overlay && !this.options.overlay.close) {
                    return
                }
                if ($(event.target).is(".lv_thumbnails, .lv_thumbnails_slider")) {
                    Window.hide()
                }
            }, this)).delegate(".lv_thumbnail_image", "click", $.proxy(function (event) {
                var thumbnail = $(event.target).closest(".lv_thumbnail")[0];
                this.slide.find(".lv_thumbnail").each($.proxy(function (i, element) {
                    var position = i + 1;
                    if (element == thumbnail) {
                        this.setActive(position);
                        this.setPosition(position);
                        Window.setPosition(position)
                    }
                }, this))
            }, this)).bind("lightview:mousewheel", $.proxy(function (event, delta) {
                if (Controls.type == "thumbnails" && !(Window.options && Window.options.controls && Window.options.controls.thumbnails && Window.options.controls.thumbnails.mousewheel)) {
                    return
                }
                event.preventDefault();
                event.stopPropagation();
                this["_" + (delta == -1 ? "next" : "previous")]()
            }, this));
            this.close.bind("lightview:mousewheel", $.proxy(function (event, delta) {
                if (Window.options && !Window.options.mousewheel && !(Controls.type == "thumbnails" && Window.options && Window.options.controls && Window.options.controls.thumbnails && Window.options.controls.thumbnails.mousewheel) && !(Window.options && Window.options.viewport)) {
                    return
                }
                event.preventDefault();
                event.stopPropagation()
            }, this))
        }, setSkin: function (skin) {
            var elements = {element: "lv_thumbnails_skin_", close: "lv_controls_top_close_skin_"};
            $.each(elements, $.proxy(function (name, prefix) {
                var element = this[name];
                $.each((element[0].className || "").split(" "), function (i, c) {
                    if (c.indexOf(prefix) > -1) {
                        element.removeClass(c)
                    }
                });
                element.addClass(prefix + skin)
            }, this));
            var urls = "";
            $.each(Window.views, function (i, v) {
                urls += v.url
            });
            if (this._urls != urls || this._skin != skin) {
                this.load(Window.views)
            }
            this._urls = urls;
            this._skin = skin
        }, stopLoadingImages: function () {
            $(this._loading_images).each(function (i, image) {
                image.onload = function () {
                }
            });
            this._loading_images = []
        }, clear: function () {
            if (window.Spinners) {
                Spinners.remove(".lv_thumbnail_image .lv_spinner_wrapper")
            }
            this.slide.html("")
        }, _reset: function () {
            this.position = -1;
            this._urls = null
        }, load: function (views, position) {
            this.position = -1;
            this.stopLoadingImages();
            this.clear();
            $.each(views, $.proxy(function (i, view) {
                var div, thumbnail;
                this.slide.append(div = $("<div>").addClass("lv_thumbnail").append(thumbnail = $("<div>").addClass("lv_thumbnail_image")));
                this.slide.css({width: div.outerWidth() * views.length + "px"});
                if (view.type == "image" || (view.options.thumbnail && view.options.thumbnail.image)) {
                    div.addClass("lv_load_thumbnail");
                    div.data("thumbnail", {
                        view: view,
                        src: (view.options.thumbnail && view.options.thumbnail.image) || view.url
                    })
                }
                if (view.options.thumbnail && view.options.thumbnail.icon) {
                    thumbnail.append($("<div>").addClass("lv_thumbnail_icon lv_thumbnail_icon_" + view.options.thumbnail.icon))
                }
            }, this));
            if (position) {
                this.moveTo(position, true)
            }
        }, _getThumbnailsWithinViewport: function () {
            var position = this.position, thumbnails = [],
                thumbnail_width = this.slide.find(".lv_thumbnail:first").outerWidth();
            if (!position || !thumbnail_width) {
                return thumbnails
            }
            var vp_width = Bounds.viewport().width, thumbnail_count = Math.ceil(vp_width / thumbnail_width);
            var begin = Math.floor(Math.max(position - thumbnail_count * 0.5, 0)),
                end = Math.ceil(Math.min(position + thumbnail_count * 0.5));
            if (Window.views && Window.views.length < end) {
                end = Window.views.length
            }
            this.slider.find(".lv_thumbnail").each(function (i, element) {
                if ((i + 1 >= begin) && (i + 1 <= end)) {
                    thumbnails.push(element)
                }
            });
            return thumbnails
        }, loadThumbnailsWithinViewport: function () {
            var thumbnails = this._getThumbnailsWithinViewport();
            $(thumbnails).filter(".lv_load_thumbnail").each($.proxy(function (i, div) {
                var thumbnail = $(div).find(".lv_thumbnail_image"), data = $(div).data("thumbnail"), view = data.view;
                $(div).removeClass("lv_load_thumbnail");
                var spinner, spinner_overlay, spinner_wrapper, spinner_options, voc = view.options.controls;
                if (window.Spinners && (spinner_options = voc && voc.thumbnails && voc.thumbnails.spinner)) {
                    thumbnail.append(spinner_overlay = $("<div>").addClass("lv_thumbnail_image_spinner_overlay").append(spinner_wrapper = $("<div>").addClass("lv_spinner_wrapper")));
                    spinner = Spinners.create(spinner_wrapper[0], spinner_options || {}).play();
                    var sd = Spinners.getDimensions(spinner_wrapper[0]);
                    spinner_wrapper.css(px({
                        height: sd.height,
                        width: sd.width,
                        "margin-left": Math.ceil(-0.5 * sd.width),
                        "margin-top": Math.ceil(-0.5 * sd.height)
                    }))
                }
                var bounds = {width: thumbnail.innerWidth(), height: thumbnail.innerHeight()};
                var maxZ = Math.max(bounds.width, bounds.height);
                Dimensions.preload(data.src, {type: view.type}, $.proxy(function (image_dimensions, data) {
                    var image = data.image, dimensions;
                    if (image.width > bounds.width && image.height > bounds.height) {
                        dimensions = Window.Dimensions.scaleWithin({width: maxZ, height: maxZ}, image_dimensions);
                        var scaleX = 1, scaleY = 1;
                        if (dimensions.width < bounds.width) {
                            scaleX = bounds.width / dimensions.width
                        }
                        if (dimensions.height < bounds.height) {
                            scaleY = bounds.height / dimensions.height
                        }
                        var scale = Math.max(scaleX, scaleY);
                        if (scale > 1) {
                            dimensions.width *= scale;
                            dimensions.height *= scale
                        }
                        $.each("width height".split(" "), function (i, z) {
                            dimensions[z] = Math.round(dimensions[z])
                        })
                    } else {
                        dimensions = Window.Dimensions.scaleWithin((image.width < bounds.width || image.height < bounds.height) ? {
                            width: maxZ,
                            height: maxZ
                        } : bounds, image_dimensions)
                    }
                    var x = Math.round(bounds.width * 0.5 - dimensions.width * 0.5),
                        y = Math.round(bounds.height * 0.5 - dimensions.height * 0.5);
                    var img_insert = $("<img>").attr({src: data.image.src}).css(px(dimensions)).css(px({
                        top: y,
                        left: x
                    }));
                    thumbnail.prepend(img_insert);
                    if (spinner_overlay) {
                        spinner_overlay.fadeOut(view.options.effects.thumbnails.load, function () {
                            if (spinner) {
                                spinner.remove();
                                spinner = null;
                                spinner_overlay.remove()
                            }
                        })
                    } else {
                        img_insert.css({opacity: 0}).fadeTo(view.options.effects.thumbnails.load, 1)
                    }
                }, this))
            }, this))
        }, show: function () {
            this.elements.add(Window.buttonTopClose).add(this.close).hide();
            var elements = this.elements;
            var woc = Window.options.controls, controls_close = woc && woc.close;
            switch (controls_close) {
                case"top":
                    elements = elements.add(this.close);
                    break;
                case"relative":
                    elements = elements.add(Window.buttonTopClose);
                    break
            }
            Window.refreshPreviousNext();
            elements.show();
            if (!(Window.views && Window.views.length <= 1)) {
                this.element.stop(1, 0).fadeTo(Window.options.effects.thumbnails.show, 1)
            }
        }, hide: function () {
            this.elements.add(Window.buttonTopClose).add(this.close).hide();
            this.element.stop(1, 0).fadeOut(Window.options.effects.thumbnails.hide)
        }, _previous: function () {
            if (this.position < 1) {
                return
            }
            var p = this.position - 1;
            this.setActive(p);
            this.setPosition(p);
            Window.setPosition(p)
        }, _next: function () {
            if (this.position + 1 > Window.views.length) {
                return
            }
            var p = this.position + 1;
            this.setActive(p);
            this.setPosition(p);
            Window.setPosition(p)
        }, adjustToViewport: function () {
            var viewport = Bounds.viewport();
            this.slider.css({width: viewport.width + "px"})
        }, setPosition: function (position) {
            var instant = this.position < 0;
            if (position < 1) {
                position = 1
            }
            var ic = this.itemCount();
            if (position > ic) {
                position = ic
            }
            this.position = position;
            this.setActive(position);
            Window.refreshPreviousNext();
            this.moveTo(position, instant)
        }, moveTo: function (position, instant) {
            this.adjustToViewport();
            var viewport = Bounds.viewport(), vp_width = viewport.width,
                t_width = this.slide.find(".lv_thumbnail").outerWidth();
            var vp_center = vp_width * 0.5, left = (vp_width * 0.5) + (-1 * (t_width * (position - 1) + t_width * 0.5));
            this.slide.stop(1, 0).animate({left: left + "px"}, instant ? 0 : Window.options.effects.thumbnails.slide, $.proxy(function () {
                this.loadThumbnailsWithinViewport()
            }, this))
        }, setActive: function (position) {
            var thumbnails = this.slide.find(".lv_thumbnail").removeClass("lv_thumbnail_active");
            if (position) {
                $(thumbnails[position - 1]).addClass("lv_thumbnail_active")
            }
        }, refresh: function () {
            if (this.position) {
                this.setPosition(this.position)
            }
        }, itemCount: function () {
            return this.slide.find(".lv_thumbnail").length || 0
        }
    };
    Controls.Relative = {
        create: function () {
            this.Slider.create();
            this.elements = $(this.Slider.element).add(Window.sideButtonsUnderneath).add(Window.sideButtonsUnderneath.find(".lv_side_left")).add(Window.sideButtonsUnderneath.find(".lv_side_right")).add(Window.innerPreviousNextOverlays).add(Window.innerPreviousNextOverlays.find(".lv_button"))
        }, show: function () {
            this.hide();
            var elements = this.elements;
            var woc = Window.options.controls, controls_close = woc && woc.close;
            switch (controls_close) {
                case"top":
                    elements = elements.add(Controls.Top.close);
                    break;
                case"relative":
                    elements = elements.add(Window.buttonTopClose);
                    break
            }
            elements.show();
            Window.refreshPreviousNext();
            if (Window.view && Window.views.length > 1 && Window.mayPrevious() || Window.mayNext()) {
                this.Slider.show()
            }
        }, hide: function () {
            this.elements.add(Controls.Top.close).add(Window.buttonTopClose).hide()
        }, refresh: function () {
            this.Slider.refresh()
        }, play: function () {
            this.Slider.play()
        }, stop: function () {
            this.Slider.stop()
        }
    };
    Controls.Relative.Slider = {
        setOptions: function () {
            var wo = Window.options, so = (wo.controls && wo.controls.slider) || {};
            this.options = {
                items: so.items || 5,
                duration: (wo.effects && wo.effects.slider && wo.effects.slider.slide) || 100,
                slideshow: wo.slideshow
            }
        }, create: function () {
            $(Window.element).append(this.element = $("<div>").addClass("lv_controls_relative").append(this.slider = $("<div>").addClass("lv_slider").append(this.slider_previous = $("<div>").addClass("lv_slider_icon lv_slider_previous").append($("<div>").addClass("lv_icon").data("side", "previous"))).append(this.slider_numbers = $("<div>").addClass("lv_slider_numbers").append(this.slider_slide = $("<div>").addClass("lv_slider_slide"))).append(this.slider_next = $("<div>").addClass("lv_slider_icon lv_slider_next").append($("<div>").addClass("lv_icon").data("side", "next"))).append(this.slider_slideshow = $("<div>").addClass("lv_slider_icon lv_slider_slideshow").append($("<div>").addClass("lv_icon lv_slider_next")))));
            this.element.hide();
            this.count = 0;
            this.position = 1;
            this.page = 1;
            this.setOptions();
            this.startObserving()
        }, startObserving: function () {
            this.slider_slide.delegate(".lv_slider_number", "click", $.proxy(function (event) {
                event.preventDefault();
                event.stopPropagation();
                var nr = parseInt($(event.target).html());
                this.setActive(nr);
                Window.stop();
                Window.setPosition(nr)
            }, this));
            $.each("previous next".split(" "), $.proxy(function (i, side) {
                this["slider_" + side].bind("click", $.proxy(this[side + "Page"], this))
            }, this));
            this.slider.bind("lightview:mousewheel", $.proxy(function (event, delta) {
                if (!(Window.options && Window.options.mousewheel)) {
                    return
                }
                if (this.count <= this.options.items) {
                    return
                }
                event.preventDefault();
                event.stopPropagation();
                this[(delta > 0 ? "previous" : "next") + "Page"]()
            }, this));
            this.slider_slideshow.bind("click", $.proxy(function (event) {
                if (this.slider_slideshow.hasClass("lv_slider_slideshow_disabled")) {
                    return
                }
                Window[Window.States.get("playing") ? "stop" : "play"](true)
            }, this))
        }, refresh: function () {
            this.setOptions();
            var itemCount = this.itemCount(),
                visible_items = itemCount <= this.options.items ? itemCount : this.options.items,
                isWindowVisible = $(Window.element).is(":visible");
            this.element.css({width: "auto"});
            this.slider[itemCount > 1 ? "show" : "hide"]();
            if (itemCount < 2) {
                return
            }
            if (!isWindowVisible) {
                $(Window.element).show()
            }
            var number = $(document.createElement("div")).addClass("lv_slider_number");
            this.slider_slide.append(number);
            var nr_width = number.outerWidth(true);
            this.nr_width = nr_width;
            number.addClass("lv_slider_number_last");
            this.nr_margin_last = (nr_width - number.outerWidth(true)) || 0;
            number.remove();
            var itemCount = this.itemCount(),
                visible_items = itemCount <= this.options.items ? itemCount : this.options.items;
            var rest = this.count % this.options.items, empty_count = (rest ? this.options.items - rest : 0);
            this.slider_numbers.css({width: ((this.nr_width * visible_items) - this.nr_margin_last) + "px"});
            this.slider_slide.css({width: (this.nr_width * (this.count + empty_count)) + "px"});
            var slideshowVisible = Window.views && $.grep(Window.views, function (view) {
                return view.options.slideshow
            }).length == Window.views.length;
            this.slider_slideshow.hide().removeClass("lv_slider_slideshow_disabled");
            if (slideshowVisible) {
                this.slider_slideshow.show()
            }
            if (!this.options.slideshow) {
                this.slider_slideshow.addClass("lv_slider_slideshow_disabled")
            }
            if (this.itemCount() <= this.options.items) {
                this.slider_next.hide();
                this.slider_previous.hide()
            } else {
                this.slider_next.show();
                this.slider_previous.show()
            }
            this.element.css({width: "auto"});
            this.slider.css({width: "auto"});
            var sow = 0;
            var widths = jQuery.map($.makeArray(this.slider.children("div:visible")), function (e, i) {
                var w = $(e).outerWidth(true);
                if (Browser.IE && Browser.IE < 7) {
                    w += (parseInt($(e).css("margin-left")) || 0) + (parseInt($(e).css("margin-right")) || 0)
                }
                return w
            });
            $.each(widths, function (i, v) {
                sow += v
            });
            if (Browser.IE && Browser.IE < 7) {
                sow++
            }
            this.element.css({position: "absolute"});
            if (sow) {
                this.element.css({width: sow + "px"})
            }
            if (sow) {
                this.slider.css({width: sow + "px"})
            }
            this.element.css({"margin-left": Math.ceil(-0.5 * sow) + "px"});
            var left = parseInt(this.slider_slide.css("left") || 0), pageCount = this.pageCount();
            if (left < -1 * (pageCount - 1) * (this.options.items * this.nr_width)) {
                this.scrollToPage(pageCount, true)
            }
            this.refreshButtonStates();
            if (!isWindowVisible) {
                $(Window.element).hide()
            }
            if (Window.options && Window.options.controls && !Window.options.controls.slider) {
                this.slider.hide()
            }
        }, itemCount: function () {
            return this.slider_slide.find(".lv_slider_number").length || 0
        }, pageCount: function () {
            return Math.ceil(this.itemCount() / this.options.items)
        }, setActive: function (nr) {
            $(this.slider_numbers.find(".lv_slider_number").removeClass("lv_slider_number_active")[nr - 1]).addClass("lv_slider_number_active")
        }, setPosition: function (position) {
            if (position < 1) {
                position = 1
            }
            var ic = this.itemCount();
            if (position > ic) {
                position = ic
            }
            this.position = position;
            this.setActive(position);
            this.scrollToPage(Math.ceil(position / this.options.items))
        }, refreshButtonStates: function () {
            this.slider_next.removeClass("lv_slider_next_disabled");
            this.slider_previous.removeClass("lv_slider_previous_disabled");
            if (this.page - 1 < 1) {
                this.slider_previous.addClass("lv_slider_previous_disabled")
            }
            if (this.page >= this.pageCount()) {
                this.slider_next.addClass("lv_slider_next_disabled")
            }
            this[Window.States.get("playing") ? "play" : "stop"]()
        }, scrollToPage: function (page, instant) {
            if (this.page == page || page < 1 || page > this.pageCount()) {
                return
            }
            if (Browser.MobileSafari) {
                this.slider_numbers.css({opacity: 0.999})
            }
            this.slider_slide.stop(true).animate({left: -1 * (this.options.items * this.nr_width * (page - 1)) + "px"}, instant ? 0 : this.options.duration || 0, "linear", $.proxy(function () {
                if (Browser.MobileSafari) {
                    this.slider_numbers.css({opacity: 1})
                }
            }, this));
            this.page = page;
            this.refreshButtonStates()
        }, previousPage: function () {
            this.scrollToPage(this.page - 1)
        }, nextPage: function () {
            this.scrollToPage(this.page + 1)
        }, populate: function (count) {
            this.slider_slide.find(".lv_slider_number, .lv_slider_number_empty").remove();
            for (var i = 0; i < count; i++) {
                this.slider_slide.append($("<div>").addClass("lv_slider_number").html(i + 1))
            }
            var items = this.options.items, empty = count % items ? items - count % items : 0;
            for (var i = 0; i < empty; i++) {
                this.slider_slide.append($("<div>").addClass("lv_slider_number_empty"))
            }
            this.slider_numbers.find(".lv_slider_number, lv_slider_number_empty").removeClass("lv_slider_number_last").last().addClass("lv_slider_number_last");
            this.count = count;
            this.refresh()
        }, show: function () {
            this.element.show()
        }, hide: function () {
            this.element.hide()
        }, play: function () {
            this.slider_slideshow.addClass("lv_slider_slideshow_playing")
        }, stop: function () {
            this.slider_slideshow.removeClass("lv_slider_slideshow_playing")
        }
    };
    Controls.Top = {
        create: function () {
            $(document.body).append(this.element = $("<div>").addClass("lv_controls_top").append(this.middle = $("<div>").addClass("lv_top_middle").hide().append(this.middle_previous = $("<div>").addClass("lv_top_button lv_top_previous").data("side", "previous").append($("<div>").addClass("lv_icon").append(this.text_previous = $("<span>")))).append(this.middle_slideshow = $("<div>").addClass("lv_top_button lv_top_slideshow").append($("<div>").addClass("lv_icon"))).append(this.middle_next = $("<div>").addClass("lv_top_button lv_top_next").data("side", "next").append($("<div>").addClass("lv_icon").append(this.text_next = $("<span>"))))).hide()).append(this.close = $("<div>").addClass("lv_controls_top_close").append(this.close_button = $("<div>").addClass("lv_controls_top_close_button")).hide());
            if (Browser.IE && Browser.IE < 7) {
                var s = this.element[0].style;
                s.position = "absolute";
                s.setExpression("top", '((!!window.jQuery && jQuery(window).scrollTop()) || 0) + "px"');
                var cs = this.close[0].style;
                cs.position = "absolute";
                cs.setExpression("top", '((!!window.jQuery && jQuery(window).scrollTop()) || 0) + "px"')
            }
            this.setOptions();
            this.startObserving()
        }, setOptions: function (options) {
            this.options = $.extend({
                slideshow: true,
                text: {previous: "Prev", next: "Next"},
                close: true
            }, (Window.options && Window.options.controls) || {});
            this.setText()
        }, setSkin: function (skin) {
            var elements = {element: "lv_controls_top_skin_", close: "lv_controls_top_close_skin_"};
            $.each(elements, $.proxy(function (name, prefix) {
                var element = this[name];
                $.each((element[0].className || "").split(" "), function (i, c) {
                    if (c.indexOf(prefix) > -1) {
                        element.removeClass(c)
                    }
                });
                element.addClass(prefix + skin)
            }, this))
        }, setText: function () {
            this.text_previous.hide();
            this.text_next.hide();
            if (!this.options.text) {
                return
            }
            this.text_previous.html(this.options.text.previous).show();
            this.text_next.html(this.options.text.next).show()
        }, startObserving: function () {
            this.middle_previous.bind("click", function () {
                Window.stop();
                Window.previous();
                $(this).blur()
            });
            this.middle_slideshow.bind("click", function () {
                if ($(this).find(".lv_icon_disabled").length > 0) {
                    return
                }
                Window[Window.States.get("playing") ? "stop" : "play"](true)
            });
            this.middle_next.bind("click", function () {
                Window.stop();
                Window.next();
                $(this).blur()
            });
            this.close_button.bind("click", function () {
                Window.hide()
            });
            this.element.add(this.close).bind("lightview:mousewheel", $.proxy(function (event, delta) {
                if (Window.options && Window.options.mousewheel && !(Window.options && Window.options.viewport)) {
                    return
                }
                event.preventDefault();
                event.stopPropagation()
            }, this))
        }, show: function () {
            var elements = this.element;
            var woc = Window.options.controls, controls_close = woc && woc.close;
            switch (controls_close) {
                case"top":
                    elements = elements.add(this.close);
                    break;
                case"relative":
                    elements = elements.add(Window.buttonTopClose);
                    break
            }
            elements.show()
        }, hide: function () {
            this.element.hide();
            this.close.hide()
        }, refresh: function () {
            this.setOptions();
            this.element.find(".lv_icon_disabled").removeClass("lv_icon_disabled");
            if (!Window.mayPrevious()) {
                this.middle_previous.find(".lv_icon").addClass("lv_icon_disabled")
            }
            if (!Window.options.slideshow) {
                this.middle_slideshow.find(".lv_icon").addClass("lv_icon_disabled")
            }
            if (!Window.mayNext()) {
                this.middle_next.find(".lv_icon").addClass("lv_icon_disabled")
            }
            this.element.removeClass("lv_controls_top_with_slideshow");
            var slideshowVisible = Window.views && $.grep(Window.views, function (view) {
                return view.options.slideshow
            }).length > 0;
            if (slideshowVisible) {
                this.element.addClass("lv_controls_top_with_slideshow")
            }
            this.element[Controls.type == "top" && Window.views.length > 1 ? "show" : "hide"]();
            this[Window.States.get("playing") ? "play" : "stop"]()
        }, play: function () {
            this.middle_slideshow.addClass("lv_top_slideshow_playing")
        }, stop: function () {
            this.middle_slideshow.removeClass("lv_top_slideshow_playing")
        }
    };
    Window.updateQueue = (function () {
        function build() {
            $(document.body).append($(document.createElement("div")).addClass("lv_update_queue").append($("<div>").addClass("lv_window").append(this.container = $("<div>").addClass("lv_content"))))
        }

        function gd(element) {
            return {width: $(element).innerWidth(), height: $(element).innerHeight()}
        }

        function getMeasureElementDimensions(element) {
            var dimensions = gd(element);
            var p = element.parentNode;
            if (p && $(p).css({width: dimensions.width + "px"}) && gd(element).height > dimensions.height) {
                dimensions.width++
            }
            $(p).css({width: "100%"});
            return dimensions
        }

        function update(content, view, callback) {
            if (!this.container) {
                this.build()
            }
            var options = $.extend({spinner: false}, arguments[3] || {});
            if (view.options.inline || _.isElement(content)) {
                if (view.options.inline && $.type(content) == "string") {
                    content = $("#" + content)[0]
                }
                if (!Window.inlineMarker && content && _.element.isAttached(content)) {
                    $(content).data("lv_restore_inline_display", $(content).css("display"));
                    Window.inlineMarker = document.createElement("div");
                    $(content).before($(Window.inlineMarker).hide())
                }
            }
            var measureElement = document.createElement("div");
            this.container.append($(measureElement).addClass("lv_content_wrapper").append(content));
            if (_.isElement(content)) {
                $(content).show()
            }
            if (view.options.wrapperClass) {
                $(measureElement).addClass(view.options.wrapperClass)
            }
            if (view.options.skin) {
                $(measureElement).addClass("lv_content_" + view.options.skin)
            }
            var images = $(measureElement).find("img[src]").filter(function () {
                return !(($(this).attr("height") && $(this).attr("width")))
            });
            if (images.length > 0) {
                Window.States.set("preloading_images", true);
                var loaded = 0, url = view.url;
                var waitFor = Math.max(8000, (images.length || 0) * 750);
                Window.Timeouts.clear("preloading_images");
                Window.Timeouts.set("preloading_images", $.proxy(function () {
                    images.each(function () {
                        this.onload = function () {
                        }
                    });
                    if (loaded >= images.length) {
                        return
                    }
                    if (Window.view && Window.view.url != url) {
                        return
                    }
                    this._update(measureElement, view, callback)
                }, this), waitFor);
                Window.States.set("preloading_images", images);
                $.each(images, $.proxy(function (i, element) {
                    var img = new Image();
                    img.onload = $.proxy(function () {
                        img.onload = function () {
                        };
                        var width = img.width, height = img.height, attr_width = $(element).attr("width"),
                            attr_height = $(element).attr("height");
                        if (!attr_width || !attr_height) {
                            if (!attr_width && attr_height) {
                                width = Math.round(attr_height * width / height);
                                height = attr_height
                            } else {
                                if (!attr_height && attr_width) {
                                    height = Math.round(attr_width * height / width);
                                    width = attr_width
                                }
                            }
                            $(element).attr({width: width, height: height})
                        }
                        loaded++;
                        if (loaded == images.length) {
                            Window.Timeouts.clear("preloading_images");
                            Window.States.set("preloading_images", false);
                            if (Window.view && Window.view.url != url) {
                                return
                            }
                            this._update(measureElement, view, callback)
                        }
                    }, this);
                    img.src = element.src
                }, this))
            } else {
                this._update(measureElement, view, callback)
            }
        }

        function _update(measureElement, view, callback) {
            var dimensions = getMeasureElementDimensions(measureElement);
            dimensions = getFittedDimensions(measureElement, dimensions, view);
            Window.resizeTo(dimensions.width, dimensions.height, {
                complete: function () {
                    Window.content.html(measureElement);
                    if (callback) {
                        callback()
                    }
                }
            })
        }

        function getFittedDimensions(measureElement, dimensions, view) {
            var paddless_dimensions = {
                width: dimensions.width - (parseInt($(measureElement).css("padding-left")) || 0) - (parseInt($(measureElement).css("padding-right")) || 0),
                height: dimensions.height - (parseInt($(measureElement).css("padding-top")) || 0) - (parseInt($(measureElement).css("padding-bottom")) || 0)
            };
            var maxWidth = Window.options.width;
            if (maxWidth && $.type(maxWidth) == "number" && paddless_dimensions.width > maxWidth) {
                $(measureElement).css({width: maxWidth + "px"});
                dimensions = getMeasureElementDimensions(measureElement)
            }
            dimensions = Window.Dimensions.fit(dimensions, view);
            if (/(inline|ajax|html)/.test(view.type) && Window.States.get("resized")) {
                var scrollEl = $("<div>");
                scrollEl.css({position: "absolute", top: 0, left: 0, width: "100%", height: "100%"});
                $(measureElement).append(scrollEl);
                var widthBefore = scrollEl.innerWidth();
                $(measureElement).css(px(dimensions)).css({overflow: "auto"});
                var widthAfter = scrollEl.innerWidth();
                var widthDiff = widthBefore - widthAfter;
                if (widthDiff) {
                    dimensions.width += widthDiff;
                    $(measureElement).css(px(dimensions));
                    dimensions = Window.Dimensions.fit(dimensions, view)
                }
                scrollEl.remove()
            }
            return dimensions
        }

        return {
            build: build,
            update: update,
            _update: _update,
            getFittedDimensions: getFittedDimensions,
            getMeasureElementDimensions: getMeasureElementDimensions
        }
    })();
    $.extend(true, Lightview, (function () {
        function show(object) {
            var options = arguments[1] || {}, position = arguments[2];
            if (arguments[1] && $.type(arguments[1]) == "number") {
                position = arguments[1];
                options = Options.create({})
            }
            var views = [], object_type;
            switch ((object_type = $.type(object))) {
                case"string":
                case"object":
                    var view = new View(object, options);
                    if (view.group) {
                        if (object && object.nodeType == 1) {
                            var elements = $('.lightview[data-lightview-group="' + $(object).data("lightview-group") + '"]');
                            var groupOptions = {};
                            elements.filter("[data-lightview-group-options]").each(function (i, element) {
                                $.extend(groupOptions, eval("({" + ($(element).attr("data-lightview-group-options") || "") + "})"))
                            });
                            elements.each(function (i, element) {
                                if (!position && element == object) {
                                    position = i + 1
                                }
                                views.push(new View(element, $.extend({}, groupOptions, options)))
                            })
                        }
                    } else {
                        var groupOptions = {};
                        if (object && object.nodeType == 1 && $(object).is("[data-lightview-group-options]")) {
                            $.extend(groupOptions, eval("({" + ($(object).attr("data-lightview-group-options") || "") + "})"));
                            view = new View(object, $.extend({}, groupOptions, options))
                        }
                        views.push(view)
                    }
                    break;
                case"array":
                    $.each(object, function (i, item) {
                        var view = new View(item, options);
                        views.push(view)
                    });
                    break
            }
            if (!position || position < 1) {
                position = 1
            }
            if (position > views.length) {
                position = views.length
            }
            Window.load(views, position, {initialDimensionsOnly: true});
            Window.show(function () {
                Window.setPosition(position)
            })
        }

        function refresh() {
            Window.refresh();
            return this
        }

        function setDefaultSkin(skin) {
            Window.setDefaultSkin(skin);
            return this
        }

        function hide() {
            Window.hide();
            return this
        }

        function play(instant) {
            Window.play(instant);
            return this
        }

        function stop() {
            Window.stop();
            return this
        }

        return {show: show, hide: hide, play: play, stop: stop, refresh: refresh, setDefaultSkin: setDefaultSkin}
    })());
    window.Lightview = Lightview;
    $(document).ready(function () {
        Lightview.init()
    })
})(jQuery, window);
;(function (factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports !== 'undefined') {
        module.exports = factory(require('jquery'));
    } else {
        factory(jQuery);
    }
}(function ($) {
    'use strict';
    var Slick = window.Slick || {};
    Slick = (function () {
        var instanceUid = 0;

        function Slick(element, settings) {
            var _ = this, dataSettings;
            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function (slider, i) {
                    return $('<button type="button" />').text(i + 1);
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                focusOnChange: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnFocus: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rows: 1,
                rtl: false,
                slide: '',
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                useTransform: true,
                variableWidth: false,
                vertical: false,
                verticalSwiping: false,
                waitForAnimate: true,
                zIndex: 1000
            };
            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                scrolling: false,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                swiping: false,
                $list: null,
                touchObject: {},
                transformsEnabled: false,
                unslicked: false
            };
            $.extend(_, _.initials);
            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.focussed = false;
            _.interrupted = false;
            _.hidden = 'hidden';
            _.paused = true;
            _.positionProp = null;
            _.respondTo = null;
            _.rowCount = 1;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = 'visibilitychange';
            _.windowWidth = 0;
            _.windowTimer = null;
            dataSettings = $(element).data('slick') || {};
            _.options = $.extend({}, _.defaults, settings, dataSettings);
            _.currentSlide = _.options.initialSlide;
            _.originalSettings = _.options;
            if (typeof document.mozHidden !== 'undefined') {
                _.hidden = 'mozHidden';
                _.visibilityChange = 'mozvisibilitychange';
            } else if (typeof document.webkitHidden !== 'undefined') {
                _.hidden = 'webkitHidden';
                _.visibilityChange = 'webkitvisibilitychange';
            }
            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);
            _.instanceUid = instanceUid++;
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;
            _.registerBreakpoints();
            _.init(true);
        }

        return Slick;
    }());
    Slick.prototype.activateADA = function () {
        var _ = this;
        _.$slideTrack.find('.slick-active').attr({'aria-hidden': 'false'}).find('a, input, button, select').attr({'tabindex': '0'});
    };
    Slick.prototype.addSlide = Slick.prototype.slickAdd = function (markup, index, addBefore) {
        var _ = this;
        if (typeof (index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }
        _.unload();
        if (typeof (index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }
        _.$slides = _.$slideTrack.children(this.options.slide);
        _.$slideTrack.children(this.options.slide).detach();
        _.$slideTrack.append(_.$slides);
        _.$slides.each(function (index, element) {
            $(element).attr('data-slick-index', index);
        });
        _.$slidesCache = _.$slides;
        _.reinit();
    };
    Slick.prototype.animateHeight = function () {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({height: targetHeight}, _.options.speed);
        }
    };
    Slick.prototype.animateSlide = function (targetLeft, callback) {
        var animProps = {}, _ = this;
        _.animateHeight();
        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({left: targetLeft}, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({top: targetLeft}, _.options.speed, _.options.easing, callback);
            }
        } else {
            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({animStart: _.currentLeft}).animate({animStart: targetLeft}, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function (now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' + now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' + now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function () {
                        if (callback) {
                            callback.call();
                        }
                    }
                });
            } else {
                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);
                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);
                if (callback) {
                    setTimeout(function () {
                        _.disableTransition();
                        callback.call();
                    }, _.options.speed);
                }
            }
        }
    };
    Slick.prototype.getNavTarget = function () {
        var _ = this, asNavFor = _.options.asNavFor;
        if (asNavFor && asNavFor !== null) {
            asNavFor = $(asNavFor).not(_.$slider);
        }
        return asNavFor;
    };
    Slick.prototype.asNavFor = function (index) {
        var _ = this, asNavFor = _.getNavTarget();
        if (asNavFor !== null && typeof asNavFor === 'object') {
            asNavFor.each(function () {
                var target = $(this).slick('getSlick');
                if (!target.unslicked) {
                    target.slideHandler(index, true);
                }
            });
        }
    };
    Slick.prototype.applyTransition = function (slide) {
        var _ = this, transition = {};
        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }
        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }
    };
    Slick.prototype.autoPlay = function () {
        var _ = this;
        _.autoPlayClear();
        if (_.slideCount > _.options.slidesToShow) {
            _.autoPlayTimer = setInterval(_.autoPlayIterator, _.options.autoplaySpeed);
        }
    };
    Slick.prototype.autoPlayClear = function () {
        var _ = this;
        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }
    };
    Slick.prototype.autoPlayIterator = function () {
        var _ = this, slideTo = _.currentSlide + _.options.slidesToScroll;
        if (!_.paused && !_.interrupted && !_.focussed) {
            if (_.options.infinite === false) {
                if (_.direction === 1 && (_.currentSlide + 1) === (_.slideCount - 1)) {
                    _.direction = 0;
                } else if (_.direction === 0) {
                    slideTo = _.currentSlide - _.options.slidesToScroll;
                    if (_.currentSlide - 1 === 0) {
                        _.direction = 1;
                    }
                }
            }
            _.slideHandler(slideTo);
        }
    };
    Slick.prototype.buildArrows = function () {
        var _ = this;
        if (_.options.arrows === true) {
            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');
            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');
            if (_.slideCount > _.options.slidesToShow) {
                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                if (_.htmlExpr.test(_.options.prevArrow)) {
                    _.$prevArrow.prependTo(_.options.appendArrows);
                }
                if (_.htmlExpr.test(_.options.nextArrow)) {
                    _.$nextArrow.appendTo(_.options.appendArrows);
                }
                if (_.options.infinite !== true) {
                    _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                }
            } else {
                _.$prevArrow.add(_.$nextArrow).addClass('slick-hidden').attr({
                    'aria-disabled': 'true',
                    'tabindex': '-1'
                });
            }
        }
    };
    Slick.prototype.buildDots = function () {
        var _ = this, i, dot;
        if (_.options.dots === true) {
            _.$slider.addClass('slick-dotted');
            dot = $('<ul />').addClass(_.options.dotsClass);
            for (i = 0; i <= _.getDotCount(); i += 1) {
                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));
            }
            _.$dots = dot.appendTo(_.options.appendDots);
            _.$dots.find('li').first().addClass('slick-active');
        }
    };
    Slick.prototype.buildOut = function () {
        var _ = this;
        _.$slides = _.$slider.children(_.options.slide + ':not(.slick-cloned)').addClass('slick-slide');
        _.slideCount = _.$slides.length;
        _.$slides.each(function (index, element) {
            $(element).attr('data-slick-index', index).data('originalStyling', $(element).attr('style') || '');
        });
        _.$slider.addClass('slick-slider');
        _.$slideTrack = (_.slideCount === 0) ? $('<div class="slick-track"/>').appendTo(_.$slider) : _.$slides.wrapAll('<div class="slick-track"/>').parent();
        _.$list = _.$slideTrack.wrap('<div class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);
        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }
        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');
        _.setupInfinite();
        _.buildArrows();
        _.buildDots();
        _.updateDots();
        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);
        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }
    };
    Slick.prototype.buildRows = function () {
        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides, slidesPerSection;
        newSlides = document.createDocumentFragment();
        originalSlides = _.$slider.children();
        if (_.options.rows > 1) {
            slidesPerSection = _.options.slidesPerRow * _.options.rows;
            numOfSlides = Math.ceil(originalSlides.length / slidesPerSection);
            for (a = 0; a < numOfSlides; a++) {
                var slide = document.createElement('div');
                for (b = 0; b < _.options.rows; b++) {
                    var row = document.createElement('div');
                    for (c = 0; c < _.options.slidesPerRow; c++) {
                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));
                        if (originalSlides.get(target)) {
                            row.appendChild(originalSlides.get(target));
                        }
                    }
                    slide.appendChild(row);
                }
                newSlides.appendChild(slide);
            }
            _.$slider.empty().append(newSlides);
            _.$slider.children().children().children().css({
                'width': (100 / _.options.slidesPerRow) + '%',
                'display': 'inline-block'
            });
        }
    };
    Slick.prototype.checkResponsive = function (initial, forceUpdate) {
        var _ = this, breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();
        if (_.respondTo === 'window') {
            respondToWidth = windowWidth;
        } else if (_.respondTo === 'slider') {
            respondToWidth = sliderWidth;
        } else if (_.respondTo === 'min') {
            respondToWidth = Math.min(windowWidth, sliderWidth);
        }
        if (_.options.responsive && _.options.responsive.length && _.options.responsive !== null) {
            targetBreakpoint = null;
            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }
            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
                        _.activeBreakpoint = targetBreakpoint;
                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                            _.unslick(targetBreakpoint);
                        } else {
                            _.options = $.extend({}, _.originalSettings, _.breakpointSettings[targetBreakpoint]);
                            if (initial === true) {
                                _.currentSlide = _.options.initialSlide;
                            }
                            _.refresh(initial);
                        }
                        triggerBreakpoint = targetBreakpoint;
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                        _.unslick(targetBreakpoint);
                    } else {
                        _.options = $.extend({}, _.originalSettings, _.breakpointSettings[targetBreakpoint]);
                        if (initial === true) {
                            _.currentSlide = _.options.initialSlide;
                        }
                        _.refresh(initial);
                    }
                    triggerBreakpoint = targetBreakpoint;
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if (initial === true) {
                        _.currentSlide = _.options.initialSlide;
                    }
                    _.refresh(initial);
                    triggerBreakpoint = targetBreakpoint;
                }
            }
            if (!initial && triggerBreakpoint !== false) {
                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);
            }
        }
    };
    Slick.prototype.changeSlide = function (event, dontAnimate) {
        var _ = this, $target = $(event.currentTarget), indexOffset, slideOffset, unevenOffset;
        if ($target.is('a')) {
            event.preventDefault();
        }
        if (!$target.is('li')) {
            $target = $target.closest('li');
        }
        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;
        switch (event.data.message) {
            case'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);
                }
                break;
            case'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;
            case'index':
                var index = event.data.index === 0 ? 0 : event.data.index || $target.index() * _.options.slidesToScroll;
                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                $target.children().trigger('focus');
                break;
            default:
                return;
        }
    };
    Slick.prototype.checkNavigable = function (index) {
        var _ = this, navigables, prevNavigable;
        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if (index > navigables[navigables.length - 1]) {
            index = navigables[navigables.length - 1];
        } else {
            for (var n in navigables) {
                if (index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }
        return index;
    };
    Slick.prototype.cleanUpEvents = function () {
        var _ = this;
        if (_.options.dots && _.$dots !== null) {
            $('li', _.$dots).off('click.slick', _.changeSlide).off('mouseenter.slick', $.proxy(_.interrupt, _, true)).off('mouseleave.slick', $.proxy(_.interrupt, _, false));
            if (_.options.accessibility === true) {
                _.$dots.off('keydown.slick', _.keyHandler);
            }
        }
        _.$slider.off('focus.slick blur.slick');
        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);
            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);
            if (_.options.accessibility === true) {
                _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler);
                _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler);
            }
        }
        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);
        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);
        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);
        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);
        _.$list.off('click.slick', _.clickHandler);
        $(document).off(_.visibilityChange, _.visibility);
        _.cleanUpSlideEvents();
        if (_.options.accessibility === true) {
            _.$list.off('keydown.slick', _.keyHandler);
        }
        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().off('click.slick', _.selectHandler);
        }
        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);
        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);
        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);
        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);
    };
    Slick.prototype.cleanUpSlideEvents = function () {
        var _ = this;
        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));
        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));
    };
    Slick.prototype.cleanUpRows = function () {
        var _ = this, originalSlides;
        if (_.options.rows > 1) {
            originalSlides = _.$slides.children().children();
            originalSlides.removeAttr('style');
            _.$slider.empty().append(originalSlides);
        }
    };
    Slick.prototype.clickHandler = function (event) {
        var _ = this;
        if (_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }
    };
    Slick.prototype.destroy = function (refresh) {
        var _ = this;
        _.autoPlayClear();
        _.touchObject = {};
        _.cleanUpEvents();
        $('.slick-cloned', _.$slider).detach();
        if (_.$dots) {
            _.$dots.remove();
        }
        if (_.$prevArrow && _.$prevArrow.length) {
            _.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display', '');
            if (_.htmlExpr.test(_.options.prevArrow)) {
                _.$prevArrow.remove();
            }
        }
        if (_.$nextArrow && _.$nextArrow.length) {
            _.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display', '');
            if (_.htmlExpr.test(_.options.nextArrow)) {
                _.$nextArrow.remove();
            }
        }
        if (_.$slides) {
            _.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function () {
                $(this).attr('style', $(this).data('originalStyling'));
            });
            _.$slideTrack.children(this.options.slide).detach();
            _.$slideTrack.detach();
            _.$list.detach();
            _.$slider.append(_.$slides);
        }
        _.cleanUpRows();
        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');
        _.$slider.removeClass('slick-dotted');
        _.unslicked = true;
        if (!refresh) {
            _.$slider.trigger('destroy', [_]);
        }
    };
    Slick.prototype.disableTransition = function (slide) {
        var _ = this, transition = {};
        transition[_.transitionType] = '';
        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }
    };
    Slick.prototype.fadeSlide = function (slideIndex, callback) {
        var _ = this;
        if (_.cssTransitions === false) {
            _.$slides.eq(slideIndex).css({zIndex: _.options.zIndex});
            _.$slides.eq(slideIndex).animate({opacity: 1}, _.options.speed, _.options.easing, callback);
        } else {
            _.applyTransition(slideIndex);
            _.$slides.eq(slideIndex).css({opacity: 1, zIndex: _.options.zIndex});
            if (callback) {
                setTimeout(function () {
                    _.disableTransition(slideIndex);
                    callback.call();
                }, _.options.speed);
            }
        }
    };
    Slick.prototype.fadeSlideOut = function (slideIndex) {
        var _ = this;
        if (_.cssTransitions === false) {
            _.$slides.eq(slideIndex).animate({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            }, _.options.speed, _.options.easing);
        } else {
            _.applyTransition(slideIndex);
            _.$slides.eq(slideIndex).css({opacity: 0, zIndex: _.options.zIndex - 2});
        }
    };
    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function (filter) {
        var _ = this;
        if (filter !== null) {
            _.$slidesCache = _.$slides;
            _.unload();
            _.$slideTrack.children(this.options.slide).detach();
            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);
            _.reinit();
        }
    };
    Slick.prototype.focusHandler = function () {
        var _ = this;
        _.$slider.off('focus.slick blur.slick').on('focus.slick blur.slick', '*', function (event) {
            event.stopImmediatePropagation();
            var $sf = $(this);
            setTimeout(function () {
                if (_.options.pauseOnFocus) {
                    _.focussed = $sf.is(':focus');
                    _.autoPlay();
                }
            }, 0);
        });
    };
    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function () {
        var _ = this;
        return _.currentSlide;
    };
    Slick.prototype.getDotCount = function () {
        var _ = this;
        var breakPoint = 0;
        var counter = 0;
        var pagerQty = 0;
        if (_.options.infinite === true) {
            if (_.slideCount <= _.options.slidesToShow) {
                ++pagerQty;
            } else {
                while (breakPoint < _.slideCount) {
                    ++pagerQty;
                    breakPoint = counter + _.options.slidesToScroll;
                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
                }
            }
        } else if (_.options.centerMode === true) {
            pagerQty = _.slideCount;
        } else if (!_.options.asNavFor) {
            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);
        } else {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        }
        return pagerQty - 1;
    };
    Slick.prototype.getLeft = function (slideIndex) {
        var _ = this, targetLeft, verticalHeight, verticalOffset = 0, targetSlide, coef;
        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight(true);
        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                coef = -1
                if (_.options.vertical === true && _.options.centerMode === true) {
                    if (_.options.slidesToShow === 2) {
                        coef = -1.5;
                    } else if (_.options.slidesToShow === 1) {
                        coef = -2
                    }
                }
                verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if (slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if (slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }
        if (_.slideCount <= _.options.slidesToShow) {
            _.slideOffset = 0;
            verticalOffset = 0;
        }
        if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) {
            _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2);
        } else if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }
        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }
        if (_.options.variableWidth === true) {
            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }
            if (_.options.rtl === true) {
                if (targetSlide[0]) {
                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                } else {
                    targetLeft = 0;
                }
            } else {
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
            }
            if (_.options.centerMode === true) {
                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }
                if (_.options.rtl === true) {
                    if (targetSlide[0]) {
                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                    } else {
                        targetLeft = 0;
                    }
                } else {
                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                }
                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }
        return targetLeft;
    };
    Slick.prototype.getOption = Slick.prototype.slickGetOption = function (option) {
        var _ = this;
        return _.options[option];
    };
    Slick.prototype.getNavigableIndexes = function () {
        var _ = this, breakPoint = 0, counter = 0, indexes = [], max;
        if (_.options.infinite === false) {
            max = _.slideCount;
        } else {
            breakPoint = _.options.slidesToScroll * -1;
            counter = _.options.slidesToScroll * -1;
            max = _.slideCount * 2;
        }
        while (breakPoint < max) {
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
        }
        return indexes;
    };
    Slick.prototype.getSlick = function () {
        return this;
    };
    Slick.prototype.getSlideCount = function () {
        var _ = this, slidesTraversed, swipedSlide, centerOffset;
        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;
        if (_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function (index, slide) {
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });
            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;
            return slidesTraversed;
        } else {
            return _.options.slidesToScroll;
        }
    };
    Slick.prototype.goTo = Slick.prototype.slickGoTo = function (slide, dontAnimate) {
        var _ = this;
        _.changeSlide({data: {message: 'index', index: parseInt(slide)}}, dontAnimate);
    };
    Slick.prototype.init = function (creation) {
        var _ = this;
        if (!$(_.$slider).hasClass('slick-initialized')) {
            $(_.$slider).addClass('slick-initialized');
            _.buildRows();
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();
            _.checkResponsive(true);
            _.focusHandler();
        }
        if (creation) {
            _.$slider.trigger('init', [_]);
        }
        if (_.options.accessibility === true) {
            _.initADA();
        }
        if (_.options.autoplay) {
            _.paused = false;
            _.autoPlay();
        }
    };
    Slick.prototype.initADA = function () {
        var _ = this, numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow),
            tabControlIndexes = _.getNavigableIndexes().filter(function (val) {
                return (val >= 0) && (val < _.slideCount);
            });
        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({
            'aria-hidden': 'true',
            'tabindex': '-1'
        }).find('a, input, button, select').attr({'tabindex': '-1'});
        if (_.$dots !== null) {
            _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function (i) {
                var slideControlIndex = tabControlIndexes.indexOf(i);
                $(this).attr({'role': 'tabpanel', 'id': 'slick-slide' + _.instanceUid + i, 'tabindex': -1});
                if (slideControlIndex !== -1) {
                    $(this).attr({'aria-describedby': 'slick-slide-control' + _.instanceUid + slideControlIndex});
                }
            });
            _.$dots.attr('role', 'tablist').find('li').each(function (i) {
                var mappedSlideIndex = tabControlIndexes[i];
                $(this).attr({'role': 'presentation'});
                $(this).find('button').first().attr({
                    'role': 'tab',
                    'id': 'slick-slide-control' + _.instanceUid + i,
                    'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex,
                    'aria-label': (i + 1) + ' of ' + numDotGroups,
                    'aria-selected': null,
                    'tabindex': '-1'
                });
            }).eq(_.currentSlide).find('button').attr({'aria-selected': 'true', 'tabindex': '0'}).end();
        }
        for (var i = _.currentSlide, max = i + _.options.slidesToShow; i < max; i++) {
            _.$slides.eq(i).attr('tabindex', 0);
        }
        _.activateADA();
    };
    Slick.prototype.initArrowEvents = function () {
        var _ = this;
        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow.off('click.slick').on('click.slick', {message: 'previous'}, _.changeSlide);
            _.$nextArrow.off('click.slick').on('click.slick', {message: 'next'}, _.changeSlide);
            if (_.options.accessibility === true) {
                _.$prevArrow.on('keydown.slick', _.keyHandler);
                _.$nextArrow.on('keydown.slick', _.keyHandler);
            }
        }
    };
    Slick.prototype.initDotEvents = function () {
        var _ = this;
        if (_.options.dots === true) {
            $('li', _.$dots).on('click.slick', {message: 'index'}, _.changeSlide);
            if (_.options.accessibility === true) {
                _.$dots.on('keydown.slick', _.keyHandler);
            }
        }
        if (_.options.dots === true && _.options.pauseOnDotsHover === true) {
            $('li', _.$dots).on('mouseenter.slick', $.proxy(_.interrupt, _, true)).on('mouseleave.slick', $.proxy(_.interrupt, _, false));
        }
    };
    Slick.prototype.initSlideEvents = function () {
        var _ = this;
        if (_.options.pauseOnHover) {
            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));
            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));
        }
    };
    Slick.prototype.initializeEvents = function () {
        var _ = this;
        _.initArrowEvents();
        _.initDotEvents();
        _.initSlideEvents();
        _.$list.on('touchstart.slick mousedown.slick', {action: 'start'}, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {action: 'move'}, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {action: 'end'}, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {action: 'end'}, _.swipeHandler);
        _.$list.on('click.slick', _.clickHandler);
        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));
        if (_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }
        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }
        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));
        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));
        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);
        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(_.setPosition);
    };
    Slick.prototype.initUI = function () {
        var _ = this;
        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow.show();
            _.$nextArrow.show();
        }
        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            _.$dots.show();
        }
    };
    Slick.prototype.keyHandler = function (event) {
        var _ = this;
        if (!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {
            if (event.keyCode === 37 && _.options.accessibility === true) {
                _.changeSlide({data: {message: _.options.rtl === true ? 'next' : 'previous'}});
            } else if (event.keyCode === 39 && _.options.accessibility === true) {
                _.changeSlide({data: {message: _.options.rtl === true ? 'previous' : 'next'}});
            }
        }
    };
    Slick.prototype.lazyLoad = function () {
        var _ = this, loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {
            $('img[data-lazy]', imagesScope).each(function () {
                var image = $(this), imageSource = $(this).attr('data-lazy'), imageSrcSet = $(this).attr('data-srcset'),
                    imageSizes = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'),
                    imageToLoad = document.createElement('img');
                imageToLoad.onload = function () {
                    image.animate({opacity: 0}, 100, function () {
                        if (imageSrcSet) {
                            image.attr('srcset', imageSrcSet);
                            if (imageSizes) {
                                image.attr('sizes', imageSizes);
                            }
                        }
                        image.attr('src', imageSource).animate({opacity: 1}, 200, function () {
                            image.removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading');
                        });
                        _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                    });
                };
                imageToLoad.onerror = function () {
                    image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');
                    _.$slider.trigger('lazyLoadError', [_, image, imageSource]);
                };
                imageToLoad.src = imageSource;
            });
        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);
            if (_.options.fade === true) {
                if (rangeStart > 0) rangeStart--;
                if (rangeEnd <= _.slideCount) rangeEnd++;
            }
        }
        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);
        if (_.options.lazyLoad === 'anticipated') {
            var prevSlide = rangeStart - 1, nextSlide = rangeEnd, $slides = _.$slider.find('.slick-slide');
            for (var i = 0; i < _.options.slidesToScroll; i++) {
                if (prevSlide < 0) prevSlide = _.slideCount - 1;
                loadRange = loadRange.add($slides.eq(prevSlide));
                loadRange = loadRange.add($slides.eq(nextSlide));
                prevSlide--;
                nextSlide++;
            }
        }
        loadImages(loadRange);
        if (_.slideCount <= _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-slide');
            loadImages(cloneRange);
        } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
            loadImages(cloneRange);
        } else if (_.currentSlide === 0) {
            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
            loadImages(cloneRange);
        }
    };
    Slick.prototype.loadSlider = function () {
        var _ = this;
        _.setPosition();
        _.$slideTrack.css({opacity: 1});
        _.$slider.removeClass('slick-loading');
        _.initUI();
        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }
    };
    Slick.prototype.next = Slick.prototype.slickNext = function () {
        var _ = this;
        _.changeSlide({data: {message: 'next'}});
    };
    Slick.prototype.orientationChange = function () {
        var _ = this;
        _.checkResponsive();
        _.setPosition();
    };
    Slick.prototype.pause = Slick.prototype.slickPause = function () {
        var _ = this;
        _.autoPlayClear();
        _.paused = true;
    };
    Slick.prototype.play = Slick.prototype.slickPlay = function () {
        var _ = this;
        _.autoPlay();
        _.options.autoplay = true;
        _.paused = false;
        _.focussed = false;
        _.interrupted = false;
    };
    Slick.prototype.postSlide = function (index) {
        var _ = this;
        if (!_.unslicked) {
            _.$slider.trigger('afterChange', [_, index]);
            _.animating = false;
            if (_.slideCount > _.options.slidesToShow) {
                _.setPosition();
            }
            _.swipeLeft = null;
            if (_.options.autoplay) {
                _.autoPlay();
            }
            if (_.options.accessibility === true) {
                _.initADA();
                if (_.options.focusOnChange) {
                    var $currentSlide = $(_.$slides.get(_.currentSlide));
                    $currentSlide.attr('tabindex', 0).focus();
                }
            }
        }
    };
    Slick.prototype.prev = Slick.prototype.slickPrev = function () {
        var _ = this;
        _.changeSlide({data: {message: 'previous'}});
    };
    Slick.prototype.preventDefault = function (event) {
        event.preventDefault();
    };
    Slick.prototype.progressiveLazyLoad = function (tryCount) {
        tryCount = tryCount || 1;
        var _ = this, $imgsToLoad = $('img[data-lazy]', _.$slider), image, imageSource, imageSrcSet, imageSizes,
            imageToLoad;
        if ($imgsToLoad.length) {
            image = $imgsToLoad.first();
            imageSource = image.attr('data-lazy');
            imageSrcSet = image.attr('data-srcset');
            imageSizes = image.attr('data-sizes') || _.$slider.attr('data-sizes');
            imageToLoad = document.createElement('img');
            imageToLoad.onload = function () {
                if (imageSrcSet) {
                    image.attr('srcset', imageSrcSet);
                    if (imageSizes) {
                        image.attr('sizes', imageSizes);
                    }
                }
                image.attr('src', imageSource).removeAttr('data-lazy data-srcset data-sizes').removeClass('slick-loading');
                if (_.options.adaptiveHeight === true) {
                    _.setPosition();
                }
                _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                _.progressiveLazyLoad();
            };
            imageToLoad.onerror = function () {
                if (tryCount < 3) {
                    setTimeout(function () {
                        _.progressiveLazyLoad(tryCount + 1);
                    }, 500);
                } else {
                    image.removeAttr('data-lazy').removeClass('slick-loading').addClass('slick-lazyload-error');
                    _.$slider.trigger('lazyLoadError', [_, image, imageSource]);
                    _.progressiveLazyLoad();
                }
            };
            imageToLoad.src = imageSource;
        } else {
            _.$slider.trigger('allImagesLoaded', [_]);
        }
    };
    Slick.prototype.refresh = function (initializing) {
        var _ = this, currentSlide, lastVisibleIndex;
        lastVisibleIndex = _.slideCount - _.options.slidesToShow;
        if (!_.options.infinite && (_.currentSlide > lastVisibleIndex)) {
            _.currentSlide = lastVisibleIndex;
        }
        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }
        currentSlide = _.currentSlide;
        _.destroy(true);
        $.extend(_, _.initials, {currentSlide: currentSlide});
        _.init();
        if (!initializing) {
            _.changeSlide({data: {message: 'index', index: currentSlide}}, false);
        }
    };
    Slick.prototype.registerBreakpoints = function () {
        var _ = this, breakpoint, currentBreakpoint, l, responsiveSettings = _.options.responsive || null;
        if ($.type(responsiveSettings) === 'array' && responsiveSettings.length) {
            _.respondTo = _.options.respondTo || 'window';
            for (breakpoint in responsiveSettings) {
                l = _.breakpoints.length - 1;
                if (responsiveSettings.hasOwnProperty(breakpoint)) {
                    currentBreakpoint = responsiveSettings[breakpoint].breakpoint;
                    while (l >= 0) {
                        if (_.breakpoints[l] && _.breakpoints[l] === currentBreakpoint) {
                            _.breakpoints.splice(l, 1);
                        }
                        l--;
                    }
                    _.breakpoints.push(currentBreakpoint);
                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;
                }
            }
            _.breakpoints.sort(function (a, b) {
                return (_.options.mobileFirst) ? a - b : b - a;
            });
        }
    };
    Slick.prototype.reinit = function () {
        var _ = this;
        _.$slides = _.$slideTrack.children(_.options.slide).addClass('slick-slide');
        _.slideCount = _.$slides.length;
        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }
        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }
        _.registerBreakpoints();
        _.setProps();
        _.setupInfinite();
        _.buildArrows();
        _.updateArrows();
        _.initArrowEvents();
        _.buildDots();
        _.updateDots();
        _.initDotEvents();
        _.cleanUpSlideEvents();
        _.initSlideEvents();
        _.checkResponsive(false, true);
        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }
        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);
        _.setPosition();
        _.focusHandler();
        _.paused = !_.options.autoplay;
        _.autoPlay();
        _.$slider.trigger('reInit', [_]);
    };
    Slick.prototype.resize = function () {
        var _ = this;
        if ($(window).width() !== _.windowWidth) {
            clearTimeout(_.windowDelay);
            _.windowDelay = window.setTimeout(function () {
                _.windowWidth = $(window).width();
                _.checkResponsive();
                if (!_.unslicked) {
                    _.setPosition();
                }
            }, 50);
        }
    };
    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function (index, removeBefore, removeAll) {
        var _ = this;
        if (typeof (index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }
        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }
        _.unload();
        if (removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }
        _.$slides = _.$slideTrack.children(this.options.slide);
        _.$slideTrack.children(this.options.slide).detach();
        _.$slideTrack.append(_.$slides);
        _.$slidesCache = _.$slides;
        _.reinit();
    };
    Slick.prototype.setCSS = function (position) {
        var _ = this, positionProps = {}, x, y;
        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';
        positionProps[_.positionProp] = position;
        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }
    };
    Slick.prototype.setDimensions = function () {
        var _ = this;
        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({padding: ('0px ' + _.options.centerPadding)});
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({padding: (_.options.centerPadding + ' 0px')});
            }
        }
        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();
        if (_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));
        } else if (_.options.variableWidth === true) {
            _.$slideTrack.width(5000 * _.slideCount);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }
        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);
    };
    Slick.prototype.setFade = function () {
        var _ = this, targetLeft;
        _.$slides.each(function (index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            }
        });
        _.$slides.eq(_.currentSlide).css({zIndex: _.options.zIndex - 1, opacity: 1});
    };
    Slick.prototype.setHeight = function () {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }
    };
    Slick.prototype.setOption = Slick.prototype.slickSetOption = function () {
        var _ = this, l, item, option, value, refresh = false, type;
        if ($.type(arguments[0]) === 'object') {
            option = arguments[0];
            refresh = arguments[1];
            type = 'multiple';
        } else if ($.type(arguments[0]) === 'string') {
            option = arguments[0];
            value = arguments[1];
            refresh = arguments[2];
            if (arguments[0] === 'responsive' && $.type(arguments[1]) === 'array') {
                type = 'responsive';
            } else if (typeof arguments[1] !== 'undefined') {
                type = 'single';
            }
        }
        if (type === 'single') {
            _.options[option] = value;
        } else if (type === 'multiple') {
            $.each(option, function (opt, val) {
                _.options[opt] = val;
            });
        } else if (type === 'responsive') {
            for (item in value) {
                if ($.type(_.options.responsive) !== 'array') {
                    _.options.responsive = [value[item]];
                } else {
                    l = _.options.responsive.length - 1;
                    while (l >= 0) {
                        if (_.options.responsive[l].breakpoint === value[item].breakpoint) {
                            _.options.responsive.splice(l, 1);
                        }
                        l--;
                    }
                    _.options.responsive.push(value[item]);
                }
            }
        }
        if (refresh) {
            _.unload();
            _.reinit();
        }
    };
    Slick.prototype.setPosition = function () {
        var _ = this;
        _.setDimensions();
        _.setHeight();
        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }
        _.$slider.trigger('setPosition', [_]);
    };
    Slick.prototype.setProps = function () {
        var _ = this, bodyStyle = document.body.style;
        _.positionProp = _.options.vertical === true ? 'top' : 'left';
        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }
        if (bodyStyle.WebkitTransition !== undefined || bodyStyle.MozTransition !== undefined || bodyStyle.msTransition !== undefined) {
            if (_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }
        if (_.options.fade) {
            if (typeof _.options.zIndex === 'number') {
                if (_.options.zIndex < 3) {
                    _.options.zIndex = 3;
                }
            } else {
                _.options.zIndex = _.defaults.zIndex;
            }
        }
        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = '-o-transform';
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = '-moz-transform';
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = '-webkit-transform';
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = '-ms-transform';
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = 'transform';
            _.transitionType = 'transition';
        }
        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);
    };
    Slick.prototype.setSlideClasses = function (index) {
        var _ = this, centerOffset, allSlides, indexOffset, remainder;
        allSlides = _.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden', 'true');
        _.$slides.eq(index).addClass('slick-current');
        if (_.options.centerMode === true) {
            var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0;
            centerOffset = Math.floor(_.options.slidesToShow / 2);
            if (_.options.infinite === true) {
                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {
                    _.$slides.slice(index - centerOffset + evenCoef, index + centerOffset + 1).addClass('slick-active').attr('aria-hidden', 'false');
                } else {
                    indexOffset = _.options.slidesToShow + index;
                    allSlides.slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2).addClass('slick-active').attr('aria-hidden', 'false');
                }
                if (index === 0) {
                    allSlides.eq(allSlides.length - 1 - _.options.slidesToShow).addClass('slick-center');
                } else if (index === _.slideCount - 1) {
                    allSlides.eq(_.options.slidesToShow).addClass('slick-center');
                }
            }
            _.$slides.eq(index).addClass('slick-center');
        } else {
            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {
                _.$slides.slice(index, index + _.options.slidesToShow).addClass('slick-active').attr('aria-hidden', 'false');
            } else if (allSlides.length <= _.options.slidesToShow) {
                allSlides.addClass('slick-active').attr('aria-hidden', 'false');
            } else {
                remainder = _.slideCount % _.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;
                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {
                    allSlides.slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder).addClass('slick-active').attr('aria-hidden', 'false');
                } else {
                    allSlides.slice(indexOffset, indexOffset + _.options.slidesToShow).addClass('slick-active').attr('aria-hidden', 'false');
                }
            }
        }
        if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') {
            _.lazyLoad();
        }
    };
    Slick.prototype.setupInfinite = function () {
        var _ = this, i, slideIndex, infiniteCount;
        if (_.options.fade === true) {
            _.options.centerMode = false;
        }
        if (_.options.infinite === true && _.options.fade === false) {
            slideIndex = null;
            if (_.slideCount > _.options.slidesToShow) {
                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }
                for (i = _.slideCount; i > (_.slideCount - infiniteCount); i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '').attr('data-slick-index', slideIndex - _.slideCount).prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount + _.slideCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '').attr('data-slick-index', slideIndex + _.slideCount).appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function () {
                    $(this).attr('id', '');
                });
            }
        }
    };
    Slick.prototype.interrupt = function (toggle) {
        var _ = this;
        if (!toggle) {
            _.autoPlay();
        }
        _.interrupted = toggle;
    };
    Slick.prototype.selectHandler = function (event) {
        var _ = this;
        var targetElement = $(event.target).is('.slick-slide') ? $(event.target) : $(event.target).parents('.slick-slide');
        var index = parseInt(targetElement.attr('data-slick-index'));
        if (!index) index = 0;
        if (_.slideCount <= _.options.slidesToShow) {
            _.slideHandler(index, false, true);
            return;
        }
        _.slideHandler(index);
    };
    Slick.prototype.slideHandler = function (index, sync, dontAnimate) {
        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null, _ = this, navTarget;
        sync = sync || false;
        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }
        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }
        if (sync === false) {
            _.asNavFor(index);
        }
        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);
        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;
        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function () {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function () {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }
        if (_.options.autoplay) {
            clearInterval(_.autoPlayTimer);
        }
        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }
        _.animating = true;
        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);
        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;
        _.setSlideClasses(_.currentSlide);
        if (_.options.asNavFor) {
            navTarget = _.getNavTarget();
            navTarget = navTarget.slick('getSlick');
            if (navTarget.slideCount <= navTarget.options.slidesToShow) {
                navTarget.setSlideClasses(_.currentSlide);
            }
        }
        _.updateDots();
        _.updateArrows();
        if (_.options.fade === true) {
            if (dontAnimate !== true) {
                _.fadeSlideOut(oldSlide);
                _.fadeSlide(animSlide, function () {
                    _.postSlide(animSlide);
                });
            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }
        if (dontAnimate !== true) {
            _.animateSlide(targetLeft, function () {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }
    };
    Slick.prototype.startLoad = function () {
        var _ = this;
        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow.hide();
            _.$nextArrow.hide();
        }
        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            _.$dots.hide();
        }
        _.$slider.addClass('slick-loading');
    };
    Slick.prototype.swipeDirection = function () {
        var xDist, yDist, r, swipeAngle, _ = this;
        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);
        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }
        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }
        if (_.options.verticalSwiping === true) {
            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {
                return 'down';
            } else {
                return 'up';
            }
        }
        return 'vertical';
    };
    Slick.prototype.swipeEnd = function (event) {
        var _ = this, slideCount, direction;
        _.dragging = false;
        _.swiping = false;
        if (_.scrolling) {
            _.scrolling = false;
            return false;
        }
        _.interrupted = false;
        _.shouldClick = (_.touchObject.swipeLength > 10) ? false : true;
        if (_.touchObject.curX === undefined) {
            return false;
        }
        if (_.touchObject.edgeHit === true) {
            _.$slider.trigger('edge', [_, _.swipeDirection()]);
        }
        if (_.touchObject.swipeLength >= _.touchObject.minSwipe) {
            direction = _.swipeDirection();
            switch (direction) {
                case'left':
                case'down':
                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide + _.getSlideCount()) : _.currentSlide + _.getSlideCount();
                    _.currentDirection = 0;
                    break;
                case'right':
                case'up':
                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide - _.getSlideCount()) : _.currentSlide - _.getSlideCount();
                    _.currentDirection = 1;
                    break;
                default:
            }
            if (direction != 'vertical') {
                _.slideHandler(slideCount);
                _.touchObject = {};
                _.$slider.trigger('swipe', [_, direction]);
            }
        } else {
            if (_.touchObject.startX !== _.touchObject.curX) {
                _.slideHandler(_.currentSlide);
                _.touchObject = {};
            }
        }
    };
    Slick.prototype.swipeHandler = function (event) {
        var _ = this;
        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
            return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
            return;
        }
        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ? event.originalEvent.touches.length : 1;
        _.touchObject.minSwipe = _.listWidth / _.options.touchThreshold;
        if (_.options.verticalSwiping === true) {
            _.touchObject.minSwipe = _.listHeight / _.options.touchThreshold;
        }
        switch (event.data.action) {
            case'start':
                _.swipeStart(event);
                break;
            case'move':
                _.swipeMove(event);
                break;
            case'end':
                _.swipeEnd(event);
                break;
        }
    };
    Slick.prototype.swipeMove = function (event) {
        var _ = this, edgeWasHit = false, curLeft, swipeDirection, swipeLength, positionOffset, touches,
            verticalSwipeLength;
        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;
        if (!_.dragging || _.scrolling || touches && touches.length !== 1) {
            return false;
        }
        curLeft = _.getLeft(_.currentSlide);
        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;
        _.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));
        verticalSwipeLength = Math.round(Math.sqrt(Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));
        if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) {
            _.scrolling = true;
            return false;
        }
        if (_.options.verticalSwiping === true) {
            _.touchObject.swipeLength = verticalSwipeLength;
        }
        swipeDirection = _.swipeDirection();
        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            _.swiping = true;
            event.preventDefault();
        }
        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);
        if (_.options.verticalSwiping === true) {
            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;
        }
        swipeLength = _.touchObject.swipeLength;
        _.touchObject.edgeHit = false;
        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }
        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }
        if (_.options.verticalSwiping === true) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        }
        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }
        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }
        _.setCSS(_.swipeLeft);
    };
    Slick.prototype.swipeStart = function (event) {
        var _ = this, touches;
        _.interrupted = true;
        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }
        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }
        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;
        _.dragging = true;
    };
    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function () {
        var _ = this;
        if (_.$slidesCache !== null) {
            _.unload();
            _.$slideTrack.children(this.options.slide).detach();
            _.$slidesCache.appendTo(_.$slideTrack);
            _.reinit();
        }
    };
    Slick.prototype.unload = function () {
        var _ = this;
        $('.slick-cloned', _.$slider).remove();
        if (_.$dots) {
            _.$dots.remove();
        }
        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {
            _.$prevArrow.remove();
        }
        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {
            _.$nextArrow.remove();
        }
        _.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden', 'true').css('width', '');
    };
    Slick.prototype.unslick = function (fromBreakpoint) {
        var _ = this;
        _.$slider.trigger('unslick', [_, fromBreakpoint]);
        _.destroy();
    };
    Slick.prototype.updateArrows = function () {
        var _ = this, centerOffset;
        centerOffset = Math.floor(_.options.slidesToShow / 2);
        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow && !_.options.infinite) {
            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            if (_.currentSlide === 0) {
                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {
                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {
                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            }
        }
    };
    Slick.prototype.updateDots = function () {
        var _ = this;
        if (_.$dots !== null) {
            _.$dots.find('li').removeClass('slick-active').end();
            _.$dots.find('li').eq(Math.floor(_.currentSlide / _.options.slidesToScroll)).addClass('slick-active');
        }
    };
    Slick.prototype.visibility = function () {
        var _ = this;
        if (_.options.autoplay) {
            if (document[_.hidden]) {
                _.interrupted = true;
            } else {
                _.interrupted = false;
            }
        }
    };
    $.fn.slick = function () {
        var _ = this, opt = arguments[0], args = Array.prototype.slice.call(arguments, 1), l = _.length, i, ret;
        for (i = 0; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick = new Slick(_[i], opt); else
                ret = _[i].slick[opt].apply(_[i].slick, args);
            if (typeof ret != 'undefined') return ret;
        }
        return _;
    };
}));

[].map || (Array.prototype.map = function (t, e) {
    for (var r = this.length, n = new Array(r), i = 0; i < r; i++) i in this && (n[i] = t.call(e, this[i], i, this));
    return n
}), [].filter || (Array.prototype.filter = function (t) {
    if (null == this) throw new TypeError;
    var e = Object(this), r = e.length >>> 0;
    if ("function" != typeof t) throw new TypeError;
    for (var n = [], i = arguments[1], o = 0; o < r; o++) if (o in e) {
        var l = e[o];
        t.call(i, l, o, e) && n.push(l)
    }
    return n
}), [].indexOf || (Array.prototype.indexOf = function (t) {
    if (null == this) throw new TypeError;
    var e = Object(this), r = e.length >>> 0;
    if (0 === r) return -1;
    var n = 0;
    if (arguments.length > 1 && ((n = Number(arguments[1])) != n ? n = 0 : 0 !== n && n != 1 / 0 && n != -1 / 0 && (n = (n > 0 || -1) * Math.floor(Math.abs(n)))), n >= r) return -1;
    for (var i = n >= 0 ? n : Math.max(r - Math.abs(n), 0); i < r; i++) if (i in e && e[i] === t) return i;
    return -1
});
var nativeSplit = String.prototype.split, compliantExecNpcg = void 0 === /()??/.exec("")[1];
String.prototype.split = function (t, e) {
    var r = this;
    if ("[object RegExp]" !== Object.prototype.toString.call(t)) return nativeSplit.call(r, t, e);
    var n, i, o, l, p = [],
        a = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.extended ? "x" : "") + (t.sticky ? "y" : ""),
        h = 0;
    for (t = new RegExp(t.source, a + "g"), r += "", compliantExecNpcg || (n = new RegExp("^" + t.source + "$(?!\\s)", a)), e = void 0 === e ? -1 >>> 0 : e >>> 0; (i = t.exec(r)) && !((o = i.index + i[0].length) > h && (p.push(r.slice(h, i.index)), !compliantExecNpcg && i.length > 1 && i[0].replace(n, function () {
        for (var t = 1; t < arguments.length - 2; t++) void 0 === arguments[t] && (i[t] = void 0)
    }), i.length > 1 && i.index < r.length && Array.prototype.push.apply(p, i.slice(1)), l = i[0].length, h = o, p.length >= e));) t.lastIndex === i.index && t.lastIndex++;
    return h === r.length ? !l && t.test("") || p.push("") : p.push(r.slice(h)), p.length > e ? p.slice(0, e) : p
};

"use strict";
/*!
 * Bootstrap-fullscreen-select v1.5.1 (http://craftpip.github.io/bootstrap-fullscreen-select/)
 * Author: boniface pereira
 * Website: www.craftpip.com
 * Contact: hey@craftpip.com
 *
 * Copyright 2013-2014 bootstrap-select
 * Licensed under MIT (https://github.com/craftpip/bootstrap-fullscreen-select/blob/master/LICENSE)
 */
if (typeof jQuery === "undefined") {
    throw new Error("Mobileselect's JavaScript requires jQuery")
}
(function (b) {
    b.fn.mobileSelect = function (c) {
        var d = b(this);
        if (!d.length) {
            return "no elements to process"
        }
        if (!c) {
            c = {}
        }
        if (typeof c === "string") {
            if (c === "destroy") {
                d.each(function (f, e) {
                    var g = b(e).attr("data-msid");
                    b.mobileSelect.elements[g].destroy();
                    delete b.mobileSelect.elements[g]
                })
            }
            if (c === "sync" || c === "refresh") {
                d.each(function (f, e) {
                    var g = b(e).attr("data-msid");
                    b.mobileSelect.elements[g].refresh()
                })
            }
            if (c === "hide") {
                d.each(function (f, e) {
                    var g = b(e).attr("data-msid");
                    b.mobileSelect.elements[g].hide()
                })
            }
            if (c === "show") {
                d.each(function (f, e) {
                    var g = b(e).attr("data-msid");
                    b.mobileSelect.elements[g].show()
                })
            }
            return
        }
        if (b.mobileSelect.defaults) {
            b.extend(b.fn.mobileSelect.defaults, b.mobileSelect.defaults)
        }
        c = b.extend({}, b.fn.mobileSelect.defaults, c);
        d.each(function (g, f) {
            var e = b(f);
            if (e[0].tagName !== "SELECT") {
                console.warn("Sorry, cannot initialized a " + e[0].tagName + " element");
                return true
            }
            if (e.attr("data-msid") !== undefined) {
                console.error("This element is already Initialized");
                return true
            }
            var j = Math.floor(Math.random() * 999999);
            e.attr("data-msid", j);
            var h = new a(f, c);
            b.mobileSelect.elements[j] = h
        })
    };
    var a = function (d, c) {
        this.$e = b(d);
        b.extend(this, c);
        this.init()
    };
    a.prototype = {
        init: function () {
            this._setUserOptions();
            this._extractOptions();
            this._buildHTML();
            this._bindEvents()
        }, _buildHTML: function () {
            if (this.$e.attr("data-triggerOn") === undefined) {
                if (this.$e.attr("data-style") !== undefined) {
                    this.style = this.$e.attr("data-style")
                }
                var c = this.$e.attr("disabled") || "";
                this.$e.before('<button class="btn ' + this.style + ' btn-mobileSelect-gen" ' + c + '><span class="text"></span> <span class="caret"></span></button>');
                this.$triggerElement = this.$e.prev();
                this.$e.hide()
            } else {
                this.$triggerElement = b(this.$e.attr("data-triggerOn"))
            }
            this.$c = b('<div class="mobileSelect-container"></div>').addClass(this.theme).appendTo("body");
            this.$c.html(b.fn.mobileSelect.defaults.template);
            this.$c.children("div").css({
                "-webkit-transition": "all " + this.animationSpeed / 1000 + "s",
                transition: "all " + this.animationSpeed / 1000 + "s"
            }).css(this.padding).addClass("anim-" + this.animation);
            this.$c.find(".mobileSelect-title").html(this.title).end().find(".mobileSelect-savebtn").html(this.buttonSave).end().find(".mobileSelect-clearbtn").html(this.buttonClear).end().find(".mobileSelect-cancelbtn").html(this.buttonCancel).end();
            this.$listcontainer = this.$c.find(".list-container");
            if (!this.isMultiple) {
                this.$c.find(".mobileSelect-clearbtn").remove()
            } else {
                this.$listcontainer.data("multiple", "true")
            }
            this._appendOptionsList()
        }, _appendOptionsList: function () {
            this.$listcontainer.html("");
            var c = this;
            var d = "";
            b.each(this.options, function (g, f) {
                if (f.group && f.group !== d) {
                    if (f.groupDisabled) {
                        var e = "disabled"
                    }
                    c.$listcontainer.append('<span class="mobileSelect-group" ' + e + ">" + f.group + "</span>");
                    d = f.group
                }
                if (f.groupDisabled || f.disabled) {
                    var e = "disabled"
                }
                c.$listcontainer.append('<a href="#" class="mobileSelect-control" ' + e + ' data-value="' + f.value + '">' + f.text + "</a>")
            });
            this.sync();
            this._updateBtnCount()
        }, _updateBtnCount: function () {
            if (this.$triggerElement.is("button") && this.$triggerElement.hasClass("btn-mobileSelect-gen")) {
                var d = this.$triggerElement.find(".text"), c = this.$e.val();
                if (c === null) {
                    d.html("Nothing selected");
                    return false
                }
                if (this.isMultiple) {
                    if (c.length === 1) {
                        d.html(c)
                    } else {
                        d.html(c.length + " items selected")
                    }
                } else {
                    d.html(c)
                }
            }
        }, _bindEvents: function () {
            var c = this;
            this.$triggerElement.on("click", function () {
                c.show()
            });
            this.$c.find(".mobileSelect-savebtn").on("click", function (d) {
                d.preventDefault();
                c.syncR();
                c.hide()
            });
            this.$c.find(".mobileSelect-clearbtn").on("click", function (d) {
                d.preventDefault();
                c.$listcontainer.find(".selected").removeClass("selected");
                c.syncR();
                c.hide()
            });
            this.$c.find(".mobileSelect-cancelbtn").on("click", function (d) {
                d.preventDefault();
                c.hide()
            });
            this.$c.find(".mobileSelect-control").on("click", function (f) {
                f.preventDefault();
                var d = b(this);
                if (d.attr("disabled") == "disabled") {
                    return false
                }
                if (c.isMultiple) {
                    d.toggleClass("selected")
                } else {
                    d.siblings().removeClass("selected").end().addClass("selected")
                }
            })
        }, _unbindEvents: function () {
            this.$triggerElement.unbind("click");
            this.$c.find(".mobileSelect-clearbtn").unbind("click");
            this.$c.find(".mobileSelect-cancelbtn").unbind("click");
            this.$c.find(".mobileSelect-control").unbind("click")
        }, sync: function () {
            var d = this.$e.val();
            if (!this.isMultiple) {
                d = [d]
            }
            this.$c.find("a").removeClass("selected");
            for (var c in d) {
                this.$c.find('a[data-value="' + d[c] + '"]').addClass("selected")
            }
        }, syncR: function () {
            var c = [];
            this.$c.find(".selected").each(function () {
                c.push(b(this).data("value"))
            });
            this.$e.val(c)
        }, hide: function () {
            this.$c.children("div").addClass("anim-" + this.animation);
            var c = this;
            this._updateBtnCount();
            setTimeout(function () {
                c.$c.hide();
                b("body").removeClass("mobileSelect-noscroll");
                c.onClose.apply(c.$e)
            }, this.animationSpeed)
        }, show: function () {
            this.$c.show();
            this.sync();
            b("body").addClass("mobileSelect-noscroll");
            var c = this;
            setTimeout(function () {
                c.$c.children("div").removeClass(b.mobileSelect.animations.join(" "))
            }, 10);
            this.onOpen.apply(this.$e)
        }, _setUserOptions: function () {
            this.isMultiple = this.$e.attr("multiple") ? true : false;
            if (this.$e.data("title") !== undefined) {
                this.title = this.$e.data("title")
            }
            if (this.$e.data("animation") !== undefined) {
                this.animation = this.$e.data("animation")
            }
            if (this.$e.data("animation-speed") !== undefined) {
                this.animationSpeed = this.$e.data("animation-speed")
            }
            if (this.$e.data("padding") !== undefined) {
                this.padding = this.$e.data("padding")
            }
            if (this.$e.data("btntext-save") !== undefined) {
                this.buttonSave = this.$e.data("btntext-save")
            }
            if (this.$e.data("btntext-clear") !== undefined) {
                this.buttonClear = this.$e.data("btntext-clear")
            }
            if (this.$e.data("btntext-cancel") !== undefined) {
                this.buttonCancel = this.$e.data("btntext-cancel")
            }
            if (this.$e.data("theme") !== undefined) {
                this.theme = this.$e.data("theme")
            }
            if (this.animation === "none") {
                this.animationSpeed = 0
            }
        }, _extractOptions: function () {
            var c = [];
            b.each(this.$e.find("option"), function (g, d) {
                var h = b(d);
                if (h.text()) {
                    if (h.parent().is("optgroup")) {
                        var e = h.parent().attr("label");
                        var f = h.parent().prop("disabled")
                    } else {
                        var e = false;
                        var f = false
                    }
                    c.push({
                        value: h.val(),
                        text: b.trim(h.text()),
                        disabled: h.prop("disabled"),
                        group: e,
                        groupDisabled: f
                    })
                }
            });
            this.options = c
        }, destroy: function () {
            this.$e.removeAttr("data-msid");
            this._unbindEvents();
            this.$triggerElement.remove();
            this.$c.remove();
            this.$e.show();
            console.log("done ")
        }, refresh: function () {
            this._extractOptions();
            this._appendOptionsList();
            this._unbindEvents();
            this._bindEvents()
        }
    };
    b.mobileSelect = {
        elements: {},
        animations: ["anim-top", "anim-bottom", "anim-left", "anim-right", "anim-opacity", "anim-scale", "anim-zoom", "anim-none"]
    };
    b.fn.mobileSelect.defaults = {
        template: '<div><div class="mobileSelect-title"></div><div class="list-container"></div><div class="mobileSelect-buttons"><a href="#" class="mobileSelect-savebtn"></a><a href="#" class="mobileSelect-clearbtn"></a><a href="#" class="mobileSelect-cancelbtn"></a></div></div>',
        title: "Select an option",
        buttonSave: "Save",
        buttonClear: "Clear",
        buttonCancel: "Cancel",
        padding: {top: "20px", left: "20px", right: "20px", bottom: "20px"},
        animation: "scale",
        animationSpeed: 400,
        theme: "white",
        onOpen: function () {
        },
        onClose: function () {
        },
        style: "btn-default"
    }
})(jQuery);


;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.moment = factory()
}(this, (function () {
    'use strict';
    var hookCallback;

    function hooks() {
        return hookCallback.apply(null, arguments);
    }

    function setHookCallback(callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }
        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }
        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }
        return a;
    }

    function createUTC(input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        return {
            empty: false,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: false,
            invalidMonth: null,
            invalidFormat: false,
            userInvalidated: false,
            iso: false,
            parsedDateParts: [],
            meridiem: null,
            rfc2822: false,
            weekdayMismatch: false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;
            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }
            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) && flags.overflow < 0 && !flags.empty && !flags.invalidMonth && !flags.invalidWeekday && !flags.weekdayMismatch && !flags.nullInput && !flags.invalidFormat && !flags.userInvalidated && (!flags.meridiem || (flags.meridiem && parsedParts));
            if (m._strict) {
                isNowValid = isNowValid && flags.charsLeftOver === 0 && flags.unusedTokens.length === 0 && flags.bigHour === undefined;
            }
            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            } else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid(flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        } else {
            getParsingFlags(m).userInvalidated = true;
        }
        return m;
    }

    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;
        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }
        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }
        return to;
    }

    var updateInProgress = false;

    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment(obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor(number) {
        if (number < 0) {
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion, value = 0;
        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }
        return value;
    }

    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length), lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0, i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) || (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false && (typeof console !== 'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;
        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2);
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set(config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) && !hasOwnProp(childConfig, prop) && isObject(parentConfig[prop])) {
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;
    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }
    var defaultCalendar = {
        sameDay: '[Today at] LT',
        nextDay: '[Tomorrow at] LT',
        nextWeek: 'dddd [at] LT',
        lastDay: '[Yesterday at] LT',
        lastWeek: '[Last] dddd [at] LT',
        sameElse: 'L'
    };

    function calendar(key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS: 'h:mm:ss A',
        LT: 'h:mm A',
        L: 'MM/DD/YYYY',
        LL: 'MMMM D, YYYY',
        LLL: 'MMMM D, YYYY h:mm A',
        LLLL: 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat(key) {
        var format = this._longDateFormat[key], formatUpper = this._longDateFormat[key.toUpperCase()];
        if (format || !formatUpper) {
            return format;
        }
        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });
        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate() {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal(number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future: 'in %s',
        past: '%s ago',
        s: 'a few seconds',
        ss: '%d seconds',
        m: 'a minute',
        mm: '%d minutes',
        h: 'an hour',
        hh: '%d hours',
        d: 'a day',
        dd: '%d days',
        M: 'a month',
        MM: '%d months',
        y: 'a year',
        yy: '%d years'
    };

    function relativeTime(number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number);
    }

    function pastFuture(diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias(unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {}, normalizedProp, prop;
        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }
        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number), zerosToFill = targetLength - absNumber.length, sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') + Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;
    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;
    var formatFunctions = {};
    var formatTokenFunctions = {};

    function addFormatToken(token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;
        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }
        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }
        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);
        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }
        return format;
    }

    var match1 = /\d/;
    var match2 = /\d\d/;
    var match3 = /\d{3}/;
    var match4 = /\d{4}/;
    var match6 = /[+-]?\d{6}/;
    var match1to2 = /\d\d?/;
    var match3to4 = /\d\d\d\d?/;
    var match5to6 = /\d\d\d\d\d\d?/;
    var match1to3 = /\d{1,3}/;
    var match1to4 = /\d{1,4}/;
    var match1to6 = /[+-]?\d{1,6}/;
    var matchUnsigned = /\d+/;
    var matchSigned = /[+-]?\d+/;
    var matchOffset = /Z|[+-]\d\d:?\d\d/gi;
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi;
    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/;
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;
    var regexes = {};

    function addRegexToken(token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken(token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }
        return regexes[token](config._strict, config._locale);
    }

    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken(token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken(token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;
    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });
    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });
    addFormatToken(0, ['YYYY', 4], 0, 'year');
    addFormatToken(0, ['YYYYY', 5], 0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');
    addUnitAlias('year', 'y');
    addUnitPriority('year', 1);
    addRegexToken('Y', matchSigned);
    addRegexToken('YY', match1to2, match2);
    addRegexToken('YYYY', match1to4, match4);
    addRegexToken('YYYYY', match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);
    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };
    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear() {
        return isLeapYear(this.year());
    }

    function makeGetSet(unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get(mom, unit) {
        return mom.isValid() ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1(mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            } else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    function stringGet(units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }

    function stringSet(units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;
    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });
    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });
    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });
    addUnitAlias('month', 'M');
    addUnitPriority('month', 8);
    addRegexToken('M', match1to2);
    addRegexToken('MM', match1to2, match2);
    addRegexToken('MMM', function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });
    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });
    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });
    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');

    function localeMonths(m, format) {
        if (!m) {
            return isArray(this._months) ? this._months : this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] : this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');

    function localeMonthsShort(m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort : this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] : this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }
        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse(monthName, format, strict) {
        var i, mom, regex;
        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }
        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }
        for (i = 0; i < 12; i++) {
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    function setMonth(mom, value) {
        var dayOfMonth;
        if (!mom.isValid()) {
            return mom;
        }
        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }
        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth(value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth() {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;

    function monthsShortRegex(isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ? this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;

    function monthsRegex(isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ? this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse() {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [], i, mom;
        for (i = 0; i < 12; i++) {
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }
        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate(y, m, d, h, M, s, ms) {
        var date = new Date(y, m, d, h, M, s, ms);
        if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
            date.setFullYear(y);
        }
        return date;
    }

    function createUTCDate(y) {
        var date = new Date(Date.UTC.apply(null, arguments));
        if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    function firstWeekOffset(year, dow, doy) {
        var
            fwd = 7 + dow - doy, fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;
        return -fwdlw + fwd - 1;
    }

    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7, weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset, resYear, resDayOfYear;
        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }
        return {year: resYear, dayOfYear: resDayOfYear};
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1, resWeek, resYear;
        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }
        return {week: resWeek, year: resYear};
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy), weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');
    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');
    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);
    addRegexToken('w', match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W', match1to2);
    addRegexToken('WW', match1to2, match2);
    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    function localeWeek(mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {dow: 0, doy: 6};

    function localeFirstDayOfWeek() {
        return this._week.dow;
    }

    function localeFirstDayOfYear() {
        return this._week.doy;
    }

    function getSetWeek(input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek(input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    addFormatToken('d', 0, 'do', 'day');
    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });
    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });
    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });
    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');
    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);
    addRegexToken('d', match1to2);
    addRegexToken('e', match1to2);
    addRegexToken('E', match1to2);
    addRegexToken('dd', function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd', function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd', function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });
    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });
    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }
        if (!isNaN(input)) {
            return parseInt(input, 10);
        }
        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }
        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');

    function localeWeekdays(m, format) {
        if (!m) {
            return isArray(this._weekdays) ? this._weekdays : this._weekdays['standalone'];
        }
        return isArray(this._weekdays) ? this._weekdays[m.day()] : this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');

    function localeWeekdaysShort(m) {
        return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');

    function localeWeekdaysMin(m) {
        return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];
            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }
        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse(weekdayName, format, strict) {
        var i, mom, regex;
        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }
        for (i = 0; i < 7; i++) {
            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    function getSetDayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek(input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;

    function weekdaysRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ? this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;

    function weekdaysShortRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;

    function weekdaysMinRegex(isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }

    function computeWeekdaysParse() {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [], i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }
        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;
        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);
    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });
    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
    });
    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });
    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
    });

    function meridiem(token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);
    addUnitAlias('hour', 'h');
    addUnitPriority('hour', 13);

    function matchMeridiem(isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a', matchMeridiem);
    addRegexToken('A', matchMeridiem);
    addRegexToken('H', match1to2);
    addRegexToken('h', match1to2);
    addRegexToken('k', match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);
    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);
    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    function localeIsPM(input) {
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;

    function localeMeridiem(hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }

    var getSetHour = makeGetSet('Hours', true);
    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,
        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,
        week: defaultLocaleWeek,
        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,
        meridiemParse: defaultLocaleMeridiemParse
    };
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    function chooseLocale(names) {
        var i = 0, j, next, locale, split;
        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        if (!locales[name] && (typeof module !== 'undefined') && module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                aliasedRequire('./locale/' + name);
                getSetGlobalLocale(oldLocale);
            } catch (e) {
            }
        }
        return locales[name];
    }

    function getSetGlobalLocale(key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            } else {
                data = defineLocale(key, values);
            }
            if (data) {
                globalLocale = data;
            } else {
                if ((typeof console !== 'undefined') && console.warn) {
                    console.warn('Locale ' + key + ' not found. Did you forget to load it?');
                }
            }
        }
        return globalLocale._abbr;
    }

    function defineLocale(name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride', 'use moment.updateLocale(localeName, config) to change ' + 'an existing locale. moment.defineLocale(localeName, ' + 'config) should only be used for creating a new locale ' + 'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({name: name, config: config});
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));
            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }
            getSetGlobalLocale(name);
            return locales[name];
        } else {
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;
            getSetGlobalLocale(name);
        } else {
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    function getLocale(key) {
        var locale;
        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }
        if (!key) {
            return globalLocale;
        }
        if (!isArray(key)) {
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }
        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow(m) {
        var overflow;
        var a = m._a;
        if (a && getParsingFlags(m).overflow === -2) {
            overflow = a[MONTH] < 0 || a[MONTH] > 11 ? MONTH : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH]) ? DATE : a[HOUR] < 0 || a[HOUR] > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR : a[MINUTE] < 0 || a[MINUTE] > 59 ? MINUTE : a[SECOND] < 0 || a[SECOND] > 59 ? SECOND : a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND : -1;
            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }
            getParsingFlags(m).overflow = overflow;
        }
        return m;
    }

    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    function configFromArray(config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;
        if (config._d) {
            return;
        }
        currentDate = currentDateArray(config);
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);
            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }
            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }
        if (config._a[HOUR] === 24 && config._a[MINUTE] === 0 && config._a[SECOND] === 0 && config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }
        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }
        if (config._nextDay) {
            config._a[HOUR] = 24;
        }
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;
        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;
            var curWeek = weekOfYear(createLocal(), dow, doy);
            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);
            week = defaults(w.w, curWeek.week);
            if (w.d != null) {
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;
    var isoDates = [['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/], ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/], ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/], ['GGGG-[W]WW', /\d{4}-W\d\d/, false], ['YYYY-DDD', /\d{4}-\d{3}/], ['YYYY-MM', /\d{4}-\d\d/, false], ['YYYYYYMMDD', /[+-]\d{10}/], ['YYYYMMDD', /\d{8}/], ['GGGG[W]WWE', /\d{4}W\d{3}/], ['GGGG[W]WW', /\d{4}W\d{2}/, false], ['YYYYDDD', /\d{7}/]];
    var isoTimes = [['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/], ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/], ['HH:mm:ss', /\d\d:\d\d:\d\d/], ['HH:mm', /\d\d:\d\d/], ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/], ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/], ['HHmmss', /\d\d\d\d\d\d/], ['HHmm', /\d\d\d\d/], ['HH', /\d\d/]];
    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    function configFromISO(config) {
        var i, l, string = config._i, match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string), allowTime,
            dateFormat, timeFormat, tzFormat;
        if (match) {
            getParsingFlags(config).iso = true;
            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [untruncateYear(yearStr), defaultLocaleMonthsShort.indexOf(monthStr), parseInt(dayStr, 10), parseInt(hourStr, 10), parseInt(minuteStr, 10)];
        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }
        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }
            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);
            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);
        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }
        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }
        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate('value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' + 'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' + 'discouraged and will be removed in an upcoming major release. Please refer to ' + 'http://momentjs.com/guides/#/warnings/js-date/ for more info.', function (config) {
        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
    });
    hooks.ISO_8601 = function () {
    };
    hooks.RFC_2822 = function () {
    };

    function configFromStringAndFormat(config) {
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;
        var string = '' + config._i, i, parsedInput, tokens, token, skipped, stringLength = string.length,
            totalParsedInputLength = 0;
        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];
        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                } else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            } else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }
        if (config._a[HOUR] <= 12 && getParsingFlags(config).bigHour === true && config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }
        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);
        configFromArray(config);
        checkOverflow(config);
    }

    function meridiemFixWrap(locale, hour, meridiem) {
        var isPm;
        if (meridiem == null) {
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            return hour;
        }
    }

    function configFromStringAndArray(config) {
        var tempConfig, bestMoment, scoreToBeat, i, currentScore;
        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }
        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);
            if (!isValid(tempConfig)) {
                continue;
            }
            currentScore += getParsingFlags(tempConfig).charsLeftOver;
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;
            getParsingFlags(tempConfig).score = currentScore;
            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }
        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }
        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });
        configFromArray(config);
    }

    function createFromConfig(config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            res.add(1, 'd');
            res._nextDay = undefined;
        }
        return res;
    }

    function prepareConfig(config) {
        var input = config._i, format = config._f;
        config._locale = config._locale || getLocale(config._l);
        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }
        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }
        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        } else {
            configFromInput(config);
        }
        if (!isValid(config)) {
            config._d = null;
        }
        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC(input, format, locale, strict, isUTC) {
        var c = {};
        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }
        if ((isObject(input) && isObjectEmpty(input)) || (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;
        return createFromConfig(c);
    }

    function createLocal(input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/', function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other < this ? this : other;
        } else {
            return createInvalid();
        }
    });
    var prototypeMax = deprecate('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/', function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other > this ? this : other;
        } else {
            return createInvalid();
        }
    });

    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    function min() {
        var args = [].slice.call(arguments, 0);
        return pickBy('isBefore', args);
    }

    function max() {
        var args = [].slice.call(arguments, 0);
        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };
    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }
        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false;
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }
        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration(duration) {
        var normalizedInput = normalizeObjectUnits(duration), years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0, months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0, days = normalizedInput.day || 0, hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0, seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;
        this._isValid = isDurationValid(normalizedInput);
        this._milliseconds = +milliseconds + seconds * 1e3 + minutes * 6e4 + hours * 1000 * 60 * 60;
        this._days = +days + weeks * 7;
        this._months = +months + quarters * 3 + years * 12;
        this._data = {};
        this._locale = getLocale();
        this._bubble();
    }

    function isDuration(obj) {
        return obj instanceof Duration;
    }

    function absRound(number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    function offset(token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');
    addRegexToken('Z', matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);
        if (matches === null) {
            return null;
        }
        var chunk = matches[matches.length - 1] || [];
        var parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);
        return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;
    }

    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset(m) {
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    hooks.updateOffset = function () {
    };

    function getSetOffset(input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0, localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone(input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }
            this.utcOffset(input, keepLocalTime);
            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC(keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal(keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;
            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset() {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            } else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset(input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;
        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime() {
        return (this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset());
    }

    function isDaylightSavingTimeShifted() {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }
        var c = {};
        copyConfig(c, this);
        c = prepareConfig(c);
        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() && compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }
        return this._isDSTShifted;
    }

    function isLocal() {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset() {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc() {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration(input, key) {
        var duration = input, match = null, sign, ret, diffRes;
        if (isDuration(input)) {
            duration = {ms: input._milliseconds, d: input._days, M: input._months};
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y: 0,
                d: toInt(match[DATE]) * sign,
                h: toInt(match[HOUR]) * sign,
                m: toInt(match[MINUTE]) * sign,
                s: toInt(match[SECOND]) * sign,
                ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;
            duration = {
                y: parseIso(match[2], sign),
                M: parseIso(match[3], sign),
                w: parseIso(match[4], sign),
                d: parseIso(match[5], sign),
                h: parseIso(match[6], sign),
                m: parseIso(match[7], sign),
                s: parseIso(match[8], sign)
            };
        } else if (duration == null) {
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));
            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }
        ret = new Duration(duration);
        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }
        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso(inp, sign) {
        var res = inp && parseFloat(inp.replace(',', '.'));
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {milliseconds: 0, months: 0};
        res.months = other.month() - base.month() + (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }
        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));
        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }
        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }
        return res;
    }

    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' + 'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val;
                val = period;
                period = tmp;
            }
            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract(mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds, days = absRound(duration._days), months = absRound(duration._months);
        if (!mom.isValid()) {
            return;
        }
        updateOffset = updateOffset == null ? true : updateOffset;
        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' : diff < -1 ? 'lastWeek' : diff < 0 ? 'lastDay' : diff < 1 ? 'sameDay' : diff < 2 ? 'nextDay' : diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1(time, formats) {
        var now = time || createLocal(), sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';
        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);
        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone() {
        return new Moment(this);
    }

    function isAfter(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween(from, to, units, inclusivity) {
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) && (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
    }

    function isSame(input, units) {
        var localInput = isMoment(input) ? input : createLocal(input), inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units || 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter(input, units) {
        return this.isSame(input, units) || this.isAfter(input, units);
    }

    function isSameOrBefore(input, units) {
        return this.isSame(input, units) || this.isBefore(input, units);
    }

    function diff(input, units, asFloat) {
        var that, zoneDelta, output;
        if (!this.isValid()) {
            return NaN;
        }
        that = cloneWithOffset(input, this);
        if (!that.isValid()) {
            return NaN;
        }
        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;
        units = normalizeUnits(units);
        switch (units) {
            case'year':
                output = monthDiff(this, that) / 12;
                break;
            case'month':
                output = monthDiff(this, that);
                break;
            case'quarter':
                output = monthDiff(this, that) / 3;
                break;
            case'second':
                output = (this - that) / 1e3;
                break;
            case'minute':
                output = (this - that) / 6e4;
                break;
            case'hour':
                output = (this - that) / 36e5;
                break;
            case'day':
                output = (this - that - zoneDelta) / 864e5;
                break;
            case'week':
                output = (this - that - zoneDelta) / 6048e5;
                break;
            default:
                output = this - that;
        }
        return asFloat ? output : absFloor(output);
    }

    function monthDiff(a, b) {
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            anchor = a.clone().add(wholeMonthDiff, 'months'), anchor2, adjust;
        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            adjust = (b - anchor) / (anchor2 - anchor);
        }
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString() {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    function inspect() {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';
        return this.format(prefix + year + datetime + suffix);
    }

    function format(inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from(time, withoutSuffix) {
        if (this.isValid() && ((isMoment(time) && time.isValid()) || createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow(withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to(time, withoutSuffix) {
        if (this.isValid() && ((isMoment(time) && time.isValid()) || createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow(withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    function locale(key) {
        var newLocaleData;
        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.', function (key) {
        if (key === undefined) {
            return this.localeData();
        } else {
            return this.locale(key);
        }
    });

    function localeData() {
        return this._locale;
    }

    function startOf(units) {
        units = normalizeUnits(units);
        switch (units) {
            case'year':
                this.month(0);
            case'quarter':
            case'month':
                this.date(1);
            case'week':
            case'isoWeek':
            case'day':
            case'date':
                this.hours(0);
            case'hour':
                this.minutes(0);
            case'minute':
                this.seconds(0);
            case'second':
                this.milliseconds(0);
        }
        if (units === 'week') {
            this.weekday(0);
        }
        if (units === 'isoWeek') {
            this.isoWeekday(1);
        }
        if (units === 'quarter') {
            this.month(Math.floor(this.month() / 3) * 3);
        }
        return this;
    }

    function endOf(units) {
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond') {
            return this;
        }
        if (units === 'date') {
            units = 'day';
        }
        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
    }

    function valueOf() {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix() {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate() {
        return new Date(this.valueOf());
    }

    function toArray() {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject() {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON() {
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2() {
        return isValid(this);
    }

    function parsingFlags() {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt() {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict};
    }

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });
    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken(token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg', 'weekYear');
    addWeekYearFormatToken('ggggg', 'weekYear');
    addWeekYearFormatToken('GGGG', 'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');
    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');
    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);
    addRegexToken('G', matchSigned);
    addRegexToken('g', matchSigned);
    addRegexToken('GG', match1to2, match2);
    addRegexToken('gg', match1to2, match2);
    addRegexToken('GGGG', match1to4, match4);
    addRegexToken('gggg', match1to4, match4);
    addRegexToken('GGGGG', match1to6, match6);
    addRegexToken('ggggg', match1to6, match6);
    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });
    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    function getSetWeekYear(input) {
        return getSetWeekYearHelper.call(this, input, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
    }

    function getSetISOWeekYear(input) {
        return getSetWeekYearHelper.call(this, input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear() {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear() {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);
        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    addFormatToken('Q', 0, 'Qo', 'quarter');
    addUnitAlias('quarter', 'Q');
    addUnitPriority('quarter', 7);
    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    function getSetQuarter(input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    addFormatToken('D', ['DD', 2], 'Do', 'date');
    addUnitAlias('date', 'D');
    addUnitPriority('date', 9);
    addRegexToken('D', match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        return isStrict ? (locale._dayOfMonthOrdinalParse || locale._ordinalParse) : locale._dayOfMonthOrdinalParseLenient;
    });
    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });
    var getSetDayOfMonth = makeGetSet('Date', true);
    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');
    addUnitAlias('dayOfYear', 'DDD');
    addUnitPriority('dayOfYear', 4);
    addRegexToken('DDD', match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    function getSetDayOfYear(input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    addFormatToken('m', ['mm', 2], 0, 'minute');
    addUnitAlias('minute', 'm');
    addUnitPriority('minute', 14);
    addRegexToken('m', match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);
    var getSetMinute = makeGetSet('Minutes', false);
    addFormatToken('s', ['ss', 2], 0, 'second');
    addUnitAlias('second', 's');
    addUnitPriority('second', 15);
    addRegexToken('s', match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);
    var getSetSecond = makeGetSet('Seconds', false);
    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });
    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });
    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });
    addUnitAlias('millisecond', 'ms');
    addUnitPriority('millisecond', 16);
    addRegexToken('S', match1to3, match1);
    addRegexToken('SS', match1to3, match2);
    addRegexToken('SSS', match1to3, match3);
    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    var getSetMillisecond = makeGetSet('Milliseconds', false);
    addFormatToken('z', 0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    function getZoneAbbr() {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName() {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;
    proto.add = add;
    proto.calendar = calendar$1;
    proto.clone = clone;
    proto.diff = diff;
    proto.endOf = endOf;
    proto.format = format;
    proto.from = from;
    proto.fromNow = fromNow;
    proto.to = to;
    proto.toNow = toNow;
    proto.get = stringGet;
    proto.invalidAt = invalidAt;
    proto.isAfter = isAfter;
    proto.isBefore = isBefore;
    proto.isBetween = isBetween;
    proto.isSame = isSame;
    proto.isSameOrAfter = isSameOrAfter;
    proto.isSameOrBefore = isSameOrBefore;
    proto.isValid = isValid$2;
    proto.lang = lang;
    proto.locale = locale;
    proto.localeData = localeData;
    proto.max = prototypeMax;
    proto.min = prototypeMin;
    proto.parsingFlags = parsingFlags;
    proto.set = stringSet;
    proto.startOf = startOf;
    proto.subtract = subtract;
    proto.toArray = toArray;
    proto.toObject = toObject;
    proto.toDate = toDate;
    proto.toISOString = toISOString;
    proto.inspect = inspect;
    proto.toJSON = toJSON;
    proto.toString = toString;
    proto.unix = unix;
    proto.valueOf = valueOf;
    proto.creationData = creationData;
    proto.year = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week = proto.weeks = getSetWeek;
    proto.isoWeek = proto.isoWeeks = getSetISOWeek;
    proto.weeksInYear = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date = getSetDayOfMonth;
    proto.day = proto.days = getSetDayOfWeek;
    proto.weekday = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset = getSetOffset;
    proto.utc = setOffsetToUTC;
    proto.local = setOffsetToLocal;
    proto.parseZone = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST = isDaylightSavingTime;
    proto.isLocal = isLocal;
    proto.isUtcOffset = isUtcOffset;
    proto.isUtc = isUtc;
    proto.isUTC = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix(input) {
        return createLocal(input * 1000);
    }

    function createInZone() {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat(string) {
        return string;
    }

    var proto$1 = Locale.prototype;
    proto$1.calendar = calendar;
    proto$1.longDateFormat = longDateFormat;
    proto$1.invalidDate = invalidDate;
    proto$1.ordinal = ordinal;
    proto$1.preparse = preParsePostFormat;
    proto$1.postformat = preParsePostFormat;
    proto$1.relativeTime = relativeTime;
    proto$1.pastFuture = pastFuture;
    proto$1.set = set;
    proto$1.months = localeMonths;
    proto$1.monthsShort = localeMonthsShort;
    proto$1.monthsParse = localeMonthsParse;
    proto$1.monthsRegex = monthsRegex;
    proto$1.monthsShortRegex = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;
    proto$1.weekdays = localeWeekdays;
    proto$1.weekdaysMin = localeWeekdaysMin;
    proto$1.weekdaysShort = localeWeekdaysShort;
    proto$1.weekdaysParse = localeWeekdaysParse;
    proto$1.weekdaysRegex = weekdaysRegex;
    proto$1.weekdaysShortRegex = weekdaysShortRegex;
    proto$1.weekdaysMinRegex = weekdaysMinRegex;
    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1(format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl(format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }
        format = format || '';
        if (index != null) {
            return get$1(format, index, field, 'month');
        }
        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    function listWeekdaysImpl(localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }
            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }
            format = format || '';
        }
        var locale = getLocale(), shift = localeSorted ? locale._week.dow : 0;
        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }
        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths(format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort(format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin(localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' : (b === 1) ? 'st' : (b === 2) ? 'nd' : (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });
    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);
    var mathAbs = Math.abs;

    function abs() {
        var data = this._data;
        this._milliseconds = mathAbs(this._milliseconds);
        this._days = mathAbs(this._days);
        this._months = mathAbs(this._months);
        data.milliseconds = mathAbs(data.milliseconds);
        data.seconds = mathAbs(data.seconds);
        data.minutes = mathAbs(data.minutes);
        data.hours = mathAbs(data.hours);
        data.months = mathAbs(data.months);
        data.years = mathAbs(data.years);
        return this;
    }

    function addSubtract$1(duration, input, value, direction) {
        var other = createDuration(input, value);
        duration._milliseconds += direction * other._milliseconds;
        duration._days += direction * other._days;
        duration._months += direction * other._months;
        return duration._bubble();
    }

    function add$1(input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    function subtract$1(input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil(number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble() {
        var milliseconds = this._milliseconds;
        var days = this._days;
        var months = this._months;
        var data = this._data;
        var seconds, minutes, hours, years, monthsFromDays;
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) || (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }
        data.milliseconds = milliseconds % 1000;
        seconds = absFloor(milliseconds / 1000);
        data.seconds = seconds % 60;
        minutes = absFloor(seconds / 60);
        data.minutes = minutes % 60;
        hours = absFloor(minutes / 60);
        data.hours = hours % 24;
        days += absFloor(hours / 24);
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));
        years = absFloor(months / 12);
        months %= 12;
        data.days = days;
        data.months = months;
        data.years = years;
        return this;
    }

    function daysToMonths(days) {
        return days * 4800 / 146097;
    }

    function monthsToDays(months) {
        return months * 146097 / 4800;
    }

    function as(units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;
        units = normalizeUnits(units);
        if (units === 'month' || units === 'year') {
            days = this._days + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            return units === 'month' ? months : months / 12;
        } else {
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case'week':
                    return days / 7 + milliseconds / 6048e5;
                case'day':
                    return days + milliseconds / 864e5;
                case'hour':
                    return days * 24 + milliseconds / 36e5;
                case'minute':
                    return days * 1440 + milliseconds / 6e4;
                case'second':
                    return days * 86400 + milliseconds / 1000;
                case'millisecond':
                    return Math.floor(days * 864e5) + milliseconds;
                default:
                    throw new Error('Unknown unit ' + units);
            }
        }
    }

    function valueOf$1() {
        if (!this.isValid()) {
            return NaN;
        }
        return (this._milliseconds + this._days * 864e5 + (this._months % 12) * 2592e6 + toInt(this._months / 12) * 31536e6);
    }

    function makeAs(alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds = makeAs('s');
    var asMinutes = makeAs('m');
    var asHours = makeAs('h');
    var asDays = makeAs('d');
    var asWeeks = makeAs('w');
    var asMonths = makeAs('M');
    var asYears = makeAs('y');

    function clone$1() {
        return createDuration(this);
    }

    function get$2(units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds = makeGetter('seconds');
    var minutes = makeGetter('minutes');
    var hours = makeGetter('hours');
    var days = makeGetter('days');
    var months = makeGetter('months');
    var years = makeGetter('years');

    function weeks() {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11};

    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1(posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds = round(duration.as('s'));
        var minutes = round(duration.as('m'));
        var hours = round(duration.as('h'));
        var days = round(duration.as('d'));
        var months = round(duration.as('M'));
        var years = round(duration.as('y'));
        var a = seconds <= thresholds.ss && ['s', seconds] || seconds < thresholds.s && ['ss', seconds] || minutes <= 1 && ['m'] || minutes < thresholds.m && ['mm', minutes] || hours <= 1 && ['h'] || hours < thresholds.h && ['hh', hours] || days <= 1 && ['d'] || days < thresholds.d && ['dd', days] || months <= 1 && ['M'] || months < thresholds.M && ['MM', months] || years <= 1 && ['y'] || ['yy', years];
        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    function getSetRelativeTimeRounding(roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof (roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    function getSetRelativeTimeThreshold(threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize(withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }
        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);
        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }
        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }
        var seconds = abs$1(this._milliseconds) / 1000;
        var days = abs$1(this._days);
        var months = abs$1(this._months);
        var minutes, hours, years;
        minutes = absFloor(seconds / 60);
        hours = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;
        years = absFloor(months / 12);
        months %= 12;
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();
        if (!total) {
            return 'P0D';
        }
        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';
        return totalSign + 'P' + (Y ? ymSign + Y + 'Y' : '') + (M ? ymSign + M + 'M' : '') + (D ? daysSign + D + 'D' : '') + ((h || m || s) ? 'T' : '') + (h ? hmsSign + h + 'H' : '') + (m ? hmsSign + m + 'M' : '') + (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;
    proto$2.isValid = isValid$1;
    proto$2.abs = abs;
    proto$2.add = add$1;
    proto$2.subtract = subtract$1;
    proto$2.as = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds = asSeconds;
    proto$2.asMinutes = asMinutes;
    proto$2.asHours = asHours;
    proto$2.asDays = asDays;
    proto$2.asWeeks = asWeeks;
    proto$2.asMonths = asMonths;
    proto$2.asYears = asYears;
    proto$2.valueOf = valueOf$1;
    proto$2._bubble = bubble;
    proto$2.clone = clone$1;
    proto$2.get = get$2;
    proto$2.milliseconds = milliseconds;
    proto$2.seconds = seconds;
    proto$2.minutes = minutes;
    proto$2.hours = hours;
    proto$2.days = days;
    proto$2.weeks = weeks;
    proto$2.months = months;
    proto$2.years = years;
    proto$2.humanize = humanize;
    proto$2.toISOString = toISOString$1;
    proto$2.toString = toISOString$1;
    proto$2.toJSON = toISOString$1;
    proto$2.locale = locale;
    proto$2.localeData = localeData;
    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;
    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');
    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });
    hooks.version = '2.22.2';
    setHookCallback(createLocal);
    hooks.fn = proto;
    hooks.min = min;
    hooks.max = max;
    hooks.now = now;
    hooks.utc = createUTC;
    hooks.unix = createUnix;
    hooks.months = listMonths;
    hooks.isDate = isDate;
    hooks.locale = getSetGlobalLocale;
    hooks.invalid = createInvalid;
    hooks.duration = createDuration;
    hooks.isMoment = isMoment;
    hooks.weekdays = listWeekdays;
    hooks.parseZone = createInZone;
    hooks.localeData = getLocale;
    hooks.isDuration = isDuration;
    hooks.monthsShort = listMonthsShort;
    hooks.weekdaysMin = listWeekdaysMin;
    hooks.defineLocale = defineLocale;
    hooks.updateLocale = updateLocale;
    hooks.locales = listLocales;
    hooks.weekdaysShort = listWeekdaysShort;
    hooks.normalizeUnits = normalizeUnits;
    hooks.relativeTimeRounding = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat = getCalendarFormat;
    hooks.prototype = proto;
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',
        DATE: 'YYYY-MM-DD',
        TIME: 'HH:mm',
        TIME_SECONDS: 'HH:mm:ss',
        TIME_MS: 'HH:mm:ss.SSS',
        WEEK: 'YYYY-[W]WW',
        MONTH: 'YYYY-MM'
    };
    return hooks;
})));

!function (e) {
    "function" == typeof define && define.amd ? define(["jquery", "moment"], e) : "object" == typeof exports && "undefined" != typeof module ? module.exports = e(require("jquery"), require("moment")) : e(jQuery, moment)
}(function (e, t) {
    "use strict";
    e.dateRangePickerLanguages = {
        default: {
            selected: "Selected:",
            day: "Day",
            days: "Days",
            apply: "Close",
            "week-1": "mo",
            "week-2": "tu",
            "week-3": "we",
            "week-4": "th",
            "week-5": "fr",
            "week-6": "sa",
            "week-7": "su",
            "week-number": "W",
            "month-name": ["january", "february", "march", "april", "may", "june", "july", "august", "september", "october", "november", "december"],
            shortcuts: "Shortcuts",
            "custom-values": "Custom Values",
            past: "Past",
            following: "Following",
            previous: "Previous",
            "prev-week": "Week",
            "prev-month": "Month",
            "prev-year": "Year",
            next: "Next",
            "next-week": "Week",
            "next-month": "Month",
            "next-year": "Year",
            "less-than": "Date range should not be more than %d days",
            "more-than": "Date range should not be less than %d days",
            "default-more": "Please select a date range longer than %d days",
            "default-single": "Please select a date",
            "default-less": "Please select a date range less than %d days",
            "default-range": "Please select a date range between %d and %d days",
            "default-default": "Please select a date range",
            time: "Time",
            hour: "Hour",
            minute: "Minute"
        },
        id: {
            selected: "Terpilih:",
            day: "Hari",
            days: "Hari",
            apply: "Tutup",
            "week-1": "sen",
            "week-2": "sel",
            "week-3": "rab",
            "week-4": "kam",
            "week-5": "jum",
            "week-6": "sab",
            "week-7": "min",
            "week-number": "W",
            "month-name": ["januari", "februari", "maret", "april", "mei", "juni", "juli", "agustus", "september", "oktober", "november", "desember"],
            shortcuts: "Pintas",
            "custom-values": "Nilai yang ditentukan",
            past: "Yang Lalu",
            following: "Mengikuti",
            previous: "Sebelumnya",
            "prev-week": "Minggu",
            "prev-month": "Bulan",
            "prev-year": "Tahun",
            next: "Selanjutnya",
            "next-week": "Minggu",
            "next-month": "Bulan",
            "next-year": "Tahun",
            "less-than": "Tanggal harus lebih dari %d hari",
            "more-than": "Tanggal harus kurang dari %d hari",
            "default-more": "Jarak tanggal harus lebih lama dari %d hari",
            "default-single": "Silakan pilih tanggal",
            "default-less": "Jarak rentang tanggal tidak boleh lebih lama dari %d hari",
            "default-range": "Rentang tanggal harus antara %d dan %d hari",
            "default-default": "Silakan pilih rentang tanggal",
            time: "Waktu",
            hour: "Jam",
            minute: "Menit"
        },
        tr: {
            selected: "Seçildi:",
            day: " Gece",
            days: " Gece",
            apply: "Kapat",
            "week-1": "pzt",
            "week-2": "sal",
            "week-3": "çar",
            "week-4": "per",
            "week-5": "cum",
            "week-6": "cts",
            "week-7": "paz",
            "month-name": ["ocak", "şubat", "mart", "nisan", "mayıs", "haziran", "temmuz", "ağustos", "eylül", "ekim", "kasım", "aralık"],
            shortcuts: "Kısayollar",
            past: "Gelecek",
            following: "Gelecek",
            previous: "&nbsp;&nbsp;&nbsp;",
            "prev-week": "Önceki hafta",
            "prev-month": "Önceki ay",
            "prev-year": "Önceki yıl",
            next: "&nbsp;&nbsp;&nbsp;",
            "next-week": "Sonraki hafta",
            "next-month": "Sonraki ay",
            "next-year": "Sonraki yıl",
            "less-than": "Tarih aralığı %d günden çok olmamalıdır",
            "more-than": "Tarih aralığı %d günden az olmamalıdır",
            "default-more": "%d günden ilerde bir tarih seçin",
            "default-single": "Tarih seçin",
            "default-less": "%d günden az bir tarih seçin",
            "default-range": "%d ve %d gün aralığında tarihler seçin",
            "default-default": "Tarih aralığı seçin"
        },
        az: {
            selected: "Seçildi:",
            day: " gün",
            days: " gün",
            apply: "tətbiq",
            "week-1": "1",
            "week-2": "2",
            "week-3": "3",
            "week-4": "4",
            "week-5": "5",
            "week-6": "6",
            "week-7": "7",
            "month-name": ["yanvar", "fevral", "mart", "aprel", "may", "iyun", "iyul", "avqust", "sentyabr", "oktyabr", "noyabr", "dekabr"],
            shortcuts: "Qısayollar",
            past: "Keçmiş",
            following: "Növbəti",
            previous: "&nbsp;&nbsp;&nbsp;",
            "prev-week": "Öncəki həftə",
            "prev-month": "Öncəki ay",
            "prev-year": "Öncəki il",
            next: "&nbsp;&nbsp;&nbsp;",
            "next-week": "Növbəti həftə",
            "next-month": "Növbəti ay",
            "next-year": "Növbəti il",
            "less-than": "Tarix aralığı %d gündən çox olmamalıdır",
            "more-than": "Tarix aralığı %d gündən az olmamalıdır",
            "default-more": "%d gündən çox bir tarix seçin",
            "default-single": "Tarix seçin",
            "default-less": "%d gündən az bir tarix seçin",
            "default-range": "%d və %d gün aralığında tarixlər seçin",
            "default-default": "Tarix aralığı seçin"
        },
        bg: {
            selected: "Избрано:",
            day: "Ден",
            days: "Дни",
            apply: "Затвори",
            "week-1": "пн",
            "week-2": "вт",
            "week-3": "ср",
            "week-4": "чт",
            "week-5": "пт",
            "week-6": "сб",
            "week-7": "нд",
            "week-number": "С",
            "month-name": ["януари", "февруари", "март", "април", "май", "юни", "юли", "август", "септември", "октомври", "ноември", "декември"],
            shortcuts: "Преки пътища",
            "custom-values": "Персонализирани стойности",
            past: "Минал",
            following: "Следващ",
            previous: "Предишен",
            "prev-week": "Седмица",
            "prev-month": "Месец",
            "prev-year": "Година",
            next: "Следващ",
            "next-week": "Седмица",
            "next-month": "Месец",
            "next-year": "Година",
            "less-than": "Периодът от време не трябва да е повече от %d дни",
            "more-than": "Периодът от време не трябва да е по-малко от %d дни",
            "default-more": "Моля изберете период по-дълъг от %d дни",
            "default-single": "Моля изберете дата",
            "default-less": "Моля изберете период по-къс от %d дни",
            "default-range": "Моля изберете период между %d и %d дни",
            "default-default": "Моля изберете период",
            time: "Време",
            hour: "Час",
            minute: "Минута"
        },
        cn: {
            selected: "已选择:",
            day: "天",
            days: "天",
            apply: "确定",
            "week-1": "一",
            "week-2": "二",
            "week-3": "三",
            "week-4": "四",
            "week-5": "五",
            "week-6": "六",
            "week-7": "日",
            "week-number": "周",
            "month-name": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
            shortcuts: "快捷选择",
            past: "过去",
            following: "将来",
            previous: "&nbsp;&nbsp;&nbsp;",
            "prev-week": "上周",
            "prev-month": "上个月",
            "prev-year": "去年",
            next: "&nbsp;&nbsp;&nbsp;",
            "next-week": "下周",
            "next-month": "下个月",
            "next-year": "明年",
            "less-than": "所选日期范围不能大于%d天",
            "more-than": "所选日期范围不能小于%d天",
            "default-more": "请选择大于%d天的日期范围",
            "default-less": "请选择小于%d天的日期范围",
            "default-range": "请选择%d天到%d天的日期范围",
            "default-single": "请选择一个日期",
            "default-default": "请选择一个日期范围",
            time: "时间",
            hour: "小时",
            minute: "分钟"
        },
        cz: {
            selected: "Vybráno:",
            day: "Den",
            days: "Dny",
            apply: "Zavřít",
            "week-1": "po",
            "week-2": "út",
            "week-3": "st",
            "week-4": "čt",
            "week-5": "pá",
            "week-6": "so",
            "week-7": "ne",
            "month-name": ["leden", "únor", "březen", "duben", "květen", "červen", "červenec", "srpen", "září", "říjen", "listopad", "prosinec"],
            shortcuts: "Zkratky",
            past: "po",
            following: "následující",
            previous: "předchozí",
            "prev-week": "týden",
            "prev-month": "měsíc",
            "prev-year": "rok",
            next: "další",
            "next-week": "týden",
            "next-month": "měsíc",
            "next-year": "rok",
            "less-than": "Rozsah data by neměl být větší než %d dnů",
            "more-than": "Rozsah data by neměl být menší než %d dnů",
            "default-more": "Prosím zvolte rozsah data větší než %d dnů",
            "default-single": "Prosím zvolte datum",
            "default-less": "Prosím zvolte rozsah data menší než %d dnů",
            "default-range": "Prosím zvolte rozsah data mezi %d a %d dny",
            "default-default": "Prosím zvolte rozsah data"
        },
        de: {
            selected: "Auswahl:",
            day: "Tag",
            days: "Tage",
            apply: "Schließen",
            "week-1": "mo",
            "week-2": "di",
            "week-3": "mi",
            "week-4": "do",
            "week-5": "fr",
            "week-6": "sa",
            "week-7": "so",
            "month-name": ["januar", "februar", "märz", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "dezember"],
            shortcuts: "Schnellwahl",
            past: "Vorherige",
            following: "Folgende",
            previous: "Vorherige",
            "prev-week": "Woche",
            "prev-month": "Monat",
            "prev-year": "Jahr",
            next: "Nächste",
            "next-week": "Woche",
            "next-month": "Monat",
            "next-year": "Jahr",
            "less-than": "Datumsbereich darf nicht größer sein als %d Tage",
            "more-than": "Datumsbereich darf nicht kleiner sein als %d Tage",
            "default-more": "Bitte mindestens %d Tage auswählen",
            "default-single": "Bitte ein Datum auswählen",
            "default-less": "Bitte weniger als %d Tage auswählen",
            "default-range": "Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen",
            "default-default": "Bitte ein Start- und Enddatum auswählen",
            Time: "Zeit",
            hour: "Stunde",
            minute: "Minute"
        },
        es: {
            selected: "Seleccionado:",
            day: "Día",
            days: "Días",
            apply: "Cerrar",
            "week-1": "lu",
            "week-2": "ma",
            "week-3": "mi",
            "week-4": "ju",
            "week-5": "vi",
            "week-6": "sa",
            "week-7": "do",
            "month-name": ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"],
            shortcuts: "Accesos directos",
            past: "Pasado",
            following: "Siguiente",
            previous: "Anterior",
            "prev-week": "Semana",
            "prev-month": "Mes",
            "prev-year": "Año",
            next: "Siguiente",
            "next-week": "Semana",
            "next-month": "Mes",
            "next-year": "Año",
            "less-than": "El rango no debería ser mayor de %d días",
            "more-than": "El rango no debería ser menor de %d días",
            "default-more": "Por favor selecciona un rango mayor a %d días",
            "default-single": "Por favor selecciona un día",
            "default-less": "Por favor selecciona un rango menor a %d días",
            "default-range": "Por favor selecciona un rango entre %d y %d días",
            "default-default": "Por favor selecciona un rango de fechas."
        },
        fr: {
            selected: "Sélection:",
            day: "Jour",
            days: "Jours",
            apply: "Fermer",
            "week-1": "lu",
            "week-2": "ma",
            "week-3": "me",
            "week-4": "je",
            "week-5": "ve",
            "week-6": "sa",
            "week-7": "di",
            "month-name": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre"],
            shortcuts: "Raccourcis",
            past: "Passé",
            following: "Suivant",
            previous: "Précédent",
            "prev-week": "Semaine",
            "prev-month": "Mois",
            "prev-year": "Année",
            next: "Suivant",
            "next-week": "Semaine",
            "next-month": "Mois",
            "next-year": "Année",
            "less-than": "L'intervalle ne doit pas être supérieure à %d jours",
            "more-than": "L'intervalle ne doit pas être inférieure à %d jours",
            "default-more": "Merci de choisir une intervalle supérieure à %d jours",
            "default-single": "Merci de choisir une date",
            "default-less": "Merci de choisir une intervalle inférieure %d jours",
            "default-range": "Merci de choisir une intervalle comprise entre %d et %d jours",
            "default-default": "Merci de choisir une date"
        },
        hu: {
            selected: "Kiválasztva:",
            day: "Nap",
            days: "Nap",
            apply: "Ok",
            "week-1": "h",
            "week-2": "k",
            "week-3": "sz",
            "week-4": "cs",
            "week-5": "p",
            "week-6": "sz",
            "week-7": "v",
            "month-name": ["január", "február", "március", "április", "május", "június", "július", "augusztus", "szeptember", "október", "november", "december"],
            shortcuts: "Gyorsválasztó",
            past: "Múlt",
            following: "Következő",
            previous: "Előző",
            "prev-week": "Hét",
            "prev-month": "Hónap",
            "prev-year": "Év",
            next: "Következő",
            "next-week": "Hét",
            "next-month": "Hónap",
            "next-year": "Év",
            "less-than": "A kiválasztás nem lehet több %d napnál",
            "more-than": "A kiválasztás nem lehet több %d napnál",
            "default-more": "Válassz ki egy időszakot ami hosszabb mint %d nap",
            "default-single": "Válassz egy napot",
            "default-less": "Válassz ki egy időszakot ami rövidebb mint %d nap",
            "default-range": "Válassz ki egy %d - %d nap hosszú időszakot",
            "default-default": "Válassz ki egy időszakot"
        },
        it: {
            selected: "Selezionati:",
            day: "Giorno",
            days: "Giorni",
            apply: "Chiudi",
            "week-1": "lu",
            "week-2": "ma",
            "week-3": "me",
            "week-4": "gi",
            "week-5": "ve",
            "week-6": "sa",
            "week-7": "do",
            "month-name": ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre"],
            shortcuts: "Scorciatoie",
            past: "Scorso",
            following: "Successivo",
            previous: "Precedente",
            "prev-week": "Settimana",
            "prev-month": "Mese",
            "prev-year": "Anno",
            next: "Prossimo",
            "next-week": "Settimana",
            "next-month": "Mese",
            "next-year": "Anno",
            "less-than": "L'intervallo non dev'essere maggiore di %d giorni",
            "more-than": "L'intervallo non dev'essere minore di %d giorni",
            "default-more": "Seleziona un intervallo maggiore di %d giorni",
            "default-single": "Seleziona una data",
            "default-less": "Seleziona un intervallo minore di %d giorni",
            "default-range": "Seleziona un intervallo compreso tra i %d e i %d giorni",
            "default-default": "Seleziona un intervallo di date"
        },
        ko: {
            selected: "기간:",
            day: "일",
            days: "일간",
            apply: "닫기",
            "week-1": "월",
            "week-2": "화",
            "week-3": "수",
            "week-4": "목",
            "week-5": "금",
            "week-6": "토",
            "week-7": "일",
            "week-number": "주",
            "month-name": ["1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월"],
            shortcuts: "단축키들",
            past: "지난(오늘기준)",
            following: "이후(오늘기준)",
            previous: "이전",
            "prev-week": "1주",
            "prev-month": "1달",
            "prev-year": "1년",
            next: "다음",
            "next-week": "1주",
            "next-month": "1달",
            "next-year": "1년",
            "less-than": "날짜 범위는 %d 일보다 많을 수 없습니다",
            "more-than": "날짜 범위는 %d 일보다 작을 수 없습니다",
            "default-more": "날짜 범위를 %d 일보다 길게 선택해 주세요",
            "default-single": "날짜를 선택해 주세요",
            "default-less": "%d 일보다 작은 날짜를 선택해 주세요",
            "default-range": "%d와 %d 일 사이의 날짜 범위를 선택해 주세요",
            "default-default": "날짜 범위를 선택해 주세요",
            time: "시각",
            hour: "시",
            minute: "분"
        },
        no: {
            selected: "Valgt:",
            day: "Dag",
            days: "Dager",
            apply: "Lukk",
            "week-1": "ma",
            "week-2": "ti",
            "week-3": "on",
            "week-4": "to",
            "week-5": "fr",
            "week-6": "lø",
            "week-7": "sø",
            "month-name": ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember"],
            shortcuts: "Snarveier",
            "custom-values": "Egendefinerte Verdier",
            past: "Over",
            following: "Følger",
            previous: "Forrige",
            "prev-week": "Uke",
            "prev-month": "Måned",
            "prev-year": "År",
            next: "Neste",
            "next-week": "Uke",
            "next-month": "Måned",
            "next-year": "År",
            "less-than": "Datoperioden skal ikkje være lengre enn %d dager",
            "more-than": "Datoperioden skal ikkje være kortere enn %d dager",
            "default-more": "Vennligst velg ein datoperiode lengre enn %d dager",
            "default-single": "Vennligst velg ein dato",
            "default-less": "Vennligst velg ein datoperiode mindre enn %d dager",
            "default-range": "Vennligst velg ein datoperiode mellom %d og %d dager",
            "default-default": "Vennligst velg ein datoperiode",
            time: "Tid",
            hour: "Time",
            minute: "Minutter"
        },
        nl: {
            selected: "Geselecteerd:",
            day: "Dag",
            days: "Dagen",
            apply: "Ok",
            "week-1": "ma",
            "week-2": "di",
            "week-3": "wo",
            "week-4": "do",
            "week-5": "vr",
            "week-6": "za",
            "week-7": "zo",
            "month-name": ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december"],
            shortcuts: "Snelkoppelingen",
            "custom-values": "Aangepaste waarden",
            past: "Verleden",
            following: "Komend",
            previous: "Vorige",
            "prev-week": "Week",
            "prev-month": "Maand",
            "prev-year": "Jaar",
            next: "Volgende",
            "next-week": "Week",
            "next-month": "Maand",
            "next-year": "Jaar",
            "less-than": "Interval moet langer dan %d dagen zijn",
            "more-than": "Interval mag niet minder dan %d dagen zijn",
            "default-more": "Selecteer een interval langer dan %dagen",
            "default-single": "Selecteer een datum",
            "default-less": "Selecteer een interval minder dan %d dagen",
            "default-range": "Selecteer een interval tussen %d en %d dagen",
            "default-default": "Selecteer een interval",
            time: "Tijd",
            hour: "Uur",
            minute: "Minuut"
        },
        ru: {
            selected: "Выбрано:",
            day: "День",
            days: "Дней",
            apply: "Применить",
            "week-1": "пн",
            "week-2": "вт",
            "week-3": "ср",
            "week-4": "чт",
            "week-5": "пт",
            "week-6": "сб",
            "week-7": "вс",
            "month-name": ["январь", "февраль", "март", "апрель", "май", "июнь", "июль", "август", "сентябрь", "октябрь", "ноябрь", "декабрь"],
            shortcuts: "Быстрый выбор",
            "custom-values": "Пользовательские значения",
            past: "Прошедшие",
            following: "Следующие",
            previous: "&nbsp;&nbsp;&nbsp;",
            "prev-week": "Неделя",
            "prev-month": "Месяц",
            "prev-year": "Год",
            next: "&nbsp;&nbsp;&nbsp;",
            "next-week": "Неделя",
            "next-month": "Месяц",
            "next-year": "Год",
            "less-than": "Диапазон не может быть больше %d дней",
            "more-than": "Диапазон не может быть меньше %d дней",
            "default-more": "Пожалуйста выберите диапазон больше %d дней",
            "default-single": "Пожалуйста выберите дату",
            "default-less": "Пожалуйста выберите диапазон меньше %d дней",
            "default-range": "Пожалуйста выберите диапазон между %d и %d днями",
            "default-default": "Пожалуйста выберите диапазон",
            time: "Время",
            hour: "Часы",
            minute: "Минуты"
        },
        uk: {
            selected: "Вибрано:",
            day: "День",
            days: "Днів",
            apply: "Застосувати",
            "week-1": "пн",
            "week-2": "вт",
            "week-3": "ср",
            "week-4": "чт",
            "week-5": "пт",
            "week-6": "сб",
            "week-7": "нд",
            "month-name": ["січень", "лютий", "березень", "квітень", "травень", "червень", "липень", "серпень", "вересень", "жовтень", "листопад", "грудень"],
            shortcuts: "Швидкий вибір",
            "custom-values": "Значення користувача",
            past: "Минулі",
            following: "Наступні",
            previous: "&nbsp;&nbsp;&nbsp;",
            "prev-week": "Тиждень",
            "prev-month": "Місяць",
            "prev-year": "Рік",
            next: "&nbsp;&nbsp;&nbsp;",
            "next-week": "Тиждень",
            "next-month": "Місяць",
            "next-year": "Рік",
            "less-than": "Діапазон не може бути більш ніж %d днів",
            "more-than": "Діапазон не може бути меньш ніж %d днів",
            "default-more": "Будь ласка виберіть діапазон більше %d днів",
            "default-single": "Будь ласка виберіть дату",
            "default-less": "Будь ласка виберіть діапазон менше %d днів",
            "default-range": "Будь ласка виберіть діапазон між %d та %d днями",
            "default-default": "Будь ласка виберіть діапазон",
            time: "Час",
            hour: "Години",
            minute: "Хвилини"
        },
        pl: {
            selected: "Wybrany:",
            day: "Dzień",
            days: "Dni",
            apply: "Zamknij",
            "week-1": "pon",
            "week-2": "wt",
            "week-3": "śr",
            "week-4": "czw",
            "week-5": "pt",
            "week-6": "so",
            "week-7": "nd",
            "month-name": ["styczeń", "luty", "marzec", "kwiecień", "maj", "czerwiec", "lipiec", "sierpień", "wrzesień", "październik", "listopad", "grudzień"],
            shortcuts: "Skróty",
            "custom-values": "Niestandardowe wartości",
            past: "Przeszłe",
            following: "Następne",
            previous: "Poprzednie",
            "prev-week": "tydzień",
            "prev-month": "miesiąc",
            "prev-year": "rok",
            next: "Następny",
            "next-week": "tydzień",
            "next-month": "miesiąc",
            "next-year": "rok",
            "less-than": "Okres nie powinien być dłuższy niż %d dni",
            "more-than": "Okres nie powinien być krótszy niż  %d ni",
            "default-more": "Wybierz okres dłuższy niż %d dni",
            "default-single": "Wybierz datę",
            "default-less": "Wybierz okres krótszy niż %d dni",
            "default-range": "Wybierz okres trwający od %d do %d dni",
            "default-default": "Wybierz okres",
            time: "Czas",
            hour: "Godzina",
            minute: "Minuta"
        },
        se: {
            selected: "Vald:",
            day: "dag",
            days: "dagar",
            apply: "godkänn",
            "week-1": "ma",
            "week-2": "ti",
            "week-3": "on",
            "week-4": "to",
            "week-5": "fr",
            "week-6": "lö",
            "week-7": "sö",
            "month-name": ["januari", "februari", "mars", "april", "maj", "juni", "juli", "augusti", "september", "oktober", "november", "december"],
            shortcuts: "genvägar",
            "custom-values": "Anpassade värden",
            past: "över",
            following: "följande",
            previous: "förra",
            "prev-week": "vecka",
            "prev-month": "månad",
            "prev-year": "år",
            next: "nästa",
            "next-week": "vecka",
            "next-month": "måned",
            "next-year": "år",
            "less-than": "Datumintervall bör inte vara mindre än %d dagar",
            "more-than": "Datumintervall bör inte vara mer än %d dagar",
            "default-more": "Välj ett datumintervall längre än %d dagar",
            "default-single": "Välj ett datum",
            "default-less": "Välj ett datumintervall mindre än %d dagar",
            "default-range": "Välj ett datumintervall mellan %d och %d dagar",
            "default-default": "Välj ett datumintervall",
            time: "tid",
            hour: "timme",
            minute: "minut"
        },
        pt: {
            selected: "Selecionado:",
            day: "Dia",
            days: "Dias",
            apply: "Fechar",
            "week-1": "seg",
            "week-2": "ter",
            "week-3": "qua",
            "week-4": "qui",
            "week-5": "sex",
            "week-6": "sab",
            "week-7": "dom",
            "week-number": "N",
            "month-name": ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro"],
            shortcuts: "Atalhos",
            "custom-values": "Valores Personalizados",
            past: "Passado",
            following: "Seguinte",
            previous: "Anterior",
            "prev-week": "Semana",
            "prev-month": "Mês",
            "prev-year": "Ano",
            next: "Próximo",
            "next-week": "Próxima Semana",
            "next-month": "Próximo Mês",
            "next-year": "Próximo Ano",
            "less-than": "O período selecionado não deve ser maior que %d dias",
            "more-than": "O período selecionado não deve ser menor que %d dias",
            "default-more": "Selecione um período superior a %d dias",
            "default-single": "Selecione uma data",
            "default-less": "Selecione um período inferior a %d dias",
            "default-range": "Selecione um período de %d a %d dias",
            "default-default": "Selecione um período",
            time: "Tempo",
            hour: "Hora",
            minute: "Minuto"
        },
        tc: {
            selected: "已選擇:",
            day: "天",
            days: "天",
            apply: "確定",
            "week-1": "一",
            "week-2": "二",
            "week-3": "三",
            "week-4": "四",
            "week-5": "五",
            "week-6": "六",
            "week-7": "日",
            "week-number": "周",
            "month-name": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
            shortcuts: "快速選擇",
            past: "過去",
            following: "將來",
            previous: "&nbsp;&nbsp;&nbsp;",
            "prev-week": "上週",
            "prev-month": "上個月",
            "prev-year": "去年",
            next: "&nbsp;&nbsp;&nbsp;",
            "next-week": "下周",
            "next-month": "下個月",
            "next-year": "明年",
            "less-than": "所選日期範圍不能大於%d天",
            "more-than": "所選日期範圍不能小於%d天",
            "default-more": "請選擇大於%d天的日期範圍",
            "default-less": "請選擇小於%d天的日期範圍",
            "default-range": "請選擇%d天到%d天的日期範圍",
            "default-single": "請選擇一個日期",
            "default-default": "請選擇一個日期範圍",
            time: "日期",
            hour: "小時",
            minute: "分鐘"
        },
        ja: {
            selected: "選択しました:",
            day: "日",
            days: "日々",
            apply: "閉じる",
            "week-1": "月",
            "week-2": "火",
            "week-3": "水",
            "week-4": "木",
            "week-5": "金",
            "week-6": "土",
            "week-7": "日",
            "month-name": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"],
            shortcuts: "クイック選択",
            past: "過去",
            following: "将来",
            previous: "&nbsp;&nbsp;&nbsp;",
            "prev-week": "先週、",
            "prev-month": "先月",
            "prev-year": "昨年",
            next: "&nbsp;&nbsp;&nbsp;",
            "next-week": "来週",
            "next-month": "来月",
            "next-year": "来年",
            "less-than": "日付の範囲は ％d 日以上にすべきではありません",
            "more-than": "日付の範囲は ％d 日を下回ってはいけません",
            "default-more": "％d 日よりも長い期間を選択してください",
            "default-less": "％d 日未満の期間を選択してください",
            "default-range": "％d と％ d日の間の日付範囲を選択してください",
            "default-single": "日付を選択してください",
            "default-default": "日付範囲を選択してください",
            time: "時間",
            hour: "時間",
            minute: "分"
        },
        da: {
            selected: "Valgt:",
            day: "Dag",
            days: "Dage",
            apply: "Luk",
            "week-1": "ma",
            "week-2": "ti",
            "week-3": "on",
            "week-4": "to",
            "week-5": "fr",
            "week-6": "lö",
            "week-7": "sö",
            "month-name": ["januar", "februar", "marts", "april", "maj", "juni", "juli", "august", "september", "oktober", "november", "december"],
            shortcuts: "genveje",
            "custom-values": "Brugerdefinerede værdier",
            past: "Forbi",
            following: "Følgende",
            previous: "Forrige",
            "prev-week": "uge",
            "prev-month": "månad",
            "prev-year": "år",
            next: "Næste",
            "next-week": "Næste uge",
            "next-month": "Næste måned",
            "next-year": "Næste år",
            "less-than": "Dato interval bør ikke være med end %d dage",
            "more-than": "Dato interval bør ikke være mindre end %d dage",
            "default-more": "Vælg datointerval længere end %d dage",
            "default-single": "Vælg dato",
            "default-less": "Vælg datointerval mindre end %d dage",
            "default-range": "Vælg datointerval mellem %d og %d dage",
            "default-default": "Vælg datointerval",
            time: "tid",
            hour: "time",
            minute: "minut"
        },
        fi: {
            selected: "Valittu:",
            day: "Päivä",
            days: "Päivää",
            apply: "Sulje",
            "week-1": "ma",
            "week-2": "ti",
            "week-3": "ke",
            "week-4": "to",
            "week-5": "pe",
            "week-6": "la",
            "week-7": "su",
            "week-number": "V",
            "month-name": ["tammikuu", "helmikuu", "maaliskuu", "huhtikuu", "toukokuu", "kesäkuu", "heinäkuu", "elokuu", "syyskuu", "lokakuu", "marraskuu", "joulukuu"],
            shortcuts: "Pikavalinnat",
            "custom-values": "Mukautetut Arvot",
            past: "Menneet",
            following: "Tulevat",
            previous: "Edellinen",
            "prev-week": "Viikko",
            "prev-month": "Kuukausi",
            "prev-year": "Vuosi",
            next: "Seuraava",
            "next-week": "Viikko",
            "next-month": "Kuukausi",
            "next-year": "Vuosi",
            "less-than": "Aikajakson tulisi olla vähemmän kuin %d päivää",
            "more-than": "Aikajakson ei tulisi olla vähempää kuin %d päivää",
            "default-more": "Valitse pidempi aikajakso kuin %d päivää",
            "default-single": "Valitse päivä",
            "default-less": "Valitse lyhyempi aikajakso kuin %d päivää",
            "default-range": "Valitse aikajakso %d ja %d päivän väliltä",
            "default-default": "Valitse aikajakso",
            time: "Aika",
            hour: "Tunti",
            minute: "Minuutti"
        },
        cat: {
            selected: "Seleccionats:",
            day: "Dia",
            days: "Dies",
            apply: "Tanca",
            "week-1": "Dl",
            "week-2": "Dm",
            "week-3": "Dc",
            "week-4": "Dj",
            "week-5": "Dv",
            "week-6": "Ds",
            "week-7": "Dg",
            "week-number": "S",
            "month-name": ["gener", "febrer", "març", "abril", "maig", "juny", "juliol", "agost", "setembre", "octubre", "novembre", "desembre"],
            shortcuts: "Dreçeres",
            "custom-values": "Valors personalitzats",
            past: "Passat",
            following: "Futur",
            previous: "Anterior",
            "prev-week": "Setmana",
            "prev-month": "Mes",
            "prev-year": "Any",
            next: "Següent",
            "next-week": "Setmana",
            "next-month": "Mes",
            "next-year": "Any",
            "less-than": "El període no hauria de ser de més de %d dies",
            "more-than": "El període no hauria de ser de menys de %d dies",
            "default-more": "Perfavor selecciona un període més gran de %d dies",
            "default-single": "Perfavor selecciona una data",
            "default-less": "Perfavor selecciona un període de menys de %d dies",
            "default-range": "Perfavor selecciona un període d'entre %d i %d dies",
            "default-default": "Perfavor selecciona un període",
            time: "Temps",
            hour: "Hora",
            minute: "Minut"
        }
    }, e.fn.dateRangePicker = function (a) {
        a || (a = {}), (a = e.extend(!0, {
            autoClose: !1,
            format: "YYYY-MM-DD",
            separator: " to ",
            language: "auto",
            startOfWeek: "sunday",
            getValue: function () {
                return e(this).val()
            },
            setValue: function (t) {
                e(this).attr("readonly") || e(this).is(":disabled") || t == e(this).val() || e(this).val(t)
            },
            startDate: !1,
            endDate: !1,
            time: {enabled: !1},
            minDays: 0,
            maxDays: 0,
            showShortcuts: !1,
            shortcuts: {},
            customShortcuts: [],
            inline: !1,
            container: "body",
            alwaysOpen: !1,
            singleDate: !1,
            lookBehind: !1,
            batchMode: !1,
            duration: 200,
            stickyMonths: !1,
            dayDivAttrs: [],
            dayTdAttrs: [],
            selectForward: !1,
            selectBackward: !1,
            applyBtnClass: "",
            singleMonth: "auto",
            hoveringTooltip: function (e, t, a) {
                return e > 1 ? e + " " + _("days") : ""
            },
            showTopbar: !0,
            swapTime: !1,
            showWeekNumbers: !1,
            getWeekNumber: function (e) {
                return t(e).format("w")
            },
            customOpenAnimation: null,
            customCloseAnimation: null,
            customArrowPrevSymbol: null,
            customArrowNextSymbol: null,
            monthSelect: !1,
            yearSelect: !1
        }, a)).start = !1, a.end = !1, a.startWeek = !1, a.isTouchDevice = "ontouchstart" in window || navigator.msMaxTouchPoints, a.isTouchDevice && (a.hoveringTooltip = !1), "auto" == a.singleMonth && (a.singleMonth = e(window).width() < 480), a.singleMonth && (a.stickyMonths = !1), a.showTopbar || (a.autoClose = !0), a.startDate && "string" == typeof a.startDate && (a.startDate = t(a.startDate, a.format).toDate()), a.endDate && "string" == typeof a.endDate && (a.endDate = t(a.endDate, a.format).toDate()), a.yearSelect && "boolean" == typeof a.yearSelect && (a.yearSelect = function (e) {
            return [e - 5, e + 5]
        });
        var n, r, s = function () {
            {
                if ("auto" == a.language) {
                    var t = navigator.language ? navigator.language : navigator.browserLanguage;
                    return t && (t = t.toLowerCase()) in e.dateRangePickerLanguages ? e.dateRangePickerLanguages[t] : e.dateRangePickerLanguages.default
                }
                return a.language && a.language in e.dateRangePickerLanguages ? e.dateRangePickerLanguages[a.language] : e.dateRangePickerLanguages.default
            }
        }(), i = !1, o = this, d = e(o).get(0);
        return e(this).off(".datepicker").on("click.datepicker", function (e) {
            n.is(":visible") || u(a.duration)
        }).on("change.datepicker", function (e) {
            m()
        }).on("keyup.datepicker", function () {
            try {
                clearTimeout(r)
            } catch (e) {
            }
            r = setTimeout(function () {
                m()
            }, 2e3)
        }), function () {
            var r = this;
            if (e(this).data("date-picker-opened")) return void L();
            e(this).data("date-picker-opened", !0), (n = function () {
                var t = '<div class="date-picker-wrapper';
                a.extraClass && (t += " " + a.extraClass + " "), a.singleDate && (t += " single-date "), a.showShortcuts || (t += " no-shortcuts "), a.showTopbar || (t += " no-topbar "), a.customTopBar && (t += " custom-topbar "), t += '">', a.showTopbar && (t += '<div class="drp_top-bar">', a.customTopBar ? ("function" == typeof a.customTopBar && (a.customTopBar = a.customTopBar()), t += '<div class="custom-top">' + a.customTopBar + "</div>") : (t += '<div class="normal-top"><span class="selection-top">' + _("selected") + ' </span> <b class="start-day">...</b>', a.singleDate || (t += ' <span class="separator-day">' + a.separator + '</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> ' + _("days") + ")</i>"), t += "</div>", t += '<div class="error-top">error</div><div class="default-top">default</div>'), t += '<input type="button" class="apply-btn disabled" value="' + _("apply") + '" />', t += "</div>");
                var n = a.showWeekNumbers ? 6 : 5, r = "&lt;";
                a.customArrowPrevSymbol && (r = a.customArrowPrevSymbol);
                var s = "&gt;";
                if (a.customArrowNextSymbol && (s = a.customArrowNextSymbol), t += '<div class="month-wrapper">   <table class="month1" cellspacing="0" border="0" cellpadding="0">       <thead>           <tr class="caption">               <th>                   <span class="prev">' + r + '                   </span>               </th>               <th colspan="' + n + '" class="month-name">               </th>               <th>' + (a.singleDate || !a.stickyMonths ? '<span class="next">' + s + "</span>" : "") + '               </th>           </tr>           <tr class="week-name">' + $() + "       </thead>       <tbody></tbody>   </table>", a.singleMonth || (t += '<div class="gap">' + function () {
                    for (var e = ['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'], t = 0; t < 20; t++) e.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>');
                    return e.push("</div>"), e.join("")
                }() + '</div><table class="month2" cellspacing="0" border="0" cellpadding="0">   <thead>   <tr class="caption">       <th>' + (a.stickyMonths ? "" : '<span class="prev">' + r + "</span>") + '       </th>       <th colspan="' + n + '" class="month-name">       </th>       <th>           <span class="next">' + s + '</span>       </th>   </tr>   <tr class="week-name">' + $() + "   </thead>   <tbody></tbody></table>"), t += '<div class="dp-clearfix"></div><div class="time"><div class="time1"></div>', a.singleDate || (t += '<div class="time2"></div>'), t += '</div><div class="dp-clearfix"></div></div>', t += '<div class="footer">', a.showShortcuts) {
                    t += '<div class="shortcuts"><b>' + _("shortcuts") + "</b>";
                    var i = a.shortcuts;
                    if (i) {
                        var o;
                        if (i["prev-days"] && i["prev-days"].length > 0) {
                            t += '&nbsp;<span class="prev-days">' + _("past");
                            for (var d = 0; d < i["prev-days"].length; d++) o = i["prev-days"][d], o += i["prev-days"][d] > 1 ? _("days") : _("day"), t += ' <a href="javascript:;" shortcut="day,-' + i["prev-days"][d] + '">' + o + "</a>";
                            t += "</span>"
                        }
                        if (i["next-days"] && i["next-days"].length > 0) {
                            t += '&nbsp;<span class="next-days">' + _("following");
                            for (var d = 0; d < i["next-days"].length; d++) o = i["next-days"][d], o += i["next-days"][d] > 1 ? _("days") : _("day"), t += ' <a href="javascript:;" shortcut="day,' + i["next-days"][d] + '">' + o + "</a>";
                            t += "</span>"
                        }
                        if (i.prev && i.prev.length > 0) {
                            t += '&nbsp;<span class="prev-buttons">' + _("previous");
                            for (var d = 0; d < i.prev.length; d++) o = _("prev-" + i.prev[d]), t += ' <a href="javascript:;" shortcut="prev,' + i.prev[d] + '">' + o + "</a>";
                            t += "</span>"
                        }
                        if (i.next && i.next.length > 0) {
                            t += '&nbsp;<span class="next-buttons">' + _("next");
                            for (var d = 0; d < i.next.length; d++) o = _("next-" + i.next[d]), t += ' <a href="javascript:;" shortcut="next,' + i.next[d] + '">' + o + "</a>";
                            t += "</span>"
                        }
                    }
                    if (a.customShortcuts) for (var d = 0; d < a.customShortcuts.length; d++) {
                        var l = a.customShortcuts[d];
                        t += '&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">' + l.name + "</a></span>"
                    }
                    t += "</div>"
                }
                if (a.showCustomValues && (t += '<div class="customValues"><b>' + (a.customValueLabel || _("custom-values")) + "</b>", a.customValues)) for (var d = 0; d < a.customValues.length; d++) {
                    var u = a.customValues[d];
                    t += '&nbsp;<span class="custom-value"><a href="javascript:;" custom="' + u.value + '">' + u.name + "</a></span>"
                }
                return e(t += "</div></div>")
            }().hide()).append('<div class="date-range-length-tip"></div>'), e(a.container).append(n), a.inline ? n.addClass("inline-wrapper") : l();
            a.alwaysOpen && n.find(".apply-btn").hide();
            var s = U();
            if (Z(s), a.time.enabled) if (a.startDate && a.endDate || a.start && a.end) W(t(a.start || a.startDate).toDate(), "time1"), W(t(a.end || a.endDate).toDate(), "time2"); else {
                var o = a.defaultEndTime ? a.defaultEndTime : s;
                W(s, "time1"), W(o, "time2")
            }
            var u = "";
            u = a.singleDate ? _("default-single") : a.minDays && a.maxDays ? _("default-range") : a.minDays ? _("default-more") : a.maxDays ? _("default-less") : _("default-default");
            n.find(".default-top").html(u.replace(/\%d/, a.minDays).replace(/\%d/, a.maxDays)), a.singleMonth ? n.addClass("single-month") : n.addClass("two-months");
            setTimeout(function () {
                c(), i = !0
            }, 0), n.click(function (e) {
                e.stopPropagation()
            }), e(document).on("click.datepicker", Q), n.find(".next").click(function () {
                a.stickyMonths ? function (e) {
                    var t = E(a.month1), n = E(a.month2);
                    if (G(n)) return;
                    if (!a.singleDate && H(t, n) >= 0) return;
                    P(t, "month1"), P(n, "month2"), V()
                }() : function (t) {
                    var n = e(t).parents("table").hasClass("month2"), r = n ? a.month2 : a.month1;
                    if (r = E(r), !a.singleMonth && !a.singleDate && !n && H(r, a.month2) >= 0 || G(r)) return;
                    P(r, n ? "month2" : "month1"), B()
                }(this)
            }), n.find(".prev").click(function () {
                a.stickyMonths ? function (e) {
                    var t = q(a.month1), n = q(a.month2);
                    if (G(t)) return;
                    if (!a.singleDate && H(n, t) <= 0) return;
                    P(n, "month2"), P(t, "month1"), V()
                }() : function (t) {
                    var n = e(t).parents("table").hasClass("month2"), r = n ? a.month2 : a.month1;
                    if (r = q(r), n && H(r, a.month1) <= 0 || G(r)) return;
                    P(r, n ? "month2" : "month1"), B()
                }(this)
            }), n.attr("unselectable", "on").css("user-select", "none").on("selectstart", function (e) {
                return e.preventDefault(), !1
            }), n.find(".apply-btn").click(function () {
                L();
                var t = N(new Date(a.start)) + a.separator + N(new Date(a.end));
                e(r).trigger("datepicker-apply", {value: t, date1: new Date(a.start), date2: new Date(a.end)})
            }), n.find("[custom]").click(function () {
                var t = e(this).attr("custom");
                a.start = !1, a.end = !1, n.find(".day.checked").removeClass("checked"), a.setValue.call(d, t), T(), z(!0), V(), a.autoClose && L()
            }), n.find("[shortcut]").click(function () {
                var t, n = e(this).attr("shortcut"), r = new Date, s = !1;
                if (-1 != n.indexOf("day")) {
                    var i = parseInt(n.split(",", 2)[1], 10);
                    s = new Date((new Date).getTime() + 864e5 * i), r = new Date(r.getTime() + 864e5 * (i > 0 ? 1 : -1))
                } else if (-1 != n.indexOf("week")) {
                    var o;
                    for (t = -1 != n.indexOf("prev,") ? -1 : 1, o = 1 == t ? "monday" == a.startOfWeek ? 1 : 0 : "monday" == a.startOfWeek ? 0 : 6, r = new Date(r.getTime() - 864e5); r.getDay() != o;) r = new Date(r.getTime() + 864e5 * t);
                    s = new Date(r.getTime() + 864e5 * t * 6)
                } else if (-1 != n.indexOf("month")) t = -1 != n.indexOf("prev,") ? -1 : 1, (s = 1 == t ? E(r) : q(r)).setDate(1), (r = E(s)).setDate(1), r = new Date(r.getTime() - 864e5); else if (-1 != n.indexOf("year")) t = -1 != n.indexOf("prev,") ? -1 : 1, (s = new Date).setFullYear(r.getFullYear() + t), s.setMonth(0), s.setDate(1), r.setFullYear(r.getFullYear() + t), r.setMonth(11), r.setDate(31); else if ("custom" == n) {
                    var d = e(this).html();
                    if (a.customShortcuts && a.customShortcuts.length > 0) for (var l = 0; l < a.customShortcuts.length; l++) {
                        var u = a.customShortcuts[l];
                        if (u.name == d) {
                            var m = [];
                            if ((m = u.dates.call()) && 2 == m.length && (s = m[0], r = m[1]), m && 1 == m.length) {
                                var h = m[0];
                                P(h, "month1"), P(E(h), "month2"), B()
                            }
                            break
                        }
                    }
                }
                s && r && (j(s, r), T())
            }), n.find(".time1 input[type=range]").on("change touchmove", function (t) {
                var a = t.target, n = "hour" == a.name ? e(a).val().replace(/^(\d{1})$/, "0$1") : void 0,
                    r = "minute" == a.name ? e(a).val().replace(/^(\d{1})$/, "0$1") : void 0;
                v("time1", n, r)
            }), n.find(".time2 input[type=range]").on("change touchmove", function (t) {
                var a = t.target, n = "hour" == a.name ? e(a).val().replace(/^(\d{1})$/, "0$1") : void 0,
                    r = "minute" == a.name ? e(a).val().replace(/^(\d{1})$/, "0$1") : void 0;
                v("time2", n, r)
            })
        }.call(this), a.alwaysOpen && u(0), e(this).data("dateRangePicker", {
            setStart: function (e) {
                return "string" == typeof e && (e = t(e, a.format).toDate()), a.end = !1, C(e), this
            }, setEnd: function (e, n) {
                var r = new Date;
                return r.setTime(a.start), "string" == typeof e && (e = t(e, a.format).toDate()), j(r, e, n), this
            }, setDateRange: function (e, n, r) {
                "string" == typeof e && "string" == typeof n && (e = t(e, a.format).toDate(), n = t(n, a.format).toDate()), j(e, n, r)
            }, clear: function () {
                a.start = !1, a.end = !1, n.find(".day.checked").removeClass("checked"), n.find(".day.last-date-selected").removeClass("last-date-selected"), n.find(".day.first-date-selected").removeClass("first-date-selected"), a.setValue.call(d, ""), T(), z(), V()
            }, close: L, open: u, redraw: F, getDatePicker: function () {
                return n
            }, resetMonthsView: Z, destroy: function () {
                e(o).off(".datepicker"), e(o).data("dateRangePicker", ""), e(o).data("date-picker-opened", null), n.remove(), e(window).off("resize.datepicker", l), e(document).off("click.datepicker", Q)
            }
        }), e(window).on("resize.datepicker", l), this;

        function l() {
            if (!a.inline) {
                var t = e(o).offset();
                if ("relative" == e(a.container).css("position")) {
                    var r = e(a.container).offset(), s = Math.max(0, t.left + n.outerWidth() - e("body").width() + 16);
                    n.css({top: t.top - r.top + e(o).outerHeight() + 4, left: t.left - r.left - s})
                } else t.left < 460 ? n.css({
                    top: t.top + e(o).outerHeight() + parseInt(e("body").css("border-top") || 0, 10),
                    left: t.left
                }) : n.css({
                    top: t.top + e(o).outerHeight() + parseInt(e("body").css("border-top") || 0, 10),
                    left: t.left + e(o).width() - n.width() - 16
                })
            }
        }

        function u(t) {
            F(), m(), a.customOpenAnimation ? a.customOpenAnimation.call(n.get(0), function () {
                e(o).trigger("datepicker-opened", {relatedTarget: n})
            }) : n.slideDown(t, function () {
                e(o).trigger("datepicker-opened", {relatedTarget: n})
            }), e(o).trigger("datepicker-open", {relatedTarget: n}), B(), c(), l()
        }

        function m() {
            var e = a.getValue.call(d), n = e ? e.split(a.separator) : "";
            if (n && (1 == n.length && a.singleDate || n.length >= 2)) {
                var r = a.format;
                r.match(/Do/) && (r = r.replace(/Do/, "D"), n[0] = n[0].replace(/(\d+)(th|nd|st)/, "$1"), n.length >= 2 && (n[1] = n[1].replace(/(\d+)(th|nd|st)/, "$1"))), i = !1, n.length >= 2 ? j(h(n[0], r, t.locale(a.language)), h(n[1], r, t.locale(a.language))) : 1 == n.length && a.singleDate && C(h(n[0], r, t.locale(a.language))), i = !0
            }
        }

        function h(e, a, n) {
            return t(e, a, n).isValid() ? t(e, a, n).toDate() : t().toDate()
        }

        function c() {
            var e = n.find(".gap").css("margin-left");
            e && (e = parseInt(e));
            var t = n.find(".month1").width(), a = n.find(".gap").width() + (e ? 2 * e : 0),
                r = n.find(".month2").width();
            n.find(".month-wrapper").width(t + a + r)
        }

        function f(e, a) {
            n.find("." + e + " input[type=range].hour-range").val(t(a).hours()), n.find("." + e + " input[type=range].minute-range").val(t(a).minutes()), v(e, t(a).format("HH"), t(a).format("mm"))
        }

        function p(e, n) {
            a[e] = parseInt(t(parseInt(n)).startOf("day").add(t(a[e + "Time"]).format("HH"), "h").add(t(a[e + "Time"]).format("mm"), "m").valueOf())
        }

        function v(e, r, s) {
            switch (r && n.find("." + e + " .hour-val").text(r), s && n.find("." + e + " .minute-val").text(s), e) {
                case"time1":
                    a.start && i("start", t(a.start)), i("startTime", t(a.startTime || t().valueOf()));
                    break;
                case"time2":
                    a.end && i("end", t(a.end)), i("endTime", t(a.endTime || t().valueOf()))
            }

            function i(e, t) {
                var n = t.format("HH"), i = t.format("mm");
                a[e] = t.startOf("day").add(r || n, "h").add(s || i, "m").valueOf()
            }

            T(), z(), V()
        }

        function k(e) {
            var n = e;
            return "week-range" === a.batchMode ? n = "monday" === a.startOfWeek ? t(parseInt(e)).startOf("isoweek").valueOf() : t(parseInt(e)).startOf("week").valueOf() : "month-range" === a.batchMode && (n = t(parseInt(e)).startOf("month").valueOf()), n
        }

        function g(e) {
            var n = e;
            return "week-range" === a.batchMode ? n = "monday" === a.startOfWeek ? t(parseInt(e)).endOf("isoweek").valueOf() : t(parseInt(e)).endOf("week").valueOf() : "month-range" === a.batchMode && (n = t(parseInt(e)).endOf("month").valueOf()), n
        }

        function w(n) {
            if (!n.hasClass("invalid")) {
                var r = n.attr("time");
                if (n.addClass("checked"), a.singleDate ? (a.start = r, a.end = !1) : "week" === a.batchMode ? "monday" === a.startOfWeek ? (a.start = t(parseInt(r)).startOf("isoweek").valueOf(), a.end = t(parseInt(r)).endOf("isoweek").valueOf()) : (a.end = t(parseInt(r)).endOf("week").valueOf(), a.start = t(parseInt(r)).startOf("week").valueOf()) : "workweek" === a.batchMode ? (a.start = t(parseInt(r)).day(1).valueOf(), a.end = t(parseInt(r)).day(5).valueOf()) : "weekend" === a.batchMode ? (a.start = t(parseInt(r)).day(6).valueOf(), a.end = t(parseInt(r)).day(7).valueOf()) : "month" === a.batchMode ? (a.start = t(parseInt(r)).startOf("month").valueOf(), a.end = t(parseInt(r)).endOf("month").valueOf()) : a.start && a.end || !a.start && !a.end ? (a.start = k(r), a.end = !1) : a.start && (a.end = g(r), a.time.enabled && p("end", a.end)), a.time.enabled && (a.start && p("start", a.start), a.end && p("end", a.end)), !a.singleDate && a.start && a.end && a.start > a.end) {
                    var s = a.end;
                    a.end = g(a.start), a.start = k(s), a.time.enabled && a.swapTime && (f("time1", a.start), f("time2", a.end))
                }
                a.start = parseInt(a.start), a.end = parseInt(a.end), x(), a.start && !a.end && (e(o).trigger("datepicker-first-date-selected", {date1: new Date(a.start)}), D(n)), b(), T(), z(), V(), S()
            }
        }

        function y(e) {
            if (e = parseInt(e, 10), a.startDate && R(e, a.startDate) < 0) return !1;
            if (a.endDate && R(e, a.endDate) > 0) return !1;
            if (a.start && !a.end && !a.singleDate) {
                if (a.maxDays > 0 && O(e, a.start) > a.maxDays) return !1;
                if (a.minDays > 0 && O(e, a.start) < a.minDays) return !1;
                if (a.selectForward && e < a.start) return !1;
                if (a.selectBackward && e > a.start) return !1;
                if (a.beforeShowDay && "function" == typeof a.beforeShowDay) {
                    for (var t = !0, n = e; O(n, a.start) > 1;) {
                        if (!a.beforeShowDay(new Date(n))[0]) {
                            t = !1;
                            break
                        }
                        if (Math.abs(n - a.start) < 864e5) break;
                        n > a.start && (n -= 864e5), n < a.start && (n += 864e5)
                    }
                    if (!t) return !1
                }
            }
            return !0
        }

        function b() {
            return n.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"), a.start && !a.end && n.find(".day.toMonth.valid").each(function () {
                y(parseInt(e(this).attr("time"), 10)) ? e(this).addClass("valid tmp").removeClass("invalid") : e(this).addClass("invalid tmp").removeClass("valid")
            }), !0
        }

        function D(t) {
            var r = parseInt(t.attr("time")), s = "";
            if (t.hasClass("has-tooltip") && t.attr("data-tooltip")) s = '<span class="tooltip-content">' + t.attr("data-tooltip") + "</span>"; else if (!t.hasClass("invalid")) if (a.singleDate) n.find(".day.hovering").removeClass("hovering"), t.addClass("hovering"); else if (n.find(".day").each(function () {
                var t = parseInt(e(this).attr("time"));
                a.start, a.end;
                t == r ? e(this).addClass("hovering") : e(this).removeClass("hovering"), a.start && !a.end && (a.start < t && r >= t || a.start > t && r <= t) ? e(this).addClass("hovering") : e(this).removeClass("hovering")
            }), a.start && !a.end) {
                var i = O(r, a.start);
                a.hoveringTooltip && ("function" == typeof a.hoveringTooltip ? s = a.hoveringTooltip(i, a.start, r) : !0 === a.hoveringTooltip && i > 1 && (s = i + " " + _("days")))
            }
            if (s) {
                var o = t.offset(), d = n.offset(), l = o.left - d.left, u = o.top - d.top;
                l += t.width() / 2;
                var m = n.find(".date-range-length-tip"),
                    h = m.css({visibility: "hidden", display: "none"}).html(s).width(), c = m.height();
                l -= h / 2, u -= c, setTimeout(function () {
                    m.css({left: l, top: u, display: "block", visibility: "visible"})
                }, 10)
            } else n.find(".date-range-length-tip").hide()
        }

        function x() {
            n.find(".day.hovering").removeClass("hovering"), n.find(".date-range-length-tip").hide()
        }

        function M(e) {
            var n = e.val(), r = e.attr("name"), s = e.parents("table").hasClass("month1") ? "month1" : "month2",
                i = "month1" === s ? "month2" : "month1", o = !!a.startDate && t(a.startDate),
                d = !!a.endDate && t(a.endDate), l = t(a[s])[r](n);
            o && l.isSameOrBefore(o) && (l = o.add("month2" === s ? 1 : 0, "month")), d && l.isSameOrAfter(d) && (l = d.add(a.singleMonth || "month1" !== s ? 0 : -1, "month")), P(l, s), "month1" === s ? (a.stickyMonths || t(l).isSameOrAfter(a[i], "month")) && P(t(l).add(1, "month"), i) : (a.stickyMonths || t(l).isSameOrBefore(a[i], "month")) && P(t(l).add(-1, "month"), i), B()
        }

        function S() {
            !0 === a.singleDate ? i && a.start && a.autoClose && L() : i && a.start && a.end && a.autoClose && L()
        }

        function T() {
            var e = Math.ceil((a.end - a.start) / 864e5) + 1;
            a.singleDate ? a.start && !a.end ? n.find(".drp_top-bar").removeClass("error").addClass("normal") : n.find(".drp_top-bar").removeClass("error").removeClass("normal") : a.maxDays && e > a.maxDays ? (a.start = !1, a.end = !1, n.find(".day").removeClass("checked"), n.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(_("less-than").replace("%d", a.maxDays))) : a.minDays && e < a.minDays ? (a.start = !1, a.end = !1, n.find(".day").removeClass("checked"), n.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(_("more-than").replace("%d", a.minDays))) : a.start || a.end ? n.find(".drp_top-bar").removeClass("error").addClass("normal") : n.find(".drp_top-bar").removeClass("error").removeClass("normal"), a.singleDate && a.start && !a.end || !a.singleDate && a.start && a.end ? n.find(".apply-btn").removeClass("disabled") : n.find(".apply-btn").addClass("disabled"), a.batchMode && (a.start && a.startDate && R(a.start, a.startDate) < 0 || a.end && a.endDate && R(a.end, a.endDate) > 0) && (a.start = !1, a.end = !1, n.find(".day").removeClass("checked"))
        }

        function z(t, r) {
            var s;
            n.find(".start-day").html("..."), n.find(".end-day").html("..."), n.find(".selected-days").hide(), a.start && n.find(".start-day").html(N(new Date(parseInt(a.start)))), a.end && n.find(".end-day").html(N(new Date(parseInt(a.end)))), a.start && a.singleDate ? (n.find(".apply-btn").removeClass("disabled"), s = N(new Date(a.start)), a.setValue.call(d, s, N(new Date(a.start)), N(new Date(a.end))), i && !r && e(o).trigger("datepicker-change", {
                value: s,
                date1: new Date(a.start)
            })) : a.start && a.end ? (n.find(".selected-days").show().find(".selected-days-num").html(O(a.end, a.start)), n.find(".apply-btn").removeClass("disabled"), s = N(new Date(a.start)) + a.separator + N(new Date(a.end)), a.setValue.call(d, s, N(new Date(a.start)), N(new Date(a.end))), i && !r && e(o).trigger("datepicker-change", {
                value: s,
                date1: new Date(a.start),
                date2: new Date(a.end)
            })) : t ? n.find(".apply-btn").removeClass("disabled") : n.find(".apply-btn").addClass("disabled")
        }

        function O(e, a) {
            return Math.abs(t(e).diff(t(a), "d"))
        }

        function j(e, t, n) {
            if (e.getTime() > t.getTime()) {
                var r = t;
                t = e, e = r, r = null
            }
            var s = !0;
            if (a.startDate && R(e, a.startDate) < 0 && (s = !1), a.endDate && R(t, a.endDate) > 0 && (s = !1), !s) return P(a.startDate, "month1"), P(E(a.startDate), "month2"), void B();
            a.start = e.getTime(), a.end = t.getTime(), a.time.enabled && (f("time1", e), f("time2", t)), (a.stickyMonths || R(e, t) > 0 && 0 === H(e, t)) && (a.lookBehind ? e = q(t) : t = E(e)), a.stickyMonths && !1 !== a.endDate && H(t, a.endDate) > 0 && (e = q(e), t = q(t)), a.stickyMonths || 0 === H(e, t) && (a.lookBehind ? e = q(t) : t = E(e)), P(e, "month1"), P(t, "month2"), B(), T(), z(!1, n), S()
        }

        function C(e) {
            var t = !0;
            if (a.startDate && R(e, a.startDate) < 0 && (t = !1), a.endDate && R(e, a.endDate) > 0 && (t = !1), t) {
                if (a.start = e.getTime(), a.time.enabled && f("time1", e), P(e, "month1"), !0 !== a.singleMonth) P(E(e), "month2");
                B(), z(), S()
            } else P(a.startDate, "month1")
        }

        function V() {
            (a.start || a.end) && (n.find(".day").each(function () {
                var n = parseInt(e(this).attr("time")), r = a.start, s = a.end;
                a.time.enabled && (n = t(n).startOf("day").valueOf(), r = t(r || t().valueOf()).startOf("day").valueOf(), s = t(s || t().valueOf()).startOf("day").valueOf()), a.start && a.end && s >= n && r <= n || a.start && !a.end && t(r).format("YYYY-MM-DD") == t(n).format("YYYY-MM-DD") ? e(this).addClass("checked") : e(this).removeClass("checked"), a.start && t(r).format("YYYY-MM-DD") == t(n).format("YYYY-MM-DD") ? e(this).addClass("first-date-selected") : e(this).removeClass("first-date-selected"), a.end && t(s).format("YYYY-MM-DD") == t(n).format("YYYY-MM-DD") ? e(this).addClass("last-date-selected") : e(this).removeClass("last-date-selected")
            }), n.find(".week-number").each(function () {
                e(this).attr("data-start-time") == a.startWeek && e(this).addClass("week-number-selected")
            }))
        }

        function P(r, s) {
            var i = function (e, n) {
                var r = (e = t(e)).get("month"), s = '<div class="month-element">' + I(r) + "</div>";
                if (!a.monthSelect) return s;
                var i = !!a.startDate && t(a.startDate).add(a.singleMonth || "month2" !== n ? 0 : 1, "month"),
                    o = !!a.endDate && t(a.endDate).add(a.singleMonth || "month1" !== n ? 0 : -1, "month"),
                    d = i && e.isSame(i, "year") ? i.get("month") : 0,
                    l = o && e.isSame(o, "year") ? o.get("month") : 11, u = Math.min(d, r), m = Math.max(l, r);
                if (u === m) return s;
                return A("month", Y({
                    minSelectable: d,
                    maxSelectable: l,
                    minVisible: u,
                    maxVisible: m
                }, r, function (e) {
                    return I(e)
                }))
            }(r = t(r).toDate(), s), o = function (e, n) {
                var r = (e = t(e)).get("year"), s = '<div class="month-element">' + r + "</div>";
                if (!a.yearSelect) return s;
                var i = a.yearSelect && "function" == typeof a.yearSelect,
                    o = !!a.startDate && t(a.startDate).add(a.singleMonth || "month2" !== n ? 0 : 1, "month"),
                    d = !!a.endDate && t(a.endDate).add(a.singleMonth || "month1" !== n ? 0 : -1, "month"),
                    l = i ? a.yearSelect(r) : a.yearSelect.slice(),
                    u = o ? Math.max(l[0], o.get("year")) : Math.min(l[0], r),
                    m = d ? Math.min(l[1], d.get("year")) : Math.max(l[1], r), h = Math.min(u, r), c = Math.max(m, r);
                if (h === c) return s;
                return A("year", Y({minSelectable: u, maxSelectable: m, minVisible: h, maxVisible: c}, r))
            }(r, s);
            n.find("." + s + " .month-name").html(i + " " + o), n.find("." + s + " tbody").html(function (e) {
                var n = [];
                e.setDate(1);
                new Date(e.getTime() - 864e5);
                var r, s, i = new Date, o = e.getDay();
                0 === o && "monday" === a.startOfWeek && (o = 7);
                if (o > 0) for (var d = o; d > 0; d--) {
                    var l = new Date(e.getTime() - 864e5 * d);
                    s = y(l.getTime()), a.startDate && R(l, a.startDate) < 0 && (s = !1), a.endDate && R(l, a.endDate) > 0 && (s = !1), n.push({
                        date: l,
                        type: "lastMonth",
                        day: l.getDate(),
                        time: l.getTime(),
                        valid: s
                    })
                }
                for (var u = e.getMonth(), d = 0; d < 40; d++) r = t(e).add(d, "days").toDate(), s = y(r.getTime()), a.startDate && R(r, a.startDate) < 0 && (s = !1), a.endDate && R(r, a.endDate) > 0 && (s = !1), n.push({
                    date: r,
                    type: r.getMonth() == u ? "toMonth" : "nextMonth",
                    day: r.getDate(),
                    time: r.getTime(),
                    valid: s
                });
                for (var m = [], h = 0; h < 6 && "nextMonth" != n[7 * h].type; h++) {
                    m.push("<tr>");
                    for (var l = 0; l < 7; l++) {
                        var c = "monday" == a.startOfWeek ? l + 1 : l;
                        r = n[7 * h + c];
                        var f = t(r.time).format("L") == t(i).format("L");
                        if (r.extraClass = "", r.tooltip = "", r.valid && a.beforeShowDay && "function" == typeof a.beforeShowDay) {
                            var p = a.beforeShowDay(t(r.time).toDate());
                            r.valid = p[0], r.extraClass = p[1] || "", r.tooltip = p[2] || "", "" !== r.tooltip && (r.extraClass += " has-tooltip ")
                        }
                        var v = {
                            time: r.time,
                            "data-tooltip": r.tooltip,
                            class: "day " + r.type + " " + r.extraClass + " " + (r.valid ? "valid" : "invalid") + " " + (f ? "real-today" : "")
                        };
                        0 === l && a.showWeekNumbers && m.push('<td><div class="week-number" data-start-time="' + r.time + '">' + a.getWeekNumber(r.date) + "</div></td>"), m.push("<td " + J({}, a.dayTdAttrs, r) + "><div " + J(v, a.dayDivAttrs, r) + ">" + K(r.time, r.day) + "</div></td>")
                    }
                    m.push("</tr>")
                }
                return m.join("")
            }(r)), a[s] = r, b(), n.find(".day").off("click").click(function (t) {
                w(e(this))
            }), n.find(".day").off("mouseenter").mouseenter(function (t) {
                D(e(this))
            }), n.find(".day").off("mouseleave").mouseleave(function (e) {
                n.find(".date-range-length-tip").hide(), a.singleDate && x()
            }), n.find(".week-number").off("click").click(function (r) {
                var s, i, o, d;
                s = e(this), d = parseInt(s.attr("data-start-time"), 10), a.startWeek ? (n.find(".week-number-selected").removeClass("week-number-selected"), i = new Date(d < a.startWeek ? d : a.startWeek), o = new Date(d < a.startWeek ? a.startWeek : d), a.startWeek = !1, a.start = t(i).day("monday" == a.startOfWeek ? 1 : 0).valueOf(), a.end = t(o).day("monday" == a.startOfWeek ? 7 : 6).valueOf()) : (a.startWeek = d, s.addClass("week-number-selected"), i = new Date(d), a.start = t(i).day("monday" == a.startOfWeek ? 1 : 0).valueOf(), a.end = t(i).day("monday" == a.startOfWeek ? 7 : 6).valueOf()), b(), T(), z(), V(), S()
            }), n.find(".month").off("change").change(function (t) {
                M(e(this))
            }), n.find(".year").off("change").change(function (t) {
                M(e(this))
            })
        }

        function Y(e, t, a) {
            var n = [];
            a = a || function (e) {
                return e
            };
            for (var r = e.minVisible; r <= e.maxVisible; r++) n.push({
                value: r,
                text: a(r),
                selected: r === t,
                disabled: r < e.minSelectable || r > e.maxSelectable
            });
            return n
        }

        function A(e, t) {
            for (var a, n = '<div class="select-wrapper"><select class="' + e + '" name="' + e + '">', r = 0, s = t.length; r < s; r++) {
                var i = t[r];
                n += '<option value="' + i.value + '"' + (i.selected ? " selected" : "") + (i.disabled ? " disabled" : "") + ">" + i.text + "</option>", i.selected && (a = i.text)
            }
            return n += "</select>" + a + "</div>"
        }

        function W(e, t) {
            n.find("." + t).append("<div><span>" + _("Time") + ': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>' + _("Hour") + ': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>' + _("Minute") + ': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'), f(t, e)
        }

        function I(e) {
            return _("month-name")[e]
        }

        function N(e) {
            return t(e).format(a.format)
        }

        function B() {
            V();
            var e = parseInt(t(a.month1).format("YYYYMM")), r = parseInt(t(a.month2).format("YYYYMM")),
                s = Math.abs(e - r);
            s > 1 && 89 != s ? n.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility", "visible") : n.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility", "hidden");
            var i = n.find("table.month1").height(), o = n.find("table.month2").height();
            n.find(".gap").height(Math.max(i, o) + 10)
        }

        function L() {
            if (!a.alwaysOpen) {
                var t = function () {
                    e(o).data("date-picker-opened", !1), e(o).trigger("datepicker-closed", {relatedTarget: n})
                };
                a.customCloseAnimation ? a.customCloseAnimation.call(n.get(0), t) : e(n).slideUp(a.duration, t), e(o).trigger("datepicker-close", {relatedTarget: n})
            }
        }

        function F() {
            P(a.month1, "month1"), P(a.month2, "month2")
        }

        function H(e, a) {
            var n = parseInt(t(e).format("YYYYMM")) - parseInt(t(a).format("YYYYMM"));
            return n > 0 ? 1 : 0 === n ? 0 : -1
        }

        function R(e, a) {
            var n = parseInt(t(e).format("YYYYMMDD")) - parseInt(t(a).format("YYYYMMDD"));
            return n > 0 ? 1 : 0 === n ? 0 : -1
        }

        function E(e) {
            return t(e).add(1, "months").toDate()
        }

        function q(e) {
            return t(e).add(-1, "months").toDate()
        }

        function $() {
            var e = a.showWeekNumbers ? "<th>" + _("week-number") + "</th>" : "";
            return "monday" == a.startOfWeek ? e + "<th>" + _("week-1") + "</th><th>" + _("week-2") + "</th><th>" + _("week-3") + "</th><th>" + _("week-4") + "</th><th>" + _("week-5") + "</th><th>" + _("week-6") + "</th><th>" + _("week-7") + "</th>" : e + "<th>" + _("week-7") + "</th><th>" + _("week-1") + "</th><th>" + _("week-2") + "</th><th>" + _("week-3") + "</th><th>" + _("week-4") + "</th><th>" + _("week-5") + "</th><th>" + _("week-6") + "</th>"
        }

        function G(e) {
            return e = t(e), !(!a.startDate || !e.endOf("month").isBefore(a.startDate)) || !(!a.endDate || !e.startOf("month").isAfter(a.endDate))
        }

        function J(t, a, n) {
            var r = e.extend(!0, {}, t);
            e.each(a, function (e, t) {
                var a = t(n);
                for (var s in a) r.hasOwnProperty(s) ? r[s] += a[s] : r[s] = a[s]
            });
            var s = "";
            for (var i in r) r.hasOwnProperty(i) && (s += i + '="' + r[i] + '" ');
            return s
        }

        function K(e, t) {
            return a.showDateFilter && "function" == typeof a.showDateFilter ? a.showDateFilter(e, t) : t
        }

        function _(t) {
            var a = t.toLowerCase(), n = t in s ? s[t] : a in s ? s[a] : null, r = e.dateRangePickerLanguages.default;
            return null == n && (n = t in r ? r[t] : a in r ? r[a] : ""), n
        }

        function U() {
            var e = a.defaultTime ? a.defaultTime : new Date;
            return a.lookBehind ? (a.startDate && H(e, a.startDate) < 0 && (e = E(t(a.startDate).toDate())), a.endDate && H(e, a.endDate) > 0 && (e = t(a.endDate).toDate())) : (a.startDate && H(e, a.startDate) < 0 && (e = t(a.startDate).toDate()), a.endDate && H(E(e), a.endDate) > 0 && (e = q(t(a.endDate).toDate()))), a.singleDate && (a.startDate && H(e, a.startDate) < 0 && (e = t(a.startDate).toDate()), a.endDate && H(e, a.endDate) > 0 && (e = t(a.endDate).toDate())), e
        }

        function Z(e) {
            e || (e = U()), a.lookBehind ? (P(q(e), "month1"), P(e, "month2")) : (P(e, "month1"), P(E(e), "month2")), a.singleDate && P(e, "month1"), V(), B()
        }

        function Q(t) {
            var a, r;
            a = t, (r = o[0]).contains(a.target) || a.target == r || void 0 != r.childNodes && e.inArray(a.target, r.childNodes) >= 0 || n.is(":visible") && L()
        }
    }
});
/*! PhotoSwipe - v4.1.0 - 2015-07-23
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function (a, b) {
    "function" == typeof define && define.amd ? define(b) : "object" == typeof exports ? module.exports = b() : a.PhotoSwipe = b()
}(this, function () {
    "use strict";
    var a = function (a, b, c, d) {
        var e = {
            features: null, bind: function (a, b, c, d) {
                var e = (d ? "remove" : "add") + "EventListener";
                b = b.split(" ");
                for (var f = 0; f < b.length; f++) b[f] && a[e](b[f], c, !1)
            }, isArray: function (a) {
                return a instanceof Array
            }, createEl: function (a, b) {
                var c = document.createElement(b || "div");
                return a && (c.className = a), c
            }, getScrollY: function () {
                var a = window.pageYOffset;
                return void 0 !== a ? a : document.documentElement.scrollTop
            }, unbind: function (a, b, c) {
                e.bind(a, b, c, !0)
            }, removeClass: function (a, b) {
                var c = new RegExp("(\\s|^)" + b + "(\\s|$)");
                a.className = a.className.replace(c, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "")
            }, addClass: function (a, b) {
                e.hasClass(a, b) || (a.className += (a.className ? " " : "") + b)
            }, hasClass: function (a, b) {
                return a.className && new RegExp("(^|\\s)" + b + "(\\s|$)").test(a.className)
            }, getChildByClass: function (a, b) {
                for (var c = a.firstChild; c;) {
                    if (e.hasClass(c, b)) return c;
                    c = c.nextSibling
                }
            }, arraySearch: function (a, b, c) {
                for (var d = a.length; d--;) if (a[d][c] === b) return d;
                return -1
            }, extend: function (a, b, c) {
                for (var d in b) if (b.hasOwnProperty(d)) {
                    if (c && a.hasOwnProperty(d)) continue;
                    a[d] = b[d]
                }
            }, easing: {
                sine: {
                    out: function (a) {
                        return Math.sin(a * (Math.PI / 2))
                    }, inOut: function (a) {
                        return -(Math.cos(Math.PI * a) - 1) / 2
                    }
                }, cubic: {
                    out: function (a) {
                        return --a * a * a + 1
                    }
                }
            }, detectFeatures: function () {
                if (e.features) return e.features;
                var a = e.createEl(), b = a.style, c = "", d = {};
                if (d.oldIE = document.all && !document.addEventListener, d.touch = "ontouchstart" in window, window.requestAnimationFrame && (d.raf = window.requestAnimationFrame, d.caf = window.cancelAnimationFrame), d.pointerEvent = navigator.pointerEnabled || navigator.msPointerEnabled, !d.pointerEvent) {
                    var f = navigator.userAgent;
                    if (/iP(hone|od)/.test(navigator.platform)) {
                        var g = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
                        g && g.length > 0 && (g = parseInt(g[1], 10), g >= 1 && 8 > g && (d.isOldIOSPhone = !0))
                    }
                    var h = f.match(/Android\s([0-9\.]*)/), i = h ? h[1] : 0;
                    i = parseFloat(i), i >= 1 && (4.4 > i && (d.isOldAndroid = !0), d.androidVersion = i), d.isMobileOpera = /opera mini|opera mobi/i.test(f)
                }
                for (var j, k, l = ["transform", "perspective", "animationName"], m = ["", "webkit", "Moz", "ms", "O"], n = 0; 4 > n; n++) {
                    c = m[n];
                    for (var o = 0; 3 > o; o++) j = l[o], k = c + (c ? j.charAt(0).toUpperCase() + j.slice(1) : j), !d[j] && k in b && (d[j] = k);
                    c && !d.raf && (c = c.toLowerCase(), d.raf = window[c + "RequestAnimationFrame"], d.raf && (d.caf = window[c + "CancelAnimationFrame"] || window[c + "CancelRequestAnimationFrame"]))
                }
                if (!d.raf) {
                    var p = 0;
                    d.raf = function (a) {
                        var b = (new Date).getTime(), c = Math.max(0, 16 - (b - p)), d = window.setTimeout(function () {
                            a(b + c)
                        }, c);
                        return p = b + c, d
                    }, d.caf = function (a) {
                        clearTimeout(a)
                    }
                }
                return d.svg = !!document.createElementNS && !!document.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect, e.features = d, d
            }
        };
        e.detectFeatures(), e.features.oldIE && (e.bind = function (a, b, c, d) {
            b = b.split(" ");
            for (var e, f = (d ? "detach" : "attach") + "Event", g = function () {
                c.handleEvent.call(c)
            }, h = 0; h < b.length; h++) if (e = b[h]) if ("object" == typeof c && c.handleEvent) {
                if (d) {
                    if (!c["oldIE" + e]) return !1
                } else c["oldIE" + e] = g;
                a[f]("on" + e, c["oldIE" + e])
            } else a[f]("on" + e, c)
        });
        var f = this, g = 25, h = 3, i = {
            allowPanToNext: !0,
            spacing: .12,
            bgOpacity: 1,
            mouseUsed: !1,
            loop: !0,
            pinchToClose: !0,
            closeOnScroll: !0,
            closeOnVerticalDrag: !0,
            verticalDragRange: .75,
            hideAnimationDuration: 333,
            showAnimationDuration: 333,
            showHideOpacity: !1,
            focus: !0,
            escKey: !0,
            arrowKeys: !0,
            mainScrollEndFriction: .35,
            panEndFriction: .35,
            isClickableElement: function (a) {
                return "A" === a.tagName
            },
            getDoubleTapZoom: function (a, b) {
                return a ? 1 : b.initialZoomLevel < .7 ? 1 : 1.33
            },
            maxSpreadZoom: 1.33,
            modal: !0,
            scaleMode: "fit"
        };
        e.extend(i, d);
        var j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S,
            T, U, V, W, X, Y, Z, $, _, aa, ba, ca, da, ea, fa, ga, ha, ia, ja, ka, la = function () {
                return {x: 0, y: 0}
            }, ma = la(), na = la(), oa = la(), pa = {}, qa = 0, ra = {}, sa = la(), ta = 0, ua = !0, va = [], wa = {},
            xa = !1, ya = function (a, b) {
                e.extend(f, b.publicMethods), va.push(a)
            }, za = function (a) {
                var b = _b();
                return a > b - 1 ? a - b : 0 > a ? b + a : a
            }, Aa = {}, Ba = function (a, b) {
                return Aa[a] || (Aa[a] = []), Aa[a].push(b)
            }, Ca = function (a) {
                var b = Aa[a];
                if (b) {
                    var c = Array.prototype.slice.call(arguments);
                    c.shift();
                    for (var d = 0; d < b.length; d++) b[d].apply(f, c)
                }
            }, Da = function () {
                return (new Date).getTime()
            }, Ea = function (a) {
                ia = a, f.bg.style.opacity = a * i.bgOpacity
            }, Fa = function (a, b, c, d, e) {
                (!xa || e && e !== f.currItem) && (d /= e ? e.fitRatio : f.currItem.fitRatio), a[E] = u + b + "px, " + c + "px" + v + " scale(" + d + ")"
            }, Ga = function (a) {
                da && (a && (s > f.currItem.fitRatio ? xa || (lc(f.currItem, !1, !0), xa = !0) : xa && (lc(f.currItem), xa = !1)), Fa(da, oa.x, oa.y, s))
            }, Ha = function (a) {
                a.container && Fa(a.container.style, a.initialPosition.x, a.initialPosition.y, a.initialZoomLevel, a)
            }, Ia = function (a, b) {
                b[E] = u + a + "px, 0px" + v
            }, Ja = function (a, b) {
                if (!i.loop && b) {
                    var c = m + (sa.x * qa - a) / sa.x, d = Math.round(a - sb.x);
                    (0 > c && d > 0 || c >= _b() - 1 && 0 > d) && (a = sb.x + d * i.mainScrollEndFriction)
                }
                sb.x = a, Ia(a, n)
            }, Ka = function (a, b) {
                var c = tb[a] - ra[a];
                return na[a] + ma[a] + c - c * (b / t)
            }, La = function (a, b) {
                a.x = b.x, a.y = b.y, b.id && (a.id = b.id)
            }, Ma = function (a) {
                a.x = Math.round(a.x), a.y = Math.round(a.y)
            }, Na = null, Oa = function () {
                Na && (e.unbind(document, "mousemove", Oa), e.addClass(a, "pswp--has_mouse"), i.mouseUsed = !0, Ca("mouseUsed")), Na = setTimeout(function () {
                    Na = null
                }, 100)
            }, Pa = function () {
                e.bind(document, "keydown", f), N.transform && e.bind(f.scrollWrap, "click", f), i.mouseUsed || e.bind(document, "mousemove", Oa), e.bind(window, "resize scroll", f), Ca("bindEvents")
            }, Qa = function () {
                e.unbind(window, "resize", f), e.unbind(window, "scroll", r.scroll), e.unbind(document, "keydown", f), e.unbind(document, "mousemove", Oa), N.transform && e.unbind(f.scrollWrap, "click", f), U && e.unbind(window, p, f), Ca("unbindEvents")
            }, Ra = function (a, b) {
                var c = hc(f.currItem, pa, a);
                return b && (ca = c), c
            }, Sa = function (a) {
                return a || (a = f.currItem), a.initialZoomLevel
            }, Ta = function (a) {
                return a || (a = f.currItem), a.w > 0 ? i.maxSpreadZoom : 1
            }, Ua = function (a, b, c, d) {
                return d === f.currItem.initialZoomLevel ? (c[a] = f.currItem.initialPosition[a], !0) : (c[a] = Ka(a, d), c[a] > b.min[a] ? (c[a] = b.min[a], !0) : c[a] < b.max[a] ? (c[a] = b.max[a], !0) : !1)
            }, Va = function () {
                if (E) {
                    var b = N.perspective && !G;
                    return u = "translate" + (b ? "3d(" : "("), void (v = N.perspective ? ", 0px)" : ")")
                }
                E = "left", e.addClass(a, "pswp--ie"), Ia = function (a, b) {
                    b.left = a + "px"
                }, Ha = function (a) {
                    var b = a.fitRatio > 1 ? 1 : a.fitRatio, c = a.container.style, d = b * a.w, e = b * a.h;
                    c.width = d + "px", c.height = e + "px", c.left = a.initialPosition.x + "px", c.top = a.initialPosition.y + "px"
                }, Ga = function () {
                    if (da) {
                        var a = da, b = f.currItem, c = b.fitRatio > 1 ? 1 : b.fitRatio, d = c * b.w, e = c * b.h;
                        a.width = d + "px", a.height = e + "px", a.left = oa.x + "px", a.top = oa.y + "px"
                    }
                }
            }, Wa = function (a) {
                var b = "";
                i.escKey && 27 === a.keyCode ? b = "close" : i.arrowKeys && (37 === a.keyCode ? b = "prev" : 39 === a.keyCode && (b = "next")), b && (a.ctrlKey || a.altKey || a.shiftKey || a.metaKey || (a.preventDefault ? a.preventDefault() : a.returnValue = !1, f[b]()))
            }, Xa = function (a) {
                a && (X || W || ea || S) && (a.preventDefault(), a.stopPropagation())
            }, Ya = function () {
                f.setScrollOffset(0, e.getScrollY())
            }, Za = {}, $a = 0, _a = function (a) {
                Za[a] && (Za[a].raf && I(Za[a].raf), $a--, delete Za[a])
            }, ab = function (a) {
                Za[a] && _a(a), Za[a] || ($a++, Za[a] = {})
            }, bb = function () {
                for (var a in Za) Za.hasOwnProperty(a) && _a(a)
            }, cb = function (a, b, c, d, e, f, g) {
                var h, i = Da();
                ab(a);
                var j = function () {
                    if (Za[a]) {
                        if (h = Da() - i, h >= d) return _a(a), f(c), void (g && g());
                        f((c - b) * e(h / d) + b), Za[a].raf = H(j)
                    }
                };
                j()
            }, db = {
                shout: Ca, listen: Ba, viewportSize: pa, options: i, isMainScrollAnimating: function () {
                    return ea
                }, getZoomLevel: function () {
                    return s
                }, getCurrentIndex: function () {
                    return m
                }, isDragging: function () {
                    return U
                }, isZooming: function () {
                    return _
                }, setScrollOffset: function (a, b) {
                    ra.x = a, M = ra.y = b, Ca("updateScrollOffset", ra)
                }, applyZoomPan: function (a, b, c, d) {
                    oa.x = b, oa.y = c, s = a, Ga(d)
                }, init: function () {
                    if (!j && !k) {
                        var c;
                        f.framework = e, f.template = a, f.bg = e.getChildByClass(a, "pswp__bg"), J = a.className, j = !0, N = e.detectFeatures(), H = N.raf, I = N.caf, E = N.transform, L = N.oldIE, f.scrollWrap = e.getChildByClass(a, "pswp__scroll-wrap"), f.container = e.getChildByClass(f.scrollWrap, "pswp__container"), n = f.container.style, f.itemHolders = y = [{
                            el: f.container.children[0],
                            wrap: 0,
                            index: -1
                        }, {el: f.container.children[1], wrap: 0, index: -1}, {
                            el: f.container.children[2],
                            wrap: 0,
                            index: -1
                        }], y[0].el.style.display = y[2].el.style.display = "none", Va(), r = {
                            resize: f.updateSize,
                            scroll: Ya,
                            keydown: Wa,
                            click: Xa
                        };
                        var d = N.isOldIOSPhone || N.isOldAndroid || N.isMobileOpera;
                        for (N.animationName && N.transform && !d || (i.showAnimationDuration = i.hideAnimationDuration = 0), c = 0; c < va.length; c++) f["init" + va[c]]();
                        if (b) {
                            var g = f.ui = new b(f, e);
                            g.init()
                        }
                        Ca("firstUpdate"), m = m || i.index || 0, (isNaN(m) || 0 > m || m >= _b()) && (m = 0), f.currItem = $b(m), (N.isOldIOSPhone || N.isOldAndroid) && (ua = !1), a.setAttribute("aria-hidden", "false"), i.modal && (ua ? a.style.position = "fixed" : (a.style.position = "absolute", a.style.top = e.getScrollY() + "px")), void 0 === M && (Ca("initialLayout"), M = K = e.getScrollY());
                        var l = "pswp--open ";
                        for (i.mainClass && (l += i.mainClass + " "), i.showHideOpacity && (l += "pswp--animate_opacity "), l += G ? "pswp--touch" : "pswp--notouch", l += N.animationName ? " pswp--css_animation" : "", l += N.svg ? " pswp--svg" : "", e.addClass(a, l), f.updateSize(), o = -1, ta = null, c = 0; h > c; c++) Ia((c + o) * sa.x, y[c].el.style);
                        L || e.bind(f.scrollWrap, q, f), Ba("initialZoomInEnd", function () {
                            f.setContent(y[0], m - 1), f.setContent(y[2], m + 1), y[0].el.style.display = y[2].el.style.display = "block", i.focus && a.focus(), Pa()
                        }), f.setContent(y[1], m), f.updateCurrItem(), Ca("afterInit"), ua || (w = setInterval(function () {
                            $a || U || _ || s !== f.currItem.initialZoomLevel || f.updateSize()
                        }, 1e3)), e.addClass(a, "pswp--visible")
                    }
                }, close: function () {
                    j && (j = !1, k = !0, Ca("close"), Qa(), bc(f.currItem, null, !0, f.destroy))
                }, destroy: function () {
                    Ca("destroy"), Wb && clearTimeout(Wb), a.setAttribute("aria-hidden", "true"), a.className = J, w && clearInterval(w), e.unbind(f.scrollWrap, q, f), e.unbind(window, "scroll", f), yb(), bb(), Aa = null
                }, panTo: function (a, b, c) {
                    c || (a > ca.min.x ? a = ca.min.x : a < ca.max.x && (a = ca.max.x), b > ca.min.y ? b = ca.min.y : b < ca.max.y && (b = ca.max.y)), oa.x = a, oa.y = b, Ga()
                }, handleEvent: function (a) {
                    a = a || window.event, r[a.type] && r[a.type](a)
                }, goTo: function (a) {
                    a = za(a);
                    var b = a - m;
                    ta = b, m = a, f.currItem = $b(m), qa -= b, Ja(sa.x * qa), bb(), ea = !1, f.updateCurrItem()
                }, next: function () {
                    f.goTo(m + 1)
                }, prev: function () {
                    f.goTo(m - 1)
                }, updateCurrZoomItem: function (a) {
                    if (a && Ca("beforeChange", 0), y[1].el.children.length) {
                        var b = y[1].el.children[0];
                        da = e.hasClass(b, "pswp__zoom-wrap") ? b.style : null
                    } else da = null;
                    ca = f.currItem.bounds, t = s = f.currItem.initialZoomLevel, oa.x = ca.center.x, oa.y = ca.center.y, a && Ca("afterChange")
                }, invalidateCurrItems: function () {
                    x = !0;
                    for (var a = 0; h > a; a++) y[a].item && (y[a].item.needsUpdate = !0)
                }, updateCurrItem: function (a) {
                    if (0 !== ta) {
                        var b, c = Math.abs(ta);
                        if (!(a && 2 > c)) {
                            f.currItem = $b(m), xa = !1, Ca("beforeChange", ta), c >= h && (o += ta + (ta > 0 ? -h : h), c = h);
                            for (var d = 0; c > d; d++) ta > 0 ? (b = y.shift(), y[h - 1] = b, o++, Ia((o + 2) * sa.x, b.el.style), f.setContent(b, m - c + d + 1 + 1)) : (b = y.pop(), y.unshift(b), o--, Ia(o * sa.x, b.el.style), f.setContent(b, m + c - d - 1 - 1));
                            if (da && 1 === Math.abs(ta)) {
                                var e = $b(z);
                                e.initialZoomLevel !== s && (hc(e, pa), lc(e), Ha(e))
                            }
                            ta = 0, f.updateCurrZoomItem(), z = m, Ca("afterChange")
                        }
                    }
                }, updateSize: function (b) {
                    if (!ua && i.modal) {
                        var c = e.getScrollY();
                        if (M !== c && (a.style.top = c + "px", M = c), !b && wa.x === window.innerWidth && wa.y === window.innerHeight) return;
                        wa.x = window.innerWidth, wa.y = window.innerHeight, a.style.height = wa.y + "px"
                    }
                    if (pa.x = f.scrollWrap.clientWidth, pa.y = f.scrollWrap.clientHeight, Ya(), sa.x = pa.x + Math.round(pa.x * i.spacing), sa.y = pa.y, Ja(sa.x * qa), Ca("beforeResize"), void 0 !== o) {
                        for (var d, g, j, k = 0; h > k; k++) d = y[k], Ia((k + o) * sa.x, d.el.style), j = m + k - 1, i.loop && _b() > 2 && (j = za(j)), g = $b(j), g && (x || g.needsUpdate || !g.bounds) ? (f.cleanSlide(g), f.setContent(d, j), 1 === k && (f.currItem = g, f.updateCurrZoomItem(!0)), g.needsUpdate = !1) : -1 === d.index && j >= 0 && f.setContent(d, j), g && g.container && (hc(g, pa), lc(g), Ha(g));
                        x = !1
                    }
                    t = s = f.currItem.initialZoomLevel, ca = f.currItem.bounds, ca && (oa.x = ca.center.x, oa.y = ca.center.y, Ga(!0)), Ca("resize")
                }, zoomTo: function (a, b, c, d, f) {
                    b && (t = s, tb.x = Math.abs(b.x) - oa.x, tb.y = Math.abs(b.y) - oa.y, La(na, oa));
                    var g = Ra(a, !1), h = {};
                    Ua("x", g, h, a), Ua("y", g, h, a);
                    var i = s, j = {x: oa.x, y: oa.y};
                    Ma(h);
                    var k = function (b) {
                        1 === b ? (s = a, oa.x = h.x, oa.y = h.y) : (s = (a - i) * b + i, oa.x = (h.x - j.x) * b + j.x, oa.y = (h.y - j.y) * b + j.y), f && f(b), Ga(1 === b)
                    };
                    c ? cb("customZoomTo", 0, 1, c, d || e.easing.sine.inOut, k) : k(1)
                }
            }, eb = 30, fb = 10, gb = {}, hb = {}, ib = {}, jb = {}, kb = {}, lb = [], mb = {}, nb = [], ob = {}, pb = 0,
            qb = la(), rb = 0, sb = la(), tb = la(), ub = la(), vb = function (a, b) {
                return a.x === b.x && a.y === b.y
            }, wb = function (a, b) {
                return Math.abs(a.x - b.x) < g && Math.abs(a.y - b.y) < g
            }, xb = function (a, b) {
                return ob.x = Math.abs(a.x - b.x), ob.y = Math.abs(a.y - b.y), Math.sqrt(ob.x * ob.x + ob.y * ob.y)
            }, yb = function () {
                Y && (I(Y), Y = null)
            }, zb = function () {
                U && (Y = H(zb), Pb())
            }, Ab = function () {
                return !("fit" === i.scaleMode && s === f.currItem.initialZoomLevel)
            }, Bb = function (a, b) {
                return a ? a.className && a.className.indexOf("pswp__scroll-wrap") > -1 ? !1 : b(a) ? a : Bb(a.parentNode, b) : !1
            }, Cb = {}, Db = function (a, b) {
                return Cb.prevent = !Bb(a.target, i.isClickableElement), Ca("preventDragEvent", a, b, Cb), Cb.prevent
            }, Eb = function (a, b) {
                return b.x = a.pageX, b.y = a.pageY, b.id = a.identifier, b
            }, Fb = function (a, b, c) {
                c.x = .5 * (a.x + b.x), c.y = .5 * (a.y + b.y)
            }, Gb = function (a, b, c) {
                if (a - P > 50) {
                    var d = nb.length > 2 ? nb.shift() : {};
                    d.x = b, d.y = c, nb.push(d), P = a
                }
            }, Hb = function () {
                var a = oa.y - f.currItem.initialPosition.y;
                return 1 - Math.abs(a / (pa.y / 2))
            }, Ib = {}, Jb = {}, Kb = [], Lb = function (a) {
                for (; Kb.length > 0;) Kb.pop();
                return F ? (ka = 0, lb.forEach(function (a) {
                    0 === ka ? Kb[0] = a : 1 === ka && (Kb[1] = a), ka++
                })) : a.type.indexOf("touch") > -1 ? a.touches && a.touches.length > 0 && (Kb[0] = Eb(a.touches[0], Ib), a.touches.length > 1 && (Kb[1] = Eb(a.touches[1], Jb))) : (Ib.x = a.pageX, Ib.y = a.pageY, Ib.id = "", Kb[0] = Ib), Kb
            }, Mb = function (a, b) {
                var c, d, e, g, h = 0, j = oa[a] + b[a], k = b[a] > 0, l = sb.x + b.x, m = sb.x - mb.x;
                return c = j > ca.min[a] || j < ca.max[a] ? i.panEndFriction : 1, j = oa[a] + b[a] * c, !i.allowPanToNext && s !== f.currItem.initialZoomLevel || (da ? "h" !== fa || "x" !== a || W || (k ? (j > ca.min[a] && (c = i.panEndFriction, h = ca.min[a] - j, d = ca.min[a] - na[a]), (0 >= d || 0 > m) && _b() > 1 ? (g = l, 0 > m && l > mb.x && (g = mb.x)) : ca.min.x !== ca.max.x && (e = j)) : (j < ca.max[a] && (c = i.panEndFriction, h = j - ca.max[a], d = na[a] - ca.max[a]), (0 >= d || m > 0) && _b() > 1 ? (g = l, m > 0 && l < mb.x && (g = mb.x)) : ca.min.x !== ca.max.x && (e = j))) : g = l, "x" !== a) ? void (ea || Z || s > f.currItem.fitRatio && (oa[a] += b[a] * c)) : (void 0 !== g && (Ja(g, !0), Z = g === mb.x ? !1 : !0), ca.min.x !== ca.max.x && (void 0 !== e ? oa.x = e : Z || (oa.x += b.x * c)), void 0 !== g)
            }, Nb = function (a) {
                if (!("mousedown" === a.type && a.button > 0)) {
                    if (Zb) return void a.preventDefault();
                    if (!T || "mousedown" !== a.type) {
                        if (Db(a, !0) && a.preventDefault(), Ca("pointerDown"), F) {
                            var b = e.arraySearch(lb, a.pointerId, "id");
                            0 > b && (b = lb.length), lb[b] = {x: a.pageX, y: a.pageY, id: a.pointerId}
                        }
                        var c = Lb(a), d = c.length;
                        $ = null, bb(), U && 1 !== d || (U = ga = !0, e.bind(window, p, f), R = ja = ha = S = Z = X = V = W = !1, fa = null, Ca("firstTouchStart", c), La(na, oa), ma.x = ma.y = 0, La(jb, c[0]), La(kb, jb), mb.x = sa.x * qa, nb = [{
                            x: jb.x,
                            y: jb.y
                        }], P = O = Da(), Ra(s, !0), yb(), zb()), !_ && d > 1 && !ea && !Z && (t = s, W = !1, _ = V = !0, ma.y = ma.x = 0, La(na, oa), La(gb, c[0]), La(hb, c[1]), Fb(gb, hb, ub), tb.x = Math.abs(ub.x) - oa.x, tb.y = Math.abs(ub.y) - oa.y, aa = ba = xb(gb, hb))
                    }
                }
            }, Ob = function (a) {
                if (a.preventDefault(), F) {
                    var b = e.arraySearch(lb, a.pointerId, "id");
                    if (b > -1) {
                        var c = lb[b];
                        c.x = a.pageX, c.y = a.pageY
                    }
                }
                if (U) {
                    var d = Lb(a);
                    if (fa || X || _) $ = d; else if (sb.x !== sa.x * qa) fa = "h"; else {
                        var f = Math.abs(d[0].x - jb.x) - Math.abs(d[0].y - jb.y);
                        Math.abs(f) >= fb && (fa = f > 0 ? "h" : "v", $ = d)
                    }
                }
            }, Pb = function () {
                if ($) {
                    var a = $.length;
                    if (0 !== a) if (La(gb, $[0]), ib.x = gb.x - jb.x, ib.y = gb.y - jb.y, _ && a > 1) {
                        if (jb.x = gb.x, jb.y = gb.y, !ib.x && !ib.y && vb($[1], hb)) return;
                        La(hb, $[1]), W || (W = !0, Ca("zoomGestureStarted"));
                        var b = xb(gb, hb), c = Ub(b);
                        c > f.currItem.initialZoomLevel + f.currItem.initialZoomLevel / 15 && (ja = !0);
                        var d = 1, e = Sa(), g = Ta();
                        if (e > c) if (i.pinchToClose && !ja && t <= f.currItem.initialZoomLevel) {
                            var h = e - c, j = 1 - h / (e / 1.2);
                            Ea(j), Ca("onPinchClose", j), ha = !0
                        } else d = (e - c) / e, d > 1 && (d = 1), c = e - d * (e / 3); else c > g && (d = (c - g) / (6 * e), d > 1 && (d = 1), c = g + d * e);
                        0 > d && (d = 0), aa = b, Fb(gb, hb, qb), ma.x += qb.x - ub.x, ma.y += qb.y - ub.y, La(ub, qb), oa.x = Ka("x", c), oa.y = Ka("y", c), R = c > s, s = c, Ga()
                    } else {
                        if (!fa) return;
                        if (ga && (ga = !1, Math.abs(ib.x) >= fb && (ib.x -= $[0].x - kb.x), Math.abs(ib.y) >= fb && (ib.y -= $[0].y - kb.y)), jb.x = gb.x, jb.y = gb.y, 0 === ib.x && 0 === ib.y) return;
                        if ("v" === fa && i.closeOnVerticalDrag && !Ab()) {
                            ma.y += ib.y, oa.y += ib.y;
                            var k = Hb();
                            return S = !0, Ca("onVerticalDrag", k), Ea(k), void Ga()
                        }
                        Gb(Da(), gb.x, gb.y), X = !0, ca = f.currItem.bounds;
                        var l = Mb("x", ib);
                        l || (Mb("y", ib), Ma(oa), Ga())
                    }
                }
            }, Qb = function (a) {
                if (N.isOldAndroid) {
                    if (T && "mouseup" === a.type) return;
                    a.type.indexOf("touch") > -1 && (clearTimeout(T), T = setTimeout(function () {
                        T = 0
                    }, 600))
                }
                Ca("pointerUp"), Db(a, !1) && a.preventDefault();
                var b;
                if (F) {
                    var c = e.arraySearch(lb, a.pointerId, "id");
                    if (c > -1) if (b = lb.splice(c, 1)[0], navigator.pointerEnabled) b.type = a.pointerType || "mouse"; else {
                        var d = {4: "mouse", 2: "touch", 3: "pen"};
                        b.type = d[a.pointerType], b.type || (b.type = a.pointerType || "mouse")
                    }
                }
                var g, h = Lb(a), j = h.length;
                if ("mouseup" === a.type && (j = 0), 2 === j) return $ = null, !0;
                1 === j && La(kb, h[0]), 0 !== j || fa || ea || (b || ("mouseup" === a.type ? b = {
                    x: a.pageX,
                    y: a.pageY,
                    type: "mouse"
                } : a.changedTouches && a.changedTouches[0] && (b = {
                    x: a.changedTouches[0].pageX,
                    y: a.changedTouches[0].pageY,
                    type: "touch"
                })), Ca("touchRelease", a, b));
                var k = -1;
                if (0 === j && (U = !1, e.unbind(window, p, f), yb(), _ ? k = 0 : -1 !== rb && (k = Da() - rb)), rb = 1 === j ? Da() : -1, g = -1 !== k && 150 > k ? "zoom" : "swipe", _ && 2 > j && (_ = !1, 1 === j && (g = "zoomPointerUp"), Ca("zoomGestureEnded")), $ = null, X || W || ea || S) if (bb(), Q || (Q = Rb()), Q.calculateSwipeSpeed("x"), S) {
                    var l = Hb();
                    if (l < i.verticalDragRange) f.close(); else {
                        var m = oa.y, n = ia;
                        cb("verticalDrag", 0, 1, 300, e.easing.cubic.out, function (a) {
                            oa.y = (f.currItem.initialPosition.y - m) * a + m, Ea((1 - n) * a + n), Ga()
                        }), Ca("onVerticalDrag", 1)
                    }
                } else {
                    if ((Z || ea) && 0 === j) {
                        var o = Tb(g, Q);
                        if (o) return;
                        g = "zoomPointerUp"
                    }
                    if (!ea) return "swipe" !== g ? void Vb() : void (!Z && s > f.currItem.fitRatio && Sb(Q))
                }
            }, Rb = function () {
                var a, b, c = {
                    lastFlickOffset: {},
                    lastFlickDist: {},
                    lastFlickSpeed: {},
                    slowDownRatio: {},
                    slowDownRatioReverse: {},
                    speedDecelerationRatio: {},
                    speedDecelerationRatioAbs: {},
                    distanceOffset: {},
                    backAnimDestination: {},
                    backAnimStarted: {},
                    calculateSwipeSpeed: function (d) {
                        nb.length > 1 ? (a = Da() - P + 50, b = nb[nb.length - 2][d]) : (a = Da() - O, b = kb[d]), c.lastFlickOffset[d] = jb[d] - b, c.lastFlickDist[d] = Math.abs(c.lastFlickOffset[d]), c.lastFlickDist[d] > 20 ? c.lastFlickSpeed[d] = c.lastFlickOffset[d] / a : c.lastFlickSpeed[d] = 0, Math.abs(c.lastFlickSpeed[d]) < .1 && (c.lastFlickSpeed[d] = 0), c.slowDownRatio[d] = .95, c.slowDownRatioReverse[d] = 1 - c.slowDownRatio[d], c.speedDecelerationRatio[d] = 1
                    },
                    calculateOverBoundsAnimOffset: function (a, b) {
                        c.backAnimStarted[a] || (oa[a] > ca.min[a] ? c.backAnimDestination[a] = ca.min[a] : oa[a] < ca.max[a] && (c.backAnimDestination[a] = ca.max[a]), void 0 !== c.backAnimDestination[a] && (c.slowDownRatio[a] = .7, c.slowDownRatioReverse[a] = 1 - c.slowDownRatio[a], c.speedDecelerationRatioAbs[a] < .05 && (c.lastFlickSpeed[a] = 0, c.backAnimStarted[a] = !0, cb("bounceZoomPan" + a, oa[a], c.backAnimDestination[a], b || 300, e.easing.sine.out, function (b) {
                            oa[a] = b, Ga()
                        }))))
                    },
                    calculateAnimOffset: function (a) {
                        c.backAnimStarted[a] || (c.speedDecelerationRatio[a] = c.speedDecelerationRatio[a] * (c.slowDownRatio[a] + c.slowDownRatioReverse[a] - c.slowDownRatioReverse[a] * c.timeDiff / 10), c.speedDecelerationRatioAbs[a] = Math.abs(c.lastFlickSpeed[a] * c.speedDecelerationRatio[a]), c.distanceOffset[a] = c.lastFlickSpeed[a] * c.speedDecelerationRatio[a] * c.timeDiff, oa[a] += c.distanceOffset[a])
                    },
                    panAnimLoop: function () {
                        return Za.zoomPan && (Za.zoomPan.raf = H(c.panAnimLoop), c.now = Da(), c.timeDiff = c.now - c.lastNow, c.lastNow = c.now, c.calculateAnimOffset("x"), c.calculateAnimOffset("y"), Ga(), c.calculateOverBoundsAnimOffset("x"), c.calculateOverBoundsAnimOffset("y"), c.speedDecelerationRatioAbs.x < .05 && c.speedDecelerationRatioAbs.y < .05) ? (oa.x = Math.round(oa.x), oa.y = Math.round(oa.y), Ga(), void _a("zoomPan")) : void 0
                    }
                };
                return c
            }, Sb = function (a) {
                return a.calculateSwipeSpeed("y"), ca = f.currItem.bounds, a.backAnimDestination = {}, a.backAnimStarted = {}, Math.abs(a.lastFlickSpeed.x) <= .05 && Math.abs(a.lastFlickSpeed.y) <= .05 ? (a.speedDecelerationRatioAbs.x = a.speedDecelerationRatioAbs.y = 0, a.calculateOverBoundsAnimOffset("x"), a.calculateOverBoundsAnimOffset("y"), !0) : (ab("zoomPan"), a.lastNow = Da(), void a.panAnimLoop())
            }, Tb = function (a, b) {
                var c;
                ea || (pb = m);
                var d;
                if ("swipe" === a) {
                    var g = jb.x - kb.x, h = b.lastFlickDist.x < 10;
                    g > eb && (h || b.lastFlickOffset.x > 20) ? d = -1 : -eb > g && (h || b.lastFlickOffset.x < -20) && (d = 1)
                }
                var j;
                d && (m += d, 0 > m ? (m = i.loop ? _b() - 1 : 0, j = !0) : m >= _b() && (m = i.loop ? 0 : _b() - 1, j = !0), (!j || i.loop) && (ta += d, qa -= d, c = !0));
                var k, l = sa.x * qa, n = Math.abs(l - sb.x);
                return c || l > sb.x == b.lastFlickSpeed.x > 0 ? (k = Math.abs(b.lastFlickSpeed.x) > 0 ? n / Math.abs(b.lastFlickSpeed.x) : 333, k = Math.min(k, 400), k = Math.max(k, 250)) : k = 333, pb === m && (c = !1), ea = !0, Ca("mainScrollAnimStart"), cb("mainScroll", sb.x, l, k, e.easing.cubic.out, Ja, function () {
                    bb(), ea = !1, pb = -1, (c || pb !== m) && f.updateCurrItem(), Ca("mainScrollAnimComplete")
                }), c && f.updateCurrItem(!0), c
            }, Ub = function (a) {
                return 1 / ba * a * t
            }, Vb = function () {
                var a = s, b = Sa(), c = Ta();
                b > s ? a = b : s > c && (a = c);
                var d, g = 1, h = ia;
                return ha && !R && !ja && b > s ? (f.close(), !0) : (ha && (d = function (a) {
                    Ea((g - h) * a + h)
                }), f.zoomTo(a, 0, 200, e.easing.cubic.out, d), !0)
            };
        ya("Gestures", {
            publicMethods: {
                initGestures: function () {
                    var a = function (a, b, c, d, e) {
                        A = a + b, B = a + c, C = a + d, D = e ? a + e : ""
                    };
                    F = N.pointerEvent, F && N.touch && (N.touch = !1), F ? navigator.pointerEnabled ? a("pointer", "down", "move", "up", "cancel") : a("MSPointer", "Down", "Move", "Up", "Cancel") : N.touch ? (a("touch", "start", "move", "end", "cancel"), G = !0) : a("mouse", "down", "move", "up"), p = B + " " + C + " " + D, q = A, F && !G && (G = navigator.maxTouchPoints > 1 || navigator.msMaxTouchPoints > 1), f.likelyTouchDevice = G, r[A] = Nb, r[B] = Ob, r[C] = Qb, D && (r[D] = r[C]), N.touch && (q += " mousedown", p += " mousemove mouseup", r.mousedown = r[A], r.mousemove = r[B], r.mouseup = r[C]), G || (i.allowPanToNext = !1)
                }
            }
        });
        var Wb, Xb, Yb, Zb, $b, _b, ac, bc = function (b, c, d, g) {
            Wb && clearTimeout(Wb), Zb = !0, Yb = !0;
            var h;
            b.initialLayout ? (h = b.initialLayout, b.initialLayout = null) : h = i.getThumbBoundsFn && i.getThumbBoundsFn(m);
            var j = d ? i.hideAnimationDuration : i.showAnimationDuration, k = function () {
                _a("initialZoom"), d ? (f.template.removeAttribute("style"), f.bg.removeAttribute("style")) : (Ea(1), c && (c.style.display = "block"), e.addClass(a, "pswp--animated-in"), Ca("initialZoom" + (d ? "OutEnd" : "InEnd"))), g && g(), Zb = !1
            };
            if (!j || !h || void 0 === h.x) return Ca("initialZoom" + (d ? "Out" : "In")), s = b.initialZoomLevel, La(oa, b.initialPosition), Ga(), a.style.opacity = d ? 0 : 1, Ea(1), void (j ? setTimeout(function () {
                k()
            }, j) : k());
            var n = function () {
                var c = l, g = !f.currItem.src || f.currItem.loadError || i.showHideOpacity;
                b.miniImg && (b.miniImg.style.webkitBackfaceVisibility = "hidden"), d || (s = h.w / b.w, oa.x = h.x, oa.y = h.y - K, f[g ? "template" : "bg"].style.opacity = .001, Ga()), ab("initialZoom"), d && !c && e.removeClass(a, "pswp--animated-in"), g && (d ? e[(c ? "remove" : "add") + "Class"](a, "pswp--animate_opacity") : setTimeout(function () {
                    e.addClass(a, "pswp--animate_opacity")
                }, 30)), Wb = setTimeout(function () {
                    if (Ca("initialZoom" + (d ? "Out" : "In")), d) {
                        var f = h.w / b.w, i = {x: oa.x, y: oa.y}, l = s, m = ia, n = function (b) {
                            1 === b ? (s = f, oa.x = h.x, oa.y = h.y - M) : (s = (f - l) * b + l, oa.x = (h.x - i.x) * b + i.x, oa.y = (h.y - M - i.y) * b + i.y), Ga(), g ? a.style.opacity = 1 - b : Ea(m - b * m)
                        };
                        c ? cb("initialZoom", 0, 1, j, e.easing.cubic.out, n, k) : (n(1), Wb = setTimeout(k, j + 20))
                    } else s = b.initialZoomLevel, La(oa, b.initialPosition), Ga(), Ea(1), g ? a.style.opacity = 1 : Ea(1), Wb = setTimeout(k, j + 20)
                }, d ? 25 : 90)
            };
            n()
        }, cc = {}, dc = [], ec = {
            index: 0,
            errorMsg: '<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',
            forceProgressiveLoading: !1,
            preload: [1, 1],
            getNumItemsFn: function () {
                return Xb.length
            }
        }, fc = function () {
            return {center: {x: 0, y: 0}, max: {x: 0, y: 0}, min: {x: 0, y: 0}}
        }, gc = function (a, b, c) {
            var d = a.bounds;
            d.center.x = Math.round((cc.x - b) / 2), d.center.y = Math.round((cc.y - c) / 2) + a.vGap.top, d.max.x = b > cc.x ? Math.round(cc.x - b) : d.center.x, d.max.y = c > cc.y ? Math.round(cc.y - c) + a.vGap.top : d.center.y, d.min.x = b > cc.x ? 0 : d.center.x, d.min.y = c > cc.y ? a.vGap.top : d.center.y
        }, hc = function (a, b, c) {
            if (a.src && !a.loadError) {
                var d = !c;
                if (d && (a.vGap || (a.vGap = {
                    top: 0,
                    bottom: 0
                }), Ca("parseVerticalMargin", a)), cc.x = b.x, cc.y = b.y - a.vGap.top - a.vGap.bottom, d) {
                    var e = cc.x / a.w, f = cc.y / a.h;
                    a.fitRatio = f > e ? e : f;
                    var g = i.scaleMode;
                    "orig" === g ? c = 1 : "fit" === g && (c = a.fitRatio), c > 1 && (c = 1), a.initialZoomLevel = c, a.bounds || (a.bounds = fc())
                }
                if (!c) return;
                return gc(a, a.w * c, a.h * c), d && c === a.initialZoomLevel && (a.initialPosition = a.bounds.center), a.bounds
            }
            return a.w = a.h = 0, a.initialZoomLevel = a.fitRatio = 1, a.bounds = fc(), a.initialPosition = a.bounds.center, a.bounds
        }, ic = function (a, b, c, d, e, f) {
            b.loadError || d && (b.imageAppended = !0, lc(b, d), c.appendChild(d), f && setTimeout(function () {
                b && b.loaded && b.placeholder && (b.placeholder.style.display = "none", b.placeholder = null)
            }, 500))
        }, jc = function (a) {
            a.loading = !0, a.loaded = !1;
            var b = a.img = e.createEl("pswp__img", "img"), c = function () {
                a.loading = !1, a.loaded = !0, a.loadComplete ? a.loadComplete(a) : a.img = null, b.onload = b.onerror = null, b = null
            };
            return b.onload = c, b.onerror = function () {
                a.loadError = !0, c()
            }, b.src = a.src, b
        }, kc = function (a, b) {
            return a.src && a.loadError && a.container ? (b && (a.container.innerHTML = ""), a.container.innerHTML = i.errorMsg.replace("%url%", a.src), !0) : void 0
        }, lc = function (a, b, c) {
            if (a.src) {
                b || (b = a.container.lastChild);
                var d = c ? a.w : Math.round(a.w * a.fitRatio), e = c ? a.h : Math.round(a.h * a.fitRatio);
                a.placeholder && !a.loaded && (a.placeholder.style.width = d + "px", a.placeholder.style.height = e + "px"), b.style.width = d + "px", b.style.height = e + "px"
            }
        }, mc = function () {
            if (dc.length) {
                for (var a, b = 0; b < dc.length; b++) a = dc[b], a.holder.index === a.index && ic(a.index, a.item, a.baseDiv, a.img, !1, a.clearPlaceholder);
                dc = []
            }
        };
        ya("Controller", {
            publicMethods: {
                lazyLoadItem: function (a) {
                    a = za(a);
                    var b = $b(a);
                    b && (!b.loaded && !b.loading || x) && (Ca("gettingData", a, b), b.src && jc(b))
                }, initController: function () {
                    e.extend(i, ec, !0), f.items = Xb = c, $b = f.getItemAt, _b = i.getNumItemsFn, ac = i.loop, _b() < 3 && (i.loop = !1), Ba("beforeChange", function (a) {
                        var b, c = i.preload, d = null === a ? !0 : a >= 0, e = Math.min(c[0], _b()),
                            g = Math.min(c[1], _b());
                        for (b = 1; (d ? g : e) >= b; b++) f.lazyLoadItem(m + b);
                        for (b = 1; (d ? e : g) >= b; b++) f.lazyLoadItem(m - b)
                    }), Ba("initialLayout", function () {
                        f.currItem.initialLayout = i.getThumbBoundsFn && i.getThumbBoundsFn(m)
                    }), Ba("mainScrollAnimComplete", mc), Ba("initialZoomInEnd", mc), Ba("destroy", function () {
                        for (var a, b = 0; b < Xb.length; b++) a = Xb[b], a.container && (a.container = null), a.placeholder && (a.placeholder = null), a.img && (a.img = null), a.preloader && (a.preloader = null), a.loadError && (a.loaded = a.loadError = !1);
                        dc = null
                    })
                }, getItemAt: function (a) {
                    return a >= 0 && void 0 !== Xb[a] ? Xb[a] : !1
                }, allowProgressiveImg: function () {
                    return i.forceProgressiveLoading || !G || i.mouseUsed || screen.width > 1200
                }, setContent: function (a, b) {
                    i.loop && (b = za(b));
                    var c = f.getItemAt(a.index);
                    c && (c.container = null);
                    var d, g = f.getItemAt(b);
                    if (!g) return void (a.el.innerHTML = "");
                    Ca("gettingData", b, g), a.index = b, a.item = g;
                    var h = g.container = e.createEl("pswp__zoom-wrap");
                    if (!g.src && g.html && (g.html.tagName ? h.appendChild(g.html) : h.innerHTML = g.html), kc(g), hc(g, pa), !g.src || g.loadError || g.loaded) g.src && !g.loadError && (d = e.createEl("pswp__img", "img"), d.style.opacity = 1, d.src = g.src, lc(g, d), ic(b, g, h, d, !0)); else {
                        if (g.loadComplete = function (c) {
                            if (j) {
                                if (a && a.index === b) {
                                    if (kc(c, !0)) return c.loadComplete = c.img = null, hc(c, pa), Ha(c), void (a.index === m && f.updateCurrZoomItem());
                                    c.imageAppended ? !Zb && c.placeholder && (c.placeholder.style.display = "none", c.placeholder = null) : N.transform && (ea || Zb) ? dc.push({
                                        item: c,
                                        baseDiv: h,
                                        img: c.img,
                                        index: b,
                                        holder: a,
                                        clearPlaceholder: !0
                                    }) : ic(b, c, h, c.img, ea || Zb, !0)
                                }
                                c.loadComplete = null, c.img = null, Ca("imageLoadComplete", b, c)
                            }
                        }, e.features.transform) {
                            var k = "pswp__img pswp__img--placeholder";
                            k += g.msrc ? "" : " pswp__img--placeholder--blank";
                            var l = e.createEl(k, g.msrc ? "img" : "");
                            g.msrc && (l.src = g.msrc), lc(g, l), h.appendChild(l), g.placeholder = l
                        }
                        g.loading || jc(g), f.allowProgressiveImg() && (!Yb && N.transform ? dc.push({
                            item: g,
                            baseDiv: h,
                            img: g.img,
                            index: b,
                            holder: a
                        }) : ic(b, g, h, g.img, !0, !0))
                    }
                    Yb || b !== m ? Ha(g) : (da = h.style, bc(g, d || g.img)), a.el.innerHTML = "", a.el.appendChild(h)
                }, cleanSlide: function (a) {
                    a.img && (a.img.onload = a.img.onerror = null), a.loaded = a.loading = a.img = a.imageAppended = !1
                }
            }
        });
        var nc, oc = {}, pc = function (a, b, c) {
            var d = document.createEvent("CustomEvent"),
                e = {origEvent: a, target: a.target, releasePoint: b, pointerType: c || "touch"};
            d.initCustomEvent("pswpTap", !0, !0, e), a.target.dispatchEvent(d)
        };
        ya("Tap", {
            publicMethods: {
                initTap: function () {
                    Ba("firstTouchStart", f.onTapStart), Ba("touchRelease", f.onTapRelease), Ba("destroy", function () {
                        oc = {}, nc = null
                    })
                }, onTapStart: function (a) {
                    a.length > 1 && (clearTimeout(nc), nc = null)
                }, onTapRelease: function (a, b) {
                    if (b && !X && !V && !$a) {
                        var c = b;
                        if (nc && (clearTimeout(nc), nc = null, wb(c, oc))) return void Ca("doubleTap", c);
                        if ("mouse" === b.type) return void pc(a, b, "mouse");
                        var d = a.target.tagName.toUpperCase();
                        if ("BUTTON" === d || e.hasClass(a.target, "pswp__single-tap")) return void pc(a, b);
                        La(oc, c), nc = setTimeout(function () {
                            pc(a, b), nc = null
                        }, 300)
                    }
                }
            }
        });
        var qc;
        ya("DesktopZoom", {
            publicMethods: {
                initDesktopZoom: function () {
                    L || (G ? Ba("mouseUsed", function () {
                        f.setupDesktopZoom()
                    }) : f.setupDesktopZoom(!0))
                }, setupDesktopZoom: function (b) {
                    qc = {};
                    var c = "wheel mousewheel DOMMouseScroll";
                    Ba("bindEvents", function () {
                        e.bind(a, c, f.handleMouseWheel)
                    }), Ba("unbindEvents", function () {
                        qc && e.unbind(a, c, f.handleMouseWheel)
                    }), f.mouseZoomedIn = !1;
                    var d, g = function () {
                        f.mouseZoomedIn && (e.removeClass(a, "pswp--zoomed-in"), f.mouseZoomedIn = !1), 1 > s ? e.addClass(a, "pswp--zoom-allowed") : e.removeClass(a, "pswp--zoom-allowed"), h()
                    }, h = function () {
                        d && (e.removeClass(a, "pswp--dragging"), d = !1)
                    };
                    Ba("resize", g), Ba("afterChange", g), Ba("pointerDown", function () {
                        f.mouseZoomedIn && (d = !0, e.addClass(a, "pswp--dragging"))
                    }), Ba("pointerUp", h), b || g()
                }, handleMouseWheel: function (a) {
                    if (s <= f.currItem.fitRatio) return i.modal && (!i.closeOnScroll || $a || U ? a.preventDefault() : E && Math.abs(a.deltaY) > 2 && (l = !0, f.close())), !0;
                    if (a.stopPropagation(), qc.x = 0, "deltaX" in a) 1 === a.deltaMode ? (qc.x = 18 * a.deltaX, qc.y = 18 * a.deltaY) : (qc.x = a.deltaX, qc.y = a.deltaY); else if ("wheelDelta" in a) a.wheelDeltaX && (qc.x = -.16 * a.wheelDeltaX), a.wheelDeltaY ? qc.y = -.16 * a.wheelDeltaY : qc.y = -.16 * a.wheelDelta; else {
                        if (!("detail" in a)) return;
                        qc.y = a.detail
                    }
                    Ra(s, !0);
                    var b = oa.x - qc.x, c = oa.y - qc.y;
                    (i.modal || b <= ca.min.x && b >= ca.max.x && c <= ca.min.y && c >= ca.max.y) && a.preventDefault(), f.panTo(b, c)
                }, toggleDesktopZoom: function (b) {
                    b = b || {x: pa.x / 2 + ra.x, y: pa.y / 2 + ra.y};
                    var c = i.getDoubleTapZoom(!0, f.currItem), d = s === c;
                    f.mouseZoomedIn = !d, f.zoomTo(d ? f.currItem.initialZoomLevel : c, b, 333), e[(d ? "remove" : "add") + "Class"](a, "pswp--zoomed-in")
                }
            }
        });
        var rc, sc, tc, uc, vc, wc, xc, yc, zc, Ac, Bc, Cc, Dc = {history: !0, galleryUID: 1}, Ec = function () {
            return Bc.hash.substring(1)
        }, Fc = function () {
            rc && clearTimeout(rc), tc && clearTimeout(tc)
        }, Gc = function () {
            var a = Ec(), b = {};
            if (a.length < 5) return b;
            var c, d = a.split("&");
            for (c = 0; c < d.length; c++) if (d[c]) {
                var e = d[c].split("=");
                e.length < 2 || (b[e[0]] = e[1])
            }
            if (i.galleryPIDs) {
                var f = b.pid;
                for (b.pid = 0, c = 0; c < Xb.length; c++) if (Xb[c].pid === f) {
                    b.pid = c;
                    break
                }
            } else b.pid = parseInt(b.pid, 10) - 1;
            return b.pid < 0 && (b.pid = 0), b
        }, Hc = function () {
            if (tc && clearTimeout(tc), $a || U) return void (tc = setTimeout(Hc, 500));
            uc ? clearTimeout(sc) : uc = !0;
            var a = m + 1, b = $b(m);
            b.hasOwnProperty("pid") && (a = b.pid);
            var c = xc + "&gid=" + i.galleryUID + "&pid=" + a;
            yc || -1 === Bc.hash.indexOf(c) && (Ac = !0);
            var d = Bc.href.split("#")[0] + "#" + c;
            Cc ? "#" + c !== window.location.hash && history[yc ? "replaceState" : "pushState"]("", document.title, d) : yc ? Bc.replace(d) : Bc.hash = c, yc = !0, sc = setTimeout(function () {
                uc = !1
            }, 60)
        };
        ya("History", {
            publicMethods: {
                initHistory: function () {
                    if (e.extend(i, Dc, !0), i.history) {
                        Bc = window.location, Ac = !1, zc = !1, yc = !1, xc = Ec(), Cc = "pushState" in history, xc.indexOf("gid=") > -1 && (xc = xc.split("&gid=")[0], xc = xc.split("?gid=")[0]), Ba("afterChange", f.updateURL), Ba("unbindEvents", function () {
                            e.unbind(window, "hashchange", f.onHashChange)
                        });
                        var a = function () {
                            wc = !0, zc || (Ac ? history.back() : xc ? Bc.hash = xc : Cc ? history.pushState("", document.title, Bc.pathname + Bc.search) : Bc.hash = ""), Fc()
                        };
                        Ba("unbindEvents", function () {
                            l && a()
                        }), Ba("destroy", function () {
                            wc || a()
                        }), Ba("firstUpdate", function () {
                            m = Gc().pid
                        });
                        var b = xc.indexOf("pid=");
                        b > -1 && (xc = xc.substring(0, b), "&" === xc.slice(-1) && (xc = xc.slice(0, -1))), setTimeout(function () {
                            j && e.bind(window, "hashchange", f.onHashChange)
                        }, 40)
                    }
                }, onHashChange: function () {
                    return Ec() === xc ? (zc = !0, void f.close()) : void (uc || (vc = !0, f.goTo(Gc().pid), vc = !1))
                }, updateURL: function () {
                    Fc(), vc || (yc ? rc = setTimeout(Hc, 800) : Hc())
                }
            }
        }), e.extend(f, db)
    };
    return a
});
/*! PhotoSwipe Default UI - 4.1.0 - 2015-07-11
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function (a, b) {
    "function" == typeof define && define.amd ? define(b) : "object" == typeof exports ? module.exports = b() : a.PhotoSwipeUI_Default = b()
}(this, function () {
    "use strict";
    var a = function (a, b) {
        var c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v = this, w = !1, x = !0, y = !0, z = {
            barsSize: {top: 44, bottom: "auto"},
            closeElClasses: ["item", "caption", "zoom-wrap", "ui", "top-bar"],
            timeToIdle: 4e3,
            timeToIdleOutside: 1e3,
            loadingIndicatorDelay: 1e3,
            addCaptionHTMLFn: function (a, b) {
                return a.title ? (b.children[0].innerHTML = a.title, !0) : (b.children[0].innerHTML = "", !1)
            },
            closeEl: !0,
            captionEl: !0,
            fullscreenEl: !0,
            zoomEl: !0,
            shareEl: !0,
            counterEl: !0,
            arrowEl: !0,
            preloaderEl: !0,
            tapToClose: !1,
            tapToToggleControls: !0,
            clickToCloseNonZoomable: !0,
            shareButtons: [{
                id: "facebook",
                label: "Share on Facebook",
                url: "https://www.facebook.com/sharer/sharer.php?u={{url}}"
            }, {
                id: "twitter",
                label: "Tweet",
                url: "https://twitter.com/intent/tweet?text={{text}}&url={{url}}"
            }, {
                id: "pinterest",
                label: "Pin it",
                url: "http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"
            }, {id: "download", label: "Download image", url: "{{raw_image_url}}", download: !0}],
            getImageURLForShare: function () {
                return a.currItem.src || ""
            },
            getPageURLForShare: function () {
                return window.location.href
            },
            getTextForShare: function () {
                return a.currItem.title || ""
            },
            indexIndicatorSep: " / "
        }, A = function (a) {
            if (r) return !0;
            a = a || window.event, q.timeToIdle && q.mouseUsed && !k && K();
            for (var c, d, e = a.target || a.srcElement, f = e.className, g = 0; g < S.length; g++) c = S[g], c.onTap && f.indexOf("pswp__" + c.name) > -1 && (c.onTap(), d = !0);
            if (d) {
                a.stopPropagation && a.stopPropagation(), r = !0;
                var h = b.features.isOldAndroid ? 600 : 30;
                s = setTimeout(function () {
                    r = !1
                }, h)
            }
        }, B = function () {
            return !a.likelyTouchDevice || q.mouseUsed || screen.width > 1200
        }, C = function (a, c, d) {
            b[(d ? "add" : "remove") + "Class"](a, "pswp__" + c)
        }, D = function () {
            var a = 1 === q.getNumItemsFn();
            a !== p && (C(d, "ui--one-slide", a), p = a)
        }, E = function () {
            C(i, "share-modal--hidden", y)
        }, F = function () {
            return y = !y, y ? (b.removeClass(i, "pswp__share-modal--fade-in"), setTimeout(function () {
                y && E()
            }, 300)) : (E(), setTimeout(function () {
                y || b.addClass(i, "pswp__share-modal--fade-in")
            }, 30)), y || H(), !1
        }, G = function (b) {
            b = b || window.event;
            var c = b.target || b.srcElement;
            return a.shout("shareLinkClick", b, c), c.href ? c.hasAttribute("download") ? !0 : (window.open(c.href, "pswp_share", "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=" + (window.screen ? Math.round(screen.width / 2 - 275) : 100)), y || F(), !1) : !1
        }, H = function () {
            for (var a, b, c, d, e, f = "", g = 0; g < q.shareButtons.length; g++) a = q.shareButtons[g], c = q.getImageURLForShare(a), d = q.getPageURLForShare(a), e = q.getTextForShare(a), b = a.url.replace("{{url}}", encodeURIComponent(d)).replace("{{image_url}}", encodeURIComponent(c)).replace("{{raw_image_url}}", c).replace("{{text}}", encodeURIComponent(e)), f += '<a href="' + b + '" target="_blank" class="pswp__share--' + a.id + '"' + (a.download ? "download" : "") + ">" + a.label + "</a>", q.parseShareButtonOut && (f = q.parseShareButtonOut(a, f));
            i.children[0].innerHTML = f, i.children[0].onclick = G
        }, I = function (a) {
            for (var c = 0; c < q.closeElClasses.length; c++) if (b.hasClass(a, "pswp__" + q.closeElClasses[c])) return !0
        }, J = 0, K = function () {
            clearTimeout(u), J = 0, k && v.setIdle(!1)
        }, L = function (a) {
            a = a ? a : window.event;
            var b = a.relatedTarget || a.toElement;
            b && "HTML" !== b.nodeName || (clearTimeout(u), u = setTimeout(function () {
                v.setIdle(!0)
            }, q.timeToIdleOutside))
        }, M = function () {
            q.fullscreenEl && (c || (c = v.getFullscreenAPI()), c ? (b.bind(document, c.eventK, v.updateFullscreen), v.updateFullscreen(), b.addClass(a.template, "pswp--supports-fs")) : b.removeClass(a.template, "pswp--supports-fs"))
        }, N = function () {
            q.preloaderEl && (O(!0), l("beforeChange", function () {
                clearTimeout(o), o = setTimeout(function () {
                    a.currItem && a.currItem.loading ? (!a.allowProgressiveImg() || a.currItem.img && !a.currItem.img.naturalWidth) && O(!1) : O(!0)
                }, q.loadingIndicatorDelay)
            }), l("imageLoadComplete", function (b, c) {
                a.currItem === c && O(!0)
            }))
        }, O = function (a) {
            n !== a && (C(m, "preloader--active", !a), n = a)
        }, P = function (a) {
            var c = a.vGap;
            if (B()) {
                var g = q.barsSize;
                if (q.captionEl && "auto" === g.bottom) if (f || (f = b.createEl("pswp__caption pswp__caption--fake"), f.appendChild(b.createEl("pswp__caption__center")), d.insertBefore(f, e), b.addClass(d, "pswp__ui--fit")), q.addCaptionHTMLFn(a, f, !0)) {
                    var h = f.clientHeight;
                    c.bottom = parseInt(h, 10) || 44
                } else c.bottom = g.top; else c.bottom = "auto" === g.bottom ? 0 : g.bottom;
                c.top = g.top
            } else c.top = c.bottom = 0
        }, Q = function () {
            q.timeToIdle && l("mouseUsed", function () {
                b.bind(document, "mousemove", K), b.bind(document, "mouseout", L), t = setInterval(function () {
                    J++, 2 === J && v.setIdle(!0)
                }, q.timeToIdle / 2)
            })
        }, R = function () {
            l("onVerticalDrag", function (a) {
                x && .95 > a ? v.hideControls() : !x && a >= .95 && v.showControls()
            });
            var a;
            l("onPinchClose", function (b) {
                x && .9 > b ? (v.hideControls(), a = !0) : a && !x && b > .9 && v.showControls()
            }), l("zoomGestureEnded", function () {
                a = !1, a && !x && v.showControls()
            })
        }, S = [{
            name: "caption", option: "captionEl", onInit: function (a) {
                e = a
            }
        }, {
            name: "share-modal", option: "shareEl", onInit: function (a) {
                i = a
            }, onTap: function () {
                F()
            }
        }, {
            name: "button--share", option: "shareEl", onInit: function (a) {
                h = a
            }, onTap: function () {
                F()
            }
        }, {name: "button--zoom", option: "zoomEl", onTap: a.toggleDesktopZoom}, {
            name: "counter",
            option: "counterEl",
            onInit: function (a) {
                g = a
            }
        }, {name: "button--close", option: "closeEl", onTap: a.close}, {
            name: "button--arrow--left",
            option: "arrowEl",
            onTap: a.prev
        }, {name: "button--arrow--right", option: "arrowEl", onTap: a.next}, {
            name: "button--fs",
            option: "fullscreenEl",
            onTap: function () {
                c.isFullscreen() ? c.exit() : c.enter()
            }
        }, {
            name: "preloader", option: "preloaderEl", onInit: function (a) {
                m = a
            }
        }], T = function () {
            var a, c, e, f = function (d) {
                if (d) for (var f = d.length, g = 0; f > g; g++) {
                    a = d[g], c = a.className;
                    for (var h = 0; h < S.length; h++) e = S[h], c.indexOf("pswp__" + e.name) > -1 && (q[e.option] ? (b.removeClass(a, "pswp__element--disabled"), e.onInit && e.onInit(a)) : b.addClass(a, "pswp__element--disabled"))
                }
            };
            f(d.children);
            var g = b.getChildByClass(d, "pswp__top-bar");
            g && f(g.children)
        };
        v.init = function () {
            b.extend(a.options, z, !0), q = a.options, d = b.getChildByClass(a.scrollWrap, "pswp__ui"), l = a.listen, R(), l("beforeChange", v.update), l("doubleTap", function (b) {
                var c = a.currItem.initialZoomLevel;
                a.getZoomLevel() !== c ? a.zoomTo(c, b, 333) : a.zoomTo(q.getDoubleTapZoom(!1, a.currItem), b, 333)
            }), l("preventDragEvent", function (a, b, c) {
                var d = a.target || a.srcElement;
                d && d.className && a.type.indexOf("mouse") > -1 && (d.className.indexOf("__caption") > 0 || /(SMALL|STRONG|EM)/i.test(d.tagName)) && (c.prevent = !1)
            }), l("bindEvents", function () {
                b.bind(d, "pswpTap click", A), b.bind(a.scrollWrap, "pswpTap", v.onGlobalTap), a.likelyTouchDevice || b.bind(a.scrollWrap, "mouseover", v.onMouseOver)
            }), l("unbindEvents", function () {
                y || F(), t && clearInterval(t), b.unbind(document, "mouseout", L), b.unbind(document, "mousemove", K), b.unbind(d, "pswpTap click", A), b.unbind(a.scrollWrap, "pswpTap", v.onGlobalTap), b.unbind(a.scrollWrap, "mouseover", v.onMouseOver), c && (b.unbind(document, c.eventK, v.updateFullscreen), c.isFullscreen() && (q.hideAnimationDuration = 0, c.exit()), c = null)
            }), l("destroy", function () {
                q.captionEl && (f && d.removeChild(f), b.removeClass(e, "pswp__caption--empty")), i && (i.children[0].onclick = null), b.removeClass(d, "pswp__ui--over-close"), b.addClass(d, "pswp__ui--hidden"), v.setIdle(!1)
            }), q.showAnimationDuration || b.removeClass(d, "pswp__ui--hidden"), l("initialZoomIn", function () {
                q.showAnimationDuration && b.removeClass(d, "pswp__ui--hidden")
            }), l("initialZoomOut", function () {
                b.addClass(d, "pswp__ui--hidden")
            }), l("parseVerticalMargin", P), T(), q.shareEl && h && i && (y = !0), D(), Q(), M(), N()
        }, v.setIdle = function (a) {
            k = a, C(d, "ui--idle", a)
        }, v.update = function () {
            x && a.currItem ? (v.updateIndexIndicator(), q.captionEl && (q.addCaptionHTMLFn(a.currItem, e), C(e, "caption--empty", !a.currItem.title)), w = !0) : w = !1, y || F(), D()
        }, v.updateFullscreen = function (d) {
            d && setTimeout(function () {
                a.setScrollOffset(0, b.getScrollY())
            }, 50), b[(c.isFullscreen() ? "add" : "remove") + "Class"](a.template, "pswp--fs")
        }, v.updateIndexIndicator = function () {
            q.counterEl && (g.innerHTML = a.getCurrentIndex() + 1 + q.indexIndicatorSep + q.getNumItemsFn())
        }, v.onGlobalTap = function (c) {
            c = c || window.event;
            var d = c.target || c.srcElement;
            if (!r) if (c.detail && "mouse" === c.detail.pointerType) {
                if (I(d)) return void a.close();
                b.hasClass(d, "pswp__img") && (1 === a.getZoomLevel() && a.getZoomLevel() <= a.currItem.fitRatio ? q.clickToCloseNonZoomable && a.close() : a.toggleDesktopZoom(c.detail.releasePoint))
            } else if (q.tapToToggleControls && (x ? v.hideControls() : v.showControls()), q.tapToClose && (b.hasClass(d, "pswp__img") || I(d))) return void a.close()
        }, v.onMouseOver = function (a) {
            a = a || window.event;
            var b = a.target || a.srcElement;
            C(d, "ui--over-close", I(b))
        }, v.hideControls = function () {
            b.addClass(d, "pswp__ui--hidden"), x = !1
        }, v.showControls = function () {
            x = !0, w || v.update(), b.removeClass(d, "pswp__ui--hidden")
        }, v.supportsFullscreen = function () {
            var a = document;
            return !!(a.exitFullscreen || a.mozCancelFullScreen || a.webkitExitFullscreen || a.msExitFullscreen)
        }, v.getFullscreenAPI = function () {
            var b, c = document.documentElement, d = "fullscreenchange";
            return c.requestFullscreen ? b = {
                enterK: "requestFullscreen",
                exitK: "exitFullscreen",
                elementK: "fullscreenElement",
                eventK: d
            } : c.mozRequestFullScreen ? b = {
                enterK: "mozRequestFullScreen",
                exitK: "mozCancelFullScreen",
                elementK: "mozFullScreenElement",
                eventK: "moz" + d
            } : c.webkitRequestFullscreen ? b = {
                enterK: "webkitRequestFullscreen",
                exitK: "webkitExitFullscreen",
                elementK: "webkitFullscreenElement",
                eventK: "webkit" + d
            } : c.msRequestFullscreen && (b = {
                enterK: "msRequestFullscreen",
                exitK: "msExitFullscreen",
                elementK: "msFullscreenElement",
                eventK: "MSFullscreenChange"
            }), b && (b.enter = function () {
                return j = q.closeOnScroll, q.closeOnScroll = !1, "webkitRequestFullscreen" !== this.enterK ? a.template[this.enterK]() : void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)
            }, b.exit = function () {
                return q.closeOnScroll = j, document[this.exitK]()
            }, b.isFullscreen = function () {
                return document[this.elementK]
            }), b
        }
    };
    return a
});
/*! jQuery & Zepto Lazy v1.7.9 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2018 Daniel 'Eisbehr' Kern */
!function (t, e) {
    "use strict";

    function r(r, a, i, u, l) {
        function f() {
            L = t.devicePixelRatio > 1, i = c(i), a.delay >= 0 && setTimeout(function () {
                s(!0)
            }, a.delay), (a.delay < 0 || a.combined) && (u.e = v(a.throttle, function (t) {
                "resize" === t.type && (w = B = -1), s(t.all)
            }), u.a = function (t) {
                t = c(t), i.push.apply(i, t)
            }, u.g = function () {
                return i = n(i).filter(function () {
                    return !n(this).data(a.loadedName)
                })
            }, u.f = function (t) {
                for (var e = 0; e < t.length; e++) {
                    var r = i.filter(function () {
                        return this === t[e]
                    });
                    r.length && s(!1, r)
                }
            }, s(), n(a.appendScroll).on("scroll." + l + " resize." + l, u.e))
        }

        function c(t) {
            var i = a.defaultImage, o = a.placeholder, u = a.imageBase, l = a.srcsetAttribute, f = a.loaderAttribute,
                c = a._f || {};
            t = n(t).filter(function () {
                var t = n(this), r = m(this);
                return !t.data(a.handledName) && (t.attr(a.attribute) || t.attr(l) || t.attr(f) || c[r] !== e)
            }).data("plugin_" + a.name, r);
            for (var s = 0, d = t.length; s < d; s++) {
                var A = n(t[s]), g = m(t[s]), h = A.attr(a.imageBaseAttribute) || u;
                g === N && h && A.attr(l) && A.attr(l, b(A.attr(l), h)), c[g] === e || A.attr(f) || A.attr(f, c[g]), g === N && i && !A.attr(E) ? A.attr(E, i) : g === N || !o || A.css(O) && "none" !== A.css(O) || A.css(O, "url('" + o + "')")
            }
            return t
        }

        function s(t, e) {
            if (!i.length) return void (a.autoDestroy && r.destroy());
            for (var o = e || i, u = !1, l = a.imageBase || "", f = a.srcsetAttribute, c = a.handledName, s = 0; s < o.length; s++) if (t || e || A(o[s])) {
                var g = n(o[s]), h = m(o[s]), b = g.attr(a.attribute), v = g.attr(a.imageBaseAttribute) || l,
                    p = g.attr(a.loaderAttribute);
                g.data(c) || a.visibleOnly && !g.is(":visible") || !((b || g.attr(f)) && (h === N && (v + b !== g.attr(E) || g.attr(f) !== g.attr(F)) || h !== N && v + b !== g.css(O)) || p) || (u = !0, g.data(c, !0), d(g, h, v, p))
            }
            u && (i = n(i).filter(function () {
                return !n(this).data(c)
            }))
        }

        function d(t, e, r, i) {
            ++z;
            var o = function () {
                y("onError", t), p(), o = n.noop
            };
            y("beforeLoad", t);
            var u = a.attribute, l = a.srcsetAttribute, f = a.sizesAttribute, c = a.retinaAttribute,
                s = a.removeAttribute, d = a.loadedName, A = t.attr(c);
            if (i) {
                var g = function () {
                    s && t.removeAttr(a.loaderAttribute), t.data(d, !0), y(T, t), setTimeout(p, 1), g = n.noop
                };
                t.off(I).one(I, o).one(D, g), y(i, t, function (e) {
                    e ? (t.off(D), g()) : (t.off(I), o())
                }) || t.trigger(I)
            } else {
                var h = n(new Image);
                h.one(I, o).one(D, function () {
                    t.hide(), e === N ? t.attr(C, h.attr(C)).attr(F, h.attr(F)).attr(E, h.attr(E)) : t.css(O, "url('" + h.attr(E) + "')"), t[a.effect](a.effectTime), s && (t.removeAttr(u + " " + l + " " + c + " " + a.imageBaseAttribute), f !== C && t.removeAttr(f)), t.data(d, !0), y(T, t), h.remove(), p()
                });
                var m = (L && A ? A : t.attr(u)) || "";
                h.attr(C, t.attr(f)).attr(F, t.attr(l)).attr(E, m ? r + m : null), h.complete && h.trigger(D)
            }
        }

        function A(t) {
            var e = t.getBoundingClientRect(), r = a.scrollDirection, n = a.threshold,
                i = h() + n > e.top && -n < e.bottom, o = g() + n > e.left && -n < e.right;
            return "vertical" === r ? i : "horizontal" === r ? o : i && o
        }

        function g() {
            return w >= 0 ? w : w = n(t).width()
        }

        function h() {
            return B >= 0 ? B : B = n(t).height()
        }

        function m(t) {
            return t.tagName.toLowerCase()
        }

        function b(t, e) {
            if (e) {
                var r = t.split(",");
                t = "";
                for (var a = 0, n = r.length; a < n; a++) t += e + r[a].trim() + (a !== n - 1 ? "," : "")
            }
            return t
        }

        function v(t, e) {
            var n, i = 0;
            return function (o, u) {
                function l() {
                    i = +new Date, e.call(r, o)
                }

                var f = +new Date - i;
                n && clearTimeout(n), f > t || !a.enableThrottle || u ? l() : n = setTimeout(l, t - f)
            }
        }

        function p() {
            --z, i.length || z || y("onFinishedAll")
        }

        function y(t, e, n) {
            return !!(t = a[t]) && (t.apply(r, [].slice.call(arguments, 1)), !0)
        }

        var z = 0, w = -1, B = -1, L = !1, T = "afterLoad", D = "load", I = "error", N = "img", E = "src", F = "srcset",
            C = "sizes", O = "background-image";
        "event" === a.bind || o ? f() : n(t).on(D + "." + l, f)
    }

    function a(a, o) {
        var u = this, l = n.extend({}, u.config, o), f = {}, c = l.name + "-" + ++i;
        return u.config = function (t, r) {
            return r === e ? l[t] : (l[t] = r, u)
        }, u.addItems = function (t) {
            return f.a && f.a("string" === n.type(t) ? n(t) : t), u
        }, u.getItems = function () {
            return f.g ? f.g() : {}
        }, u.update = function (t) {
            return f.e && f.e({}, !t), u
        }, u.force = function (t) {
            return f.f && f.f("string" === n.type(t) ? n(t) : t), u
        }, u.loadAll = function () {
            return f.e && f.e({all: !0}, !0), u
        }, u.destroy = function () {
            return n(l.appendScroll).off("." + c, f.e), n(t).off("." + c), f = {}, e
        }, r(u, l, a, f, c), l.chainable ? a : u
    }

    var n = t.jQuery || t.Zepto, i = 0, o = !1;
    n.fn.Lazy = n.fn.lazy = function (t) {
        return new a(this, t)
    }, n.Lazy = n.lazy = function (t, r, i) {
        if (n.isFunction(r) && (i = r, r = []), n.isFunction(i)) {
            t = n.isArray(t) ? t : [t], r = n.isArray(r) ? r : [r];
            for (var o = a.prototype.config, u = o._f || (o._f = {}), l = 0, f = t.length; l < f; l++) (o[t[l]] === e || n.isFunction(o[t[l]])) && (o[t[l]] = i);
            for (var c = 0, s = r.length; c < s; c++) u[r[c]] = t[0]
        }
    }, a.prototype.config = {
        name: "lazy",
        chainable: !0,
        autoDestroy: !0,
        bind: "load",
        threshold: 500,
        visibleOnly: !1,
        appendScroll: t,
        scrollDirection: "both",
        imageBase: null,
        defaultImage: "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",
        placeholder: null,
        delay: -1,
        combined: !1,
        attribute: "data-src",
        srcsetAttribute: "data-srcset",
        sizesAttribute: "data-sizes",
        retinaAttribute: "data-retina",
        loaderAttribute: "data-loader",
        imageBaseAttribute: "data-imagebase",
        removeAttribute: !0,
        handledName: "handled",
        loadedName: "loaded",
        effect: "show",
        effectTime: 0,
        enableThrottle: !0,
        throttle: 250,
        beforeLoad: e,
        afterLoad: e,
        onError: e,
        onFinishedAll: e
    }, n(t).on("load", function () {
        o = !0
    })
}(window);

/*! jQuery & Zepto Lazy - All Plugins v1.7.9 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2018 Daniel 'Eisbehr' Kern */
!function (t) {
    function a(a, e, r, o) {
        o = o ? o.toUpperCase() : "GET";
        var i;
        "POST" !== o && "PUT" !== o || !a.config("ajaxCreateData") || (i = a.config("ajaxCreateData").apply(a, [e])), t.ajax({
            url: e.attr("data-src"),
            type: "POST" === o || "PUT" === o ? o : "GET",
            data: i,
            dataType: e.attr("data-type") || "html",
            success: function (t) {
                e.html(t), r(!0), a.config("removeAttribute") && e.removeAttr("data-src data-method data-type")
            },
            error: function () {
                r(!1)
            }
        })
    }

    t.lazy("ajax", function (t, e) {
        a(this, t, e, t.attr("data-method"))
    }), t.lazy("get", function (t, e) {
        a(this, t, e, "GET")
    }), t.lazy("post", function (t, e) {
        a(this, t, e, "POST")
    }), t.lazy("put", function (t, e) {
        a(this, t, e, "PUT")
    })
}(window.jQuery || window.Zepto), function (t) {
    t.lazy(["av", "audio", "video"], ["audio", "video"], function (a, e) {
        var r = a[0].tagName.toLowerCase();
        if ("audio" === r || "video" === r) {
            var o = a.find("data-src"), i = a.find("data-track"), n = 0, c = function () {
                ++n === o.length && e(!1)
            }, s = function () {
                var a = t(this), e = a[0].tagName.toLowerCase(), r = a.prop("attributes"),
                    o = t("data-src" === e ? "<source>" : "<track>");
                "data-src" === e && o.one("error", c), t.each(r, function (t, a) {
                    o.attr(a.name, a.value)
                }), a.replaceWith(o)
            };
            a.one("loadedmetadata", function () {
                e(!0)
            }).off("load error").attr("poster", a.attr("data-poster")), o.length ? o.each(s) : a.attr("data-src") ? (t.each(a.attr("data-src").split(","), function (e, r) {
                var o = r.split("|");
                a.append(t("<source>").one("error", c).attr({src: o[0].trim(), type: o[1].trim()}))
            }), this.config("removeAttribute") && a.removeAttr("data-src")) : e(!1), i.length && i.each(s)
        } else e(!1)
    })
}(window.jQuery || window.Zepto), function (t) {
    t.lazy(["frame", "iframe"], "iframe", function (a, e) {
        var r = this;
        if ("iframe" === a[0].tagName.toLowerCase()) {
            var o = a.attr("data-error-detect");
            "true" !== o && "1" !== o ? (a.attr("src", a.attr("data-src")), r.config("removeAttribute") && a.removeAttr("data-src data-error-detect")) : t.ajax({
                url: a.attr("data-src"),
                dataType: "html",
                crossDomain: !0,
                xhrFields: {withCredentials: !0},
                success: function (t) {
                    a.html(t).attr("src", a.attr("data-src")), r.config("removeAttribute") && a.removeAttr("data-src data-error-detect")
                },
                error: function () {
                    e(!1)
                }
            })
        } else e(!1)
    })
}(window.jQuery || window.Zepto), function (t) {
    t.lazy("noop", function () {
    }), t.lazy("noop-success", function (t, a) {
        a(!0)
    }), t.lazy("noop-error", function (t, a) {
        a(!1)
    })
}(window.jQuery || window.Zepto), function (t) {
    function a(a, e, i) {
        var n = a.prop("attributes"), c = t("<" + e + ">");
        return t.each(n, function (t, a) {
            "srcset" !== a.name && a.name !== o || (a.value = r(a.value, i)), c.attr(a.name, a.value)
        }), a.replaceWith(c), c
    }

    function e(a, e, r) {
        var o = t("<img>").one("load", function () {
            r(!0)
        }).one("error", function () {
            r(!1)
        }).appendTo(a).attr("src", e);
        o.complete && o.load()
    }

    function r(t, a) {
        if (a) {
            var e = t.split(",");
            t = "";
            for (var r = 0, o = e.length; r < o; r++) t += a + e[r].trim() + (r !== o - 1 ? "," : "")
        }
        return t
    }

    var o = "data-src";
    t.lazy(["pic", "picture"], ["picture"], function (i, n) {
        if ("picture" === i[0].tagName.toLowerCase()) {
            var c = i.find(o), s = i.find("data-img"), d = this.config("imageBase") || "";
            c.length ? (c.each(function () {
                a(t(this), "source", d)
            }), 1 === s.length ? (s = a(s, "img", d), s.on("load", function () {
                n(!0)
            }).on("error", function () {
                n(!1)
            }), s.attr("src", s.attr(o)), this.config("removeAttribute") && s.removeAttr(o)) : i.attr(o) ? (e(i, d + i.attr(o), n), this.config("removeAttribute") && i.removeAttr(o)) : n(!1)) : i.attr("data-srcset") ? (t("<source>").attr({
                media: i.attr("data-media"),
                sizes: i.attr("data-sizes"),
                type: i.attr("data-type"),
                srcset: r(i.attr("data-srcset"), d)
            }).appendTo(i), e(i, d + i.attr(o), n), this.config("removeAttribute") && i.removeAttr(o + " data-srcset data-media data-sizes data-type")) : n(!1)
        } else n(!1)
    })
}(window.jQuery || window.Zepto), function (t) {
    t.lazy(["js", "javascript", "script"], "script", function (t, a) {
        "script" === t[0].tagName.toLowerCase() ? (t.attr("src", t.attr("data-src")), this.config("removeAttribute") && t.removeAttr("data-src")) : a(!1)
    })
}(window.jQuery || window.Zepto), function (t) {
    t.lazy("vimeo", function (t, a) {
        "iframe" === t[0].tagName.toLowerCase() ? (t.attr("src", "https://player.vimeo.com/video/" + t.attr("data-src")), this.config("removeAttribute") && t.removeAttr("data-src")) : a(!1)
    })
}(window.jQuery || window.Zepto), function (t) {
    t.lazy(["yt", "youtube"], function (t, a) {
        "iframe" === t[0].tagName.toLowerCase() ? (t.attr("src", "https://www.youtube.com/embed/" + t.attr("data-src") + "?rel=0&amp;showinfo=0"), this.config("removeAttribute") && t.removeAttr("data-src")) : a(!1)
    })
}(window.jQuery || window.Zepto);
